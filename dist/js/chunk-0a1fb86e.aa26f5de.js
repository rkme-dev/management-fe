(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0a1fb86e"],{1681:function(t,e,a){},a844:function(t,e,a){"use strict";var o=a("5530"),s=(a("a9e3"),a("1681"),a("8654")),i=a("58df"),n=Object(i["a"])(s["a"]);e["a"]=n.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(t){return!isNaN(parseFloat(t))}},rows:{type:[Number,String],default:5,validator:function(t){return!isNaN(parseInt(t,10))}}},computed:{classes:function(){return Object(o["a"])({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},s["a"].options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{autoGrow:function(t){var e=this;this.$nextTick((function(){var a;t?e.calculateInputHeight():null==(a=e.$refs.input)||a.style.removeProperty("height")}))},lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var t=this;setTimeout((function(){t.autoGrow&&t.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var t=this.$refs.input;if(t){t.style.height="0";var e=t.scrollHeight,a=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(a,e)+"px"}},genInput:function(){var t=s["a"].options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput:function(t){s["a"].options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}})},c5a6:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"pa-3 mt-2",attrs:{flat:""}},[a("v-tabs",{attrs:{"show-arrows":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.tabs,(function(e){return a("v-tab",{key:e.icon,staticClass:"text-md"},[a("v-icon",{staticClass:"me-3",attrs:{size:"30"}},[t._v(" "+t._s(e.icon)+" ")]),a("span",[t._v(t._s(e.title))])],1)})),1),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",[a("v-alert",{directives:[{name:"show",rawName:"v-show",value:t.showAlert,expression:"showAlert"}],attrs:{dense:"",text:"",type:"success"}},[t._v(" Successfully "),a("strong",[t._v("approved")]),t._v(" a purchase order. You will be automatically redirected in a bit. ")]),a("v-form",{staticClass:"multi-col-validation"},[a("v-card-text",{staticClass:"pt-5"},[a("v-row",[a("v-col",{staticClass:"mt-6",attrs:{cols:"12"}},[a("h2",{staticClass:"font-weight-black mb-2 text-uppercase"},[t._v("Requested Raw Material Information")]),a("v-divider")],1),a("v-col",{attrs:{cols:"6"}},[a("v-img",{staticClass:"mt-10",attrs:{"aspect-ratio":"1.7","max-height":"250",contain:"","lazy-src":"https://picsum.photos/id/11/10/6",src:"https://picsum.photos/id/11/500/300"}})],1),a("v-col",{attrs:{cols:"6"}},[a("v-card-text",{staticClass:"mt-10"},[a("v-subheader",{staticClass:"font-weight-black"},[t._v(" Raw Materials In Stock ")]),a("v-simple-table",{attrs:{"fixed-header":""},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v(" Name ")]),a("th",{staticClass:"text-left"},[t._v(" Quantity In Stock ")])])]),a("tbody",t._l(t.products,(function(e){return a("tr",{key:e.name},[a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(e.in_stock))])])})),0)]},proxy:!0}])})],1)],1),a("v-col",{attrs:{cols:"12"}},[a("v-select",{attrs:{label:"Select a Supplier","item-text":"name","item-value":"id",dense:"",items:t.suppliers,"return-object":""},model:{value:t.optionsLocal.supplier,callback:function(e){t.$set(t.optionsLocal,"supplier",e)},expression:"optionsLocal.supplier"}})],1),a("v-col",{directives:[{name:"show",rawName:"v-show",value:t.optionsLocal.supplier,expression:"optionsLocal.supplier"}],staticClass:"mt-10",attrs:{cols:"12"}},[a("card-supplier-details",{attrs:{title:"Supplier Details",details:t.optionsLocal.supplier}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-card-text",{staticClass:"px-0"},[a("v-simple-table",{attrs:{"fixed-header":""},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v(" Material Name ")]),a("th",{staticClass:"text-left"},[t._v(" Requested Quantity ")])])]),a("tbody",t._l(t.orderItems,(function(e,o){return a("tr",{key:e.name},[a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(e.quantity))])])})),0)]},proxy:!0}])})],1)],1),a("v-col",{attrs:{cols:"7"}},[a("v-textarea",{attrs:{outlined:"",dense:"",label:"Description",readonly:"show"===t.mode,"hide-details":"auto","persistent-placeholder":"show"===t.mode},model:{value:t.optionsLocal.description,callback:function(e){t.$set(t.optionsLocal,"description",e)},expression:"optionsLocal.description"}})],1),a("v-col",{staticClass:" mb-6",attrs:{cols:"12"}},[a("h2",{staticClass:"font-weight-black mt-10 mb-2 text-uppercase"},[t._v("Downpayment Details")]),a("v-divider")],1),a("v-col",{attrs:{cols:"7"}},[a("v-text-field",{attrs:{outlined:"",dense:"",label:"FX Number",readonly:"show"===t.mode,"hide-details":"auto","persistent-placeholder":"show"===t.mode},model:{value:t.optionsLocal.fx_number,callback:function(e){t.$set(t.optionsLocal,"fx_number",e)},expression:"optionsLocal.fx_number"}})],1),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{prefix:"$",outlined:"",dense:"",label:"Total Amount Payable",readonly:"show"===t.mode,"hide-details":"auto","persistent-placeholder":"show"===t.mode},model:{value:t.optionsLocal.total,callback:function(e){t.$set(t.optionsLocal,"total",e)},expression:"optionsLocal.total"}})],1),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{prefix:"PHP",outlined:"",dense:"",label:"Current Conversion Rate",readonly:"show"===t.mode,"hide-details":"auto"},model:{value:t.optionsLocal.conversion_rate,callback:function(e){t.$set(t.optionsLocal,"conversion_rate",e)},expression:"optionsLocal.conversion_rate"}})],1),a("v-col",{attrs:{cols:"3"}},[a("v-select",{attrs:{label:"Downpayment","item-text":"text","item-value":"percentage",dense:"",prefix:"%",items:[{text:10,value:.1},20,30,40,50,60,70,80,90,100]},on:{input:t.test},model:{value:t.optionsLocal.percentage,callback:function(e){t.$set(t.optionsLocal,"percentage",e)},expression:"optionsLocal.percentage"}})],1),a("v-col",{attrs:{cols:"3"}},[a("span",[t._v("Converted Amount To Pay")])]),a("v-col",{attrs:{cols:"2"}},[a("span",{staticClass:"font-weight-black text-base"},[t._v("Amount in USD $"+t._s(t.dollarPercentageToPay))])]),a("v-col",{attrs:{cols:"2"}},[a("span",{staticClass:"font-weight-black text-base"},[t._v("Amount in PHP P"+t._s(t.pesoPercentageToPay))])]),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{prefix:"PHP",outlined:"",dense:"",label:"DP Paid Amount",readonly:"show"===t.mode,"hide-details":"auto","persistent-placeholder":"show"===t.mode},model:{value:t.pesoPercentageToPay,callback:function(e){t.pesoPercentageToPay=e},expression:"pesoPercentageToPay"}})],1)],1)],1),a("v-card-text",{staticClass:"mt-10"},[a("v-btn",{staticClass:"mr-3",attrs:{outlined:"",color:"primary"},on:{click:t.save}},[t._v(" Approve ")]),a("v-btn",{attrs:{outlined:"",type:"reset"},on:{click:function(e){return e.preventDefault(),t.goBack(e)}}},[t._v(" Back to List ")])],1)],1)],1),a("v-tab-item",[a("purchase-order-logs",{attrs:{"order-id":t.id}})],1)],1)],1)},s=[],i=a("c7eb"),n=a("1da1"),r=(a("b680"),a("d3b7"),a("25f0"),a("7db0"),a("a4d3"),a("e01a"),a("ed09")),l=a("a18c"),c=a("4360"),u=a("6c33"),p=a("7be3"),d=a("94ed"),v=a("1d0a"),h=a("4f96"),m={components:{PurchaseOrderLogs:v["a"],CardSupplierDetails:h["a"]},setup:function(){var t=l["a"].history.current.params.id,e=Object(r["a"])((function(){return c["a"].getters.errors})),a=Object(r["a"])((function(){return c["a"].getters.products})),o=Object(r["a"])((function(){return c["a"].getters.suppliers})),s=Object(r["g"])([]),v=Object(r["g"])([]),h=Object(r["g"])(!1),m=Object(r["g"])({fx_number:"",eta:"",items:{},total:0,percentage:0,description:"",paid_amount:"",balance:0}),b=Object(r["g"])(""),f=Object(r["g"])(""),x=Object(r["g"])(""),g=Object(r["g"])(""),w=function(){var t=m.value,e=(t.percentage/100).toFixed(2),a=parseFloat(t.conversion_rate).toFixed(2);f.value=(t.total*e).toFixed(2).toString(),x.value=(t.total*e*a).toFixed(2).toString(),g.value=(t.total-parseFloat(t.paid_amount)).toFixed(2).toString()};Object(r["e"])(Object(n["a"])(Object(i["a"])().mark((function e(){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p["a"].find(t).then((function(t){var e=t.data.data;m.value={description:e.order.description,fx_number:e.order.fx_id,items:{}},v.value=e.items}));case 2:case"end":return e.stop()}}),e)})))),c["a"].dispatch(u["k"]),c["a"].dispatch(u["q"]);var _=function(){l["a"].push("/purchase-orders")};Object(r["j"])(m,(function(){m.value.total&&m.value.paid_amount&&(m.value.balance=parseFloat(m.value.total)-parseFloat(m.value.paid_amount))}),{immediate:!0});var y=function(){h.value=!0,setTimeout((function(){_()}),5e3)},k=function(){var t=m.value;t.id=l["a"].history.current.params.id,t.usd_conversion=f.value,t.peso_conversion=x.value,t.dp_percentage=t.percentage,t.paid_amount=f.value,t.supplier_id=t.supplier.id,c["a"].dispatch(u["a"],t).then((function(t){null!=t&&y()}))},P=[{title:"Purchase Order Information",icon:d["P"]},{title:"Purchase Order Logs",icon:d["cb"]}];return{balance:g,id:t,tab:b,tabs:P,selectedItemTrigger:s,products:a,optionsLocal:m,goBack:_,save:k,showAlert:h,errors:e,orderItems:v,test:w,dollarPercentageToPay:f,pesoPercentageToPay:x,suppliers:o}}},b=m,f=a("2877"),x=a("6544"),g=a.n(x),w=a("0798"),_=a("8336"),y=a("b0af"),k=a("99d9"),P=a("62ad"),C=a("ce7e"),L=a("4bd4"),I=a("132d"),T=a("adda"),O=a("0fd9"),j=a("b974"),V=a("1f4f"),S=a("e0c7"),F=a("71a3"),H=a("c671"),$=a("fe57"),D=a("aac8"),N=a("8654"),A=a("a844"),R=Object(f["a"])(b,o,s,!1,null,null,null);e["default"]=R.exports;g()(R,{VAlert:w["a"],VBtn:_["a"],VCard:y["a"],VCardText:k["c"],VCol:P["a"],VDivider:C["a"],VForm:L["a"],VIcon:I["a"],VImg:T["a"],VRow:O["a"],VSelect:j["a"],VSimpleTable:V["a"],VSubheader:S["a"],VTab:F["a"],VTabItem:H["a"],VTabs:$["a"],VTabsItems:D["a"],VTextField:N["a"],VTextarea:A["a"]})}}]);
//# sourceMappingURL=chunk-0a1fb86e.aa26f5de.js.map