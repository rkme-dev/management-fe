{"version":3,"sources":["webpack:///../../../src/components/VTextarea/VTextarea.ts","webpack:///./src/views/pages/purchase-orders/purchase-order/PurchaseOrderApprove.vue?e473","webpack:///src/views/pages/purchase-orders/purchase-order/PurchaseOrderApprove.vue","webpack:///./src/views/pages/purchase-orders/purchase-order/PurchaseOrderApprove.vue?0b2e","webpack:///./src/views/pages/purchase-orders/purchase-order/PurchaseOrderApprove.vue"],"names":["baseMixins","mixins","VTextField","extend","name","props","autoGrow","Boolean","noResize","rowHeight","type","Number","String","default","validator","v","isNaN","parseFloat","rows","parseInt","computed","classes","this","noResizeHandle","options","call","watch","val","$nextTick","calculateInputHeight","$refs","input","_this$$refs$input","style","removeProperty","lazyValue","mounted","setTimeout","methods","height","scrollHeight","minHeight","Math","max","genInput","tag","data","attrs","onInput","e","onKeyDown","isFocused","keyCode","stopPropagation","$emit","render","_vm","_h","$createElement","_c","_self","staticClass","model","value","callback","$$v","tab","expression","_l","key","icon","_v","_s","title","directives","rawName","scopedSlots","_u","fn","item","in_stock","proxy","suppliers","optionsLocal","$set","supplier","quantity","mode","text","on","test","dollarPercentageToPay","pesoPercentageToPay","save","$event","preventDefault","goBack","id","staticRenderFns","components","PurchaseOrderLogs","CardSupplierDetails","setup","fx_number","eta","items","total","percentage","description","paid_amount","balance","onMounted","PurchaseOrdersService","then","orderItems","store","router","immediate","showAlert","currentForm","resolveFormSuccess","tabs","selectedItemTrigger","products","errors","component","VAlert","VBtn","VCard","VCardText","VCol","VDivider","VForm","VIcon","VImg","VRow","VSelect","VSimpleTable","VSubheader","VTab","VTabItem","VTabs","VTabsItems","VTextarea"],"mappings":"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","file":"js/chunk-0a1fb86e.aa26f5de.js","sourcesContent":["// Styles\nimport './VTextarea.sass'\n\n// Extensions\nimport VTextField from '../VTextField/VTextField'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\n// Types\nimport Vue from 'vue'\n\ninterface options extends Vue {\n  $refs: {\n    input: HTMLTextAreaElement\n  }\n}\n\nconst baseMixins = mixins<options &\n  InstanceType<typeof VTextField>\n>(\n  VTextField\n)\n\n/* @vue/component */\nexport default baseMixins.extend({\n  name: 'v-textarea',\n\n  props: {\n    autoGrow: Boolean,\n    noResize: Boolean,\n    rowHeight: {\n      type: [Number, String],\n      default: 24,\n      validator: (v: any) => !isNaN(parseFloat(v)),\n    },\n    rows: {\n      type: [Number, String],\n      default: 5,\n      validator: (v: any) => !isNaN(parseInt(v, 10)),\n    },\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        'v-textarea': true,\n        'v-textarea--auto-grow': this.autoGrow,\n        'v-textarea--no-resize': this.noResizeHandle,\n        ...VTextField.options.computed.classes.call(this),\n      }\n    },\n    noResizeHandle (): boolean {\n      return this.noResize || this.autoGrow\n    },\n  },\n\n  watch: {\n    autoGrow (val: boolean) {\n      this.$nextTick(() => {\n        val\n          ? this.calculateInputHeight()\n          : this.$refs.input?.style.removeProperty('height')\n      })\n    },\n    lazyValue () {\n      this.autoGrow && this.$nextTick(this.calculateInputHeight)\n    },\n    rowHeight () {\n      this.autoGrow && this.$nextTick(this.calculateInputHeight)\n    },\n  },\n\n  mounted () {\n    setTimeout(() => {\n      this.autoGrow && this.calculateInputHeight()\n    }, 0)\n  },\n\n  methods: {\n    calculateInputHeight () {\n      const input = this.$refs.input\n      if (!input) return\n\n      input.style.height = '0'\n      const height = input.scrollHeight\n      const minHeight = parseInt(this.rows, 10) * parseFloat(this.rowHeight)\n      // This has to be done ASAP, waiting for Vue\n      // to update the DOM causes ugly layout jumping\n      input.style.height = Math.max(minHeight, height) + 'px'\n    },\n    genInput () {\n      const input = VTextField.options.methods.genInput.call(this)\n\n      input.tag = 'textarea'\n      delete input.data!.attrs!.type\n      input.data!.attrs!.rows = this.rows\n\n      return input\n    },\n    onInput (e: Event) {\n      VTextField.options.methods.onInput.call(this, e)\n      this.autoGrow && this.calculateInputHeight()\n    },\n    onKeyDown (e: KeyboardEvent) {\n      // Prevents closing of a\n      // dialog when pressing\n      // enter\n      if (this.isFocused && e.keyCode === 13) {\n        e.stopPropagation()\n      }\n\n      this.$emit('keydown', e)\n    },\n  },\n})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"pa-3 mt-2\",attrs:{\"flat\":\"\"}},[_c('v-tabs',{attrs:{\"show-arrows\":\"\"},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},_vm._l((_vm.tabs),function(tab){return _c('v-tab',{key:tab.icon,staticClass:\"text-md\"},[_c('v-icon',{staticClass:\"me-3\",attrs:{\"size\":\"30\"}},[_vm._v(\" \"+_vm._s(tab.icon)+\" \")]),_c('span',[_vm._v(_vm._s(tab.title))])],1)}),1),_c('v-tabs-items',{model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tab-item',[_c('v-alert',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showAlert),expression:\"showAlert\"}],attrs:{\"dense\":\"\",\"text\":\"\",\"type\":\"success\"}},[_vm._v(\" Successfully \"),_c('strong',[_vm._v(\"approved\")]),_vm._v(\" a purchase order. You will be automatically redirected in a bit. \")]),_c('v-form',{staticClass:\"multi-col-validation\"},[_c('v-card-text',{staticClass:\"pt-5\"},[_c('v-row',[_c('v-col',{staticClass:\"mt-6\",attrs:{\"cols\":\"12\"}},[_c('h2',{staticClass:\"font-weight-black mb-2 text-uppercase\"},[_vm._v(\"Requested Raw Material Information\")]),_c('v-divider')],1),_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-img',{staticClass:\"mt-10\",attrs:{\"aspect-ratio\":\"1.7\",\"max-height\":\"250\",\"contain\":\"\",\"lazy-src\":\"https://picsum.photos/id/11/10/6\",\"src\":\"https://picsum.photos/id/11/500/300\"}})],1),_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-card-text',{staticClass:\"mt-10\"},[_c('v-subheader',{staticClass:\"font-weight-black\"},[_vm._v(\" Raw Materials In Stock \")]),_c('v-simple-table',{attrs:{\"fixed-header\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('thead',[_c('tr',[_c('th',{staticClass:\"text-left\"},[_vm._v(\" Name \")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\" Quantity In Stock \")])])]),_c('tbody',_vm._l((_vm.products),function(item){return _c('tr',{key:item.name},[_c('td',[_vm._v(_vm._s(item.name))]),_c('td',[_vm._v(_vm._s(item.in_stock))])])}),0)]},proxy:true}])})],1)],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-select',{attrs:{\"label\":\"Select a Supplier\",\"item-text\":\"name\",\"item-value\":\"id\",\"dense\":\"\",\"items\":_vm.suppliers,\"return-object\":\"\"},model:{value:(_vm.optionsLocal.supplier),callback:function ($$v) {_vm.$set(_vm.optionsLocal, \"supplier\", $$v)},expression:\"optionsLocal.supplier\"}})],1),_c('v-col',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.optionsLocal.supplier),expression:\"optionsLocal.supplier\"}],staticClass:\"mt-10\",attrs:{\"cols\":\"12\"}},[_c('card-supplier-details',{attrs:{\"title\":\"Supplier Details\",\"details\":_vm.optionsLocal.supplier}})],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card-text',{staticClass:\"px-0\"},[_c('v-simple-table',{attrs:{\"fixed-header\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('thead',[_c('tr',[_c('th',{staticClass:\"text-left\"},[_vm._v(\" Material Name \")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\" Requested Quantity \")])])]),_c('tbody',_vm._l((_vm.orderItems),function(item,key){return _c('tr',{key:item.name},[_c('td',[_vm._v(_vm._s(item.name))]),_c('td',[_vm._v(_vm._s(item.quantity))])])}),0)]},proxy:true}])})],1)],1),_c('v-col',{attrs:{\"cols\":\"7\"}},[_c('v-textarea',{attrs:{\"outlined\":\"\",\"dense\":\"\",\"label\":\"Description\",\"readonly\":_vm.mode === 'show',\"hide-details\":\"auto\",\"persistent-placeholder\":_vm.mode === 'show'},model:{value:(_vm.optionsLocal.description),callback:function ($$v) {_vm.$set(_vm.optionsLocal, \"description\", $$v)},expression:\"optionsLocal.description\"}})],1),_c('v-col',{staticClass:\" mb-6\",attrs:{\"cols\":\"12\"}},[_c('h2',{staticClass:\"font-weight-black mt-10 mb-2 text-uppercase\"},[_vm._v(\"Downpayment Details\")]),_c('v-divider')],1),_c('v-col',{attrs:{\"cols\":\"7\"}},[_c('v-text-field',{attrs:{\"outlined\":\"\",\"dense\":\"\",\"label\":\"FX Number\",\"readonly\":_vm.mode === 'show',\"hide-details\":\"auto\",\"persistent-placeholder\":_vm.mode === 'show'},model:{value:(_vm.optionsLocal.fx_number),callback:function ($$v) {_vm.$set(_vm.optionsLocal, \"fx_number\", $$v)},expression:\"optionsLocal.fx_number\"}})],1),_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-text-field',{attrs:{\"prefix\":\"$\",\"outlined\":\"\",\"dense\":\"\",\"label\":\"Total Amount Payable\",\"readonly\":_vm.mode === 'show',\"hide-details\":\"auto\",\"persistent-placeholder\":_vm.mode === 'show'},model:{value:(_vm.optionsLocal.total),callback:function ($$v) {_vm.$set(_vm.optionsLocal, \"total\", $$v)},expression:\"optionsLocal.total\"}})],1),_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-text-field',{attrs:{\"prefix\":\"PHP\",\"outlined\":\"\",\"dense\":\"\",\"label\":\"Current Conversion Rate\",\"readonly\":_vm.mode === 'show',\"hide-details\":\"auto\"},model:{value:(_vm.optionsLocal.conversion_rate),callback:function ($$v) {_vm.$set(_vm.optionsLocal, \"conversion_rate\", $$v)},expression:\"optionsLocal.conversion_rate\"}})],1),_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('v-select',{attrs:{\"label\":\"Downpayment\",\"item-text\":\"text\",\"item-value\":\"percentage\",\"dense\":\"\",\"prefix\":\"%\",\"items\":[{text:10,value:0.1},20,30,40,50,60,70,80,90,100]},on:{\"input\":_vm.test},model:{value:(_vm.optionsLocal.percentage),callback:function ($$v) {_vm.$set(_vm.optionsLocal, \"percentage\", $$v)},expression:\"optionsLocal.percentage\"}})],1),_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('span',[_vm._v(\"Converted Amount To Pay\")])]),_c('v-col',{attrs:{\"cols\":\"2\"}},[_c('span',{staticClass:\"font-weight-black text-base\"},[_vm._v(\"Amount in USD $\"+_vm._s(_vm.dollarPercentageToPay))])]),_c('v-col',{attrs:{\"cols\":\"2\"}},[_c('span',{staticClass:\"font-weight-black text-base\"},[_vm._v(\"Amount in PHP P\"+_vm._s(_vm.pesoPercentageToPay))])]),_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-text-field',{attrs:{\"prefix\":\"PHP\",\"outlined\":\"\",\"dense\":\"\",\"label\":\"DP Paid Amount\",\"readonly\":_vm.mode === 'show',\"hide-details\":\"auto\",\"persistent-placeholder\":_vm.mode === 'show'},model:{value:(_vm.pesoPercentageToPay),callback:function ($$v) {_vm.pesoPercentageToPay=$$v},expression:\"pesoPercentageToPay\"}})],1)],1)],1),_c('v-card-text',{staticClass:\"mt-10\"},[_c('v-btn',{staticClass:\"mr-3\",attrs:{\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\" Approve \")]),_c('v-btn',{attrs:{\"outlined\":\"\",\"type\":\"reset\"},on:{\"click\":function($event){$event.preventDefault();return _vm.goBack($event)}}},[_vm._v(\" Back to List \")])],1)],1)],1),_c('v-tab-item',[_c('purchase-order-logs',{attrs:{\"order-id\":_vm.id}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card\n    flat\n    class=\"pa-3 mt-2\"\n  >\n    <!-- tabs -->\n    <v-tabs\n      v-model=\"tab\"\n      show-arrows\n    >\n      <v-tab\n        v-for=\"tab in tabs\"\n        :key=\"tab.icon\"\n        class=\"text-md\"\n      >\n        <v-icon\n          size=\"30\"\n          class=\"me-3\"\n        >\n          {{ tab.icon }}\n        </v-icon>\n        <span>{{ tab.title }}</span>\n      </v-tab>\n    </v-tabs>\n\n    <!-- tabs item -->\n    <v-tabs-items v-model=\"tab\">\n      <v-tab-item>\n        <v-alert\n          v-show=\"showAlert\"\n          dense\n          text\n          type=\"success\"\n        >\n          Successfully <strong>approved</strong> a purchase order. You will be automatically\n          redirected in a bit.\n        </v-alert>\n        <v-form class=\"multi-col-validation\">\n          <v-card-text class=\"pt-5\">\n            <v-row>\n              <v-col\n                cols=\"12\"\n                class=\"mt-6\"\n              >\n                <h2 class=\"font-weight-black mb-2 text-uppercase\">Requested Raw Material Information</h2>\n                <v-divider />\n              </v-col>\n              <v-col cols=\"6\">\n                <v-img\n                  class=\"mt-10\"\n                  aspect-ratio=\"1.7\"\n                  max-height=\"250\"\n                  contain\n                  lazy-src=\"https://picsum.photos/id/11/10/6\"\n                  src=\"https://picsum.photos/id/11/500/300\"\n                ></v-img>\n              </v-col>\n              <v-col cols=\"6\">\n                <v-card-text class=\"mt-10\">\n                  <v-subheader class=\"font-weight-black\">\n                    Raw Materials In Stock\n                  </v-subheader>\n                  <v-simple-table\n                    fixed-header\n                  >\n                    <template v-slot:default>\n                      <thead>\n                        <tr>\n                          <th class=\"text-left\">\n                            Name\n                          </th>\n                          <th class=\"text-left\">\n                            Quantity In Stock\n                          </th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        <tr\n                          v-for=\"item in products\"\n                          :key=\"item.name\"\n                        >\n                          <td>{{ item.name }}</td>\n                          <td>{{ item.in_stock }}</td>\n                        </tr>\n                      </tbody>\n                    </template>\n                  </v-simple-table>\n                </v-card-text>\n              </v-col>\n\n              <v-col cols=\"12\">\n                <v-select\n                  v-model=\"optionsLocal.supplier\"\n                  label=\"Select a Supplier\"\n                  item-text=\"name\"\n                  item-value=\"id\"\n                  dense\n                  :items=\"suppliers\"\n                  return-object\n                ></v-select>\n              </v-col>\n              <v-col cols=\"12\" class=\"mt-10\" v-show=\"optionsLocal.supplier\">\n                <card-supplier-details\n                  title=\"Supplier Details\"\n                  :details=\"optionsLocal.supplier\"\n                />\n              </v-col>\n              <v-col cols=\"12\">\n                <v-card-text class=\"px-0\">\n                  <v-simple-table\n                    fixed-header\n                  >\n                    <template v-slot:default>\n                      <thead>\n                      <tr>\n                        <th class=\"text-left\">\n                          Material Name\n                        </th>\n                        <th class=\"text-left\">\n                          Requested Quantity\n                        </th>\n                      </tr>\n                      </thead>\n                      <tbody>\n                      <tr\n                        v-for=\"(item, key) in orderItems\"\n                        :key=\"item.name\"\n                      >\n                        <td>{{ item.name }}</td>\n                        <td>{{ item.quantity }}</td>\n                      </tr>\n                      </tbody>\n                    </template>\n                  </v-simple-table>\n                </v-card-text>\n              </v-col>\n              <v-col\n                cols=\"7\"\n              >\n                <v-textarea\n                  v-model=\"optionsLocal.description\"\n                  outlined\n                  dense\n                  label=\"Description\"\n                  :readonly=\"mode === 'show'\"\n                  hide-details=\"auto\"\n                  :persistent-placeholder=\"mode === 'show'\"\n                ></v-textarea>\n              </v-col>\n              <v-col cols=\"12\" class=\" mb-6\">\n                <h2 class=\"font-weight-black mt-10 mb-2 text-uppercase\">Downpayment Details</h2>\n                <v-divider />\n              </v-col>\n              <v-col\n                cols=\"7\"\n              >\n                <v-text-field\n                  v-model=\"optionsLocal.fx_number\"\n                  outlined\n                  dense\n                  label=\"FX Number\"\n                  :readonly=\"mode === 'show'\"\n                  hide-details=\"auto\"\n                  :persistent-placeholder=\"mode === 'show'\"\n                ></v-text-field>\n              </v-col>\n              <v-col cols=\"6\">\n                <v-text-field\n                  v-model=\"optionsLocal.total\"\n                  prefix=\"$\"\n                  outlined\n                  dense\n                  label=\"Total Amount Payable\"\n                  :readonly=\"mode === 'show'\"\n                  hide-details=\"auto\"\n                  :persistent-placeholder=\"mode === 'show'\"\n                >\n                </v-text-field>\n              </v-col>\n              <v-col cols=\"6\">\n                <v-text-field\n                  v-model=\"optionsLocal.conversion_rate\"\n                  prefix=\"PHP\"\n                  outlined\n                  dense\n                  label=\"Current Conversion Rate\"\n                  :readonly=\"mode === 'show'\"\n                  hide-details=\"auto\"\n                ></v-text-field>\n              </v-col>\n              <v-col cols=\"3\">\n                <v-select\n                  v-model=\"optionsLocal.percentage\"\n                  label=\"Downpayment\"\n                  item-text=\"text\"\n                  item-value=\"percentage\"\n                  dense\n                  prefix=\"%\"\n                  :items=\"[{text:10,value:0.1},20,30,40,50,60,70,80,90,100]\"\n                  @input=\"test\"\n                ></v-select>\n              </v-col>\n              <v-col cols=\"3\">\n                <span>Converted Amount To Pay</span>\n              </v-col>\n              <v-col\n                cols=\"2\"\n              >\n                <span class=\"font-weight-black text-base\">Amount in USD ${{ dollarPercentageToPay }}</span>\n              </v-col>\n              <v-col\n                cols=\"2\"\n              >\n                <span class=\"font-weight-black text-base\">Amount in PHP P{{ pesoPercentageToPay }}</span>\n              </v-col>\n              <v-col\n                cols=\"6\"\n              >\n                <v-text-field\n                  v-model=\"pesoPercentageToPay\"\n                  prefix=\"PHP\"\n                  outlined\n                  dense\n                  label=\"DP Paid Amount\"\n                  :readonly=\"mode === 'show'\"\n                  hide-details=\"auto\"\n                  :persistent-placeholder=\"mode === 'show'\"\n                ></v-text-field>\n              </v-col>\n            </v-row>\n          </v-card-text>\n\n          <v-card-text class=\"mt-10\">\n            <v-btn\n              outlined\n              class=\"mr-3\"\n              color=\"primary\"\n              @click=\"save\"\n            >\n              Approve\n            </v-btn>\n            <v-btn\n              outlined\n              type=\"reset\"\n              @click.prevent=\"goBack\"\n            >\n              Back to List\n            </v-btn>\n          </v-card-text>\n        </v-form>\n      </v-tab-item>\n      <v-tab-item>\n        <purchase-order-logs :order-id=\"id\"></purchase-order-logs>\n      </v-tab-item>\n    </v-tabs-items>\n  </v-card>\n</template>\n\n<script>\nimport {\n  computed, ref, watch, onMounted,\n} from '@vue/composition-api'\nimport router from '@/router'\nimport store from '@/store'\nimport {\n  APPROVE_PURCHASE_ORDER, GET_PRODUCTS, GET_SUPPLIER, GET_SUPPLIERS,\n} from '@/store/actions.type'\nimport PurchaseOrdersService from '@/utils/services/purchase-orders.service'\nimport { mdiBookInformationVariant, mdiClipboardListOutline } from '@mdi/js'\nimport PurchaseOrderLogs from '@/views/pages/purchase-orders/purchase-order/logs/PurchaseOrderLogs'\nimport CardSupplierDetails from \"@/views/pages/purchase-orders/component/CardSupplierDetails.vue\"\n\nexport default {\n  components: {\n    PurchaseOrderLogs,\n    CardSupplierDetails,\n  },\n  setup() {\n    const { id } = router.history.current.params\n    const errors = computed(() => store.getters.errors)\n    const products = computed(() => store.getters.products)\n    const suppliers = computed(() => store.getters.suppliers)\n    const selectedItemTrigger = ref([])\n    const orderItems = ref([])\n    const showAlert = ref(false)\n    const optionsLocal = ref({\n      fx_number: '',\n      eta: '',\n      items: {},\n      total: 0,\n      percentage: 0,\n      description: '',\n      paid_amount: '',\n      balance: 0,\n    })\n    const tab = ref('')\n    const dollarPercentageToPay = ref('')\n    const pesoPercentageToPay = ref('')\n    const balance = ref('')\n\n    const test = () => {\n      const form = optionsLocal.value\n      const percentage = (form.percentage / 100).toFixed(2)\n      const conversionRate = parseFloat(form.conversion_rate).toFixed(2)\n      dollarPercentageToPay.value = (form.total * percentage).toFixed(2).toString()\n      pesoPercentageToPay.value = (form.total * percentage * conversionRate).toFixed(2).toString()\n      balance.value = (form.total - parseFloat(form.paid_amount)).toFixed(2).toString()\n    }\n\n    onMounted(async () => {\n      await PurchaseOrdersService.find(id)\n        .then(response => {\n          const { data } = response.data\n          optionsLocal.value = {\n            description: data.order.description,\n            fx_number: data.order.fx_id,\n            items: {},\n          }\n\n          orderItems.value = data.items\n        })\n    })\n\n    store.dispatch(GET_PRODUCTS)\n    store.dispatch(GET_SUPPLIERS)\n\n    const goBack = () => {\n      router.push('/purchase-orders')\n    }\n\n    watch(\n      optionsLocal,\n      () => {\n        if (optionsLocal.value.total && optionsLocal.value.paid_amount) {\n          optionsLocal.value.balance = parseFloat(optionsLocal.value.total) - parseFloat(optionsLocal.value.paid_amount)\n        }\n      },\n      { immediate: true },\n    )\n\n    const resolveFormSuccess = () => {\n      showAlert.value = true\n      setTimeout(() => {\n        goBack()\n      }, 5000)\n    }\n\n    const save = () => {\n      const currentForm = optionsLocal.value\n      currentForm.id = router.history.current.params.id\n      currentForm.usd_conversion = dollarPercentageToPay.value\n      currentForm.peso_conversion = pesoPercentageToPay.value\n      currentForm.dp_percentage = currentForm.percentage\n      currentForm.paid_amount = dollarPercentageToPay.value // we maintain db payments in usd, php transaction in payment logs\n      currentForm.supplier_id = currentForm.supplier.id\n\n      store.dispatch(APPROVE_PURCHASE_ORDER, currentForm).then(data => {\n        if (data != null) {\n          resolveFormSuccess()\n        }\n      })\n    }\n\n    // tabs\n    const tabs = [\n      { title: 'Purchase Order Information', icon: mdiBookInformationVariant },\n      { title: 'Purchase Order Logs', icon: mdiClipboardListOutline },\n    ]\n\n    return {\n      balance,\n      id,\n      tab,\n      tabs,\n      selectedItemTrigger,\n      products,\n      optionsLocal,\n      goBack,\n      save,\n      showAlert,\n      errors,\n      orderItems,\n      test,\n      dollarPercentageToPay,\n      pesoPercentageToPay,\n      suppliers\n    }\n  }\n  ,\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PurchaseOrderApprove.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PurchaseOrderApprove.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PurchaseOrderApprove.vue?vue&type=template&id=426b8556&\"\nimport script from \"./PurchaseOrderApprove.vue?vue&type=script&lang=js&\"\nexport * from \"./PurchaseOrderApprove.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTabsItems } from 'vuetify/lib/components/VTabs';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VAlert,VBtn,VCard,VCardText,VCol,VDivider,VForm,VIcon,VImg,VRow,VSelect,VSimpleTable,VSubheader,VTab,VTabItem,VTabs,VTabsItems,VTextField,VTextarea})\n"],"sourceRoot":""}