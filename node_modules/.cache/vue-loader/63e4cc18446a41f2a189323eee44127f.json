{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/projects/enco-fe/src/views/pages/warehouse/branches-page/WarehouseForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/views/pages/warehouse/branches-page/WarehouseForm.vue","mtime":1661073285736},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1652172763063},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js","mtime":1650363919730}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgY29tcHV0ZWQsIHJlZiwgdG9SZWYsIHdhdGNoLAp9IGZyb20gJ0B2dWUvY29tcG9zaXRpb24tYXBpJwppbXBvcnQgewogIG1kaUFjY291bnRPdXRsaW5lLAogIG1kaUVtYWlsT3V0bGluZSwKICBtZGlDZWxscGhvbmUsCiAgbWRpTG9ja091dGxpbmUsCn0gZnJvbSAnQG1kaS9qcycKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnCmltcG9ydCByb3V0ZXIgZnJvbSAnQC9yb3V0ZXInCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1dhcmVob3VzZUZvcm0nLAogIHByb3BzOiB7CiAgICB3YXJlaG91c2U6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6IG51bGwsCiAgICB9LAogIH0sCiAgc2V0dXAocHJvcHMpIHsKICAgIGNvbnN0IHdhcmVob3VzZURhdGEgPSB0b1JlZihwcm9wcywgJ3dhcmVob3VzZScpCiAgICBjb25zdCBmb3JtID0gcmVmKHsKICAgICAgbmFtZTogJycsCiAgICAgIGFkZHJlc3M6ICcnLAogICAgICBjb250YWN0X251bWJlcjogJycsCiAgICAgIGlzX21haW46IG51bGwsCiAgICAgIHN0YXR1czogJ0FjdGl2ZScsCiAgICB9KQoKICAgIHdhdGNoKAogICAgICB3YXJlaG91c2VEYXRhLCAoKSA9PiB7CiAgICAgICAgaWYgKHdhcmVob3VzZURhdGEudmFsdWUuaWQgIT09IG51bGwpIHsKICAgICAgICAgIGZvcm0udmFsdWUgPSB3YXJlaG91c2VEYXRhLnZhbHVlCiAgICAgICAgfQogICAgICB9LAogICAgKQoKICAgIGNvbnN0IGVycm9ycyA9IGNvbXB1dGVkKCgpID0+IHN0b3JlLnN0YXRlLldhcmVob3VzZVN0b3JlLmVycm9ycykKCiAgICBjb25zdCBzdGF0dXNPcHRpb25zID0gWwogICAgICAnQWN0aXZlJywKICAgICAgJ0RlYWN0aXZhdGVkJywKICAgICAgJ0luYWN0aXZlJywKICAgIF0KCiAgICBjb25zdCBjYW5jZWwgPSAoKSA9PiB7CiAgICAgIHJvdXRlci5wdXNoKCcvd2FyZWhvdXNlcycpCiAgICB9CgogICAgY29uc3Qgc3VibWl0ID0gKCkgPT4gewogICAgICBjb25zdCBwYXlsb2FkID0gewogICAgICAgIHN0YXR1czogZm9ybS52YWx1ZS5zdGF0dXMsCiAgICAgICAgbmFtZTogZm9ybS52YWx1ZS5uYW1lLAogICAgICAgIGFkZHJlc3M6IGZvcm0udmFsdWUuYWRkcmVzcywKICAgICAgICBjb250YWN0X251bWJlcjogZm9ybS52YWx1ZS5jb250YWN0X251bWJlciwKICAgICAgICBpc19tYWluOiBmb3JtLnZhbHVlLmlzX21haW4gPz8gZmFsc2UsCiAgICAgIH0KCiAgICAgIGlmICh3YXJlaG91c2VEYXRhLnZhbHVlLmlkICE9PSBudWxsKSB7CiAgICAgICAgcGF5bG9hZC5pZCA9IHdhcmVob3VzZURhdGEudmFsdWUuaWQKCiAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ1dhcmVob3VzZVN0b3JlL3VwZGF0ZScsIHBheWxvYWQpLnRoZW4oCiAgICAgICAgICByZXNwb25zZSA9PiB7CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgIHJvdXRlci5wdXNoKCcvd2FyZWhvdXNlcycpCiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgKQogICAgICB9IGVsc2UgewogICAgICAgIHN0b3JlLmRpc3BhdGNoKCdXYXJlaG91c2VTdG9yZS9jcmVhdGUnLCBwYXlsb2FkKS50aGVuKAogICAgICAgICAgcmVzcG9uc2UgPT4gewogICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICByb3V0ZXIucHVzaCgnL3dhcmVob3VzZXMnKQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICkKICAgICAgfQogICAgfQoKICAgIHJldHVybiB7CiAgICAgIGNhbmNlbCwKICAgICAgZXJyb3JzLAogICAgICBpY29uczogewogICAgICAgIG1kaUFjY291bnRPdXRsaW5lLAogICAgICAgIG1kaUVtYWlsT3V0bGluZSwKICAgICAgICBtZGlDZWxscGhvbmUsCiAgICAgICAgbWRpTG9ja091dGxpbmUsCiAgICAgIH0sCiAgICAgIGZvcm0sCiAgICAgIHN0YXR1c09wdGlvbnMsCiAgICAgIHN1Ym1pdCwKICAgIH0KICB9LAp9Cg=="},{"version":3,"sources":["WarehouseForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"WarehouseForm.vue","sourceRoot":"src/views/pages/warehouse/branches-page","sourcesContent":["<template>\n  <v-form class=\"pa-3\">\n    <v-row>\n      <v-col cols=\"12\">\n        <v-alert\n          color=\"primary\"\n          text\n          style=\"margin-bottom: -10px\"\n        >\n          <div class=\"d-flex align-start\">\n            <v-icon color=\"primary\">\n              {{ icons.mdiAlertOutline }}\n            </v-icon>\n\n            <div class=\"ms-3\">\n              <p class=\"text-base font-weight-medium mb-1\">\n                Warehouse Information\n              </p>\n            </div>\n          </div>\n        </v-alert>\n      </v-col>\n      <v-col\n        cols=\"6\"\n        mb=\"6\"\n      >\n        <v-text-field\n          id=\"email\"\n          v-model=\"form.name\"\n          :prepend-inner-icon=\"icons.mdiEmailOutline\"\n          :error-messages=\"errors.name\"\n          outlined\n          dense\n          hide-details=\"auto\"\n          placeholder=\"Name*\"\n          label=\"Name\"\n        ></v-text-field>\n      </v-col>\n      <v-col\n        cols=\"6\"\n        mb=\"6\"\n      >\n        <v-select\n          v-model=\"form.status\"\n          dense\n          outlined\n          placeholder=\"Status*\"\n          :prepend-inner-icon=\"icons.mdiListStatus\"\n          :error-messages=\"errors.status\"\n          :items=\"statusOptions\"\n          label=\"Status\"\n        ></v-select>\n      </v-col>\n      <v-col\n        cols=\"6\"\n        mb=\"6\"\n      >\n        <v-textarea\n          id=\"email\"\n          v-model=\"form.address\"\n          :prepend-inner-icon=\"icons.mdiEmailOutline\"\n          :error-messages=\"errors.address\"\n          outlined\n          dense\n          hide-details=\"auto\"\n          placeholder=\"Address*\"\n          label=\"Address\"\n        ></v-textarea>\n      </v-col>\n      <v-col\n        cols=\"6\"\n        mb=\"6\"\n      >\n        <v-text-field\n          id=\"email\"\n          v-model=\"form.contact_number\"\n          :prepend-inner-icon=\"icons.mdiCellphone\"\n          :error-messages=\"errors.contact_number\"\n          outlined\n          dense\n          hide-details=\"auto\"\n          placeholder=\"Contact Number\"\n          label=\"Contact Number\"\n        ></v-text-field>\n      </v-col>\n      <v-col\n        cols=\"6\"\n        mb=\"6\"\n      >\n        <v-checkbox\n          v-model=\"form.is_main\"\n          label=\"Main Branch\"\n          class=\"mt-0\"\n          hide-details\n        ></v-checkbox>\n      </v-col>\n      <v-col cols=\"12\">\n        <v-btn\n          color=\"primary\"\n          class=\"me-3 mt-4\"\n          @click=\"submit\"\n        >\n          Submit\n        </v-btn>\n        <v-btn\n          outlined\n          class=\"me-3 mt-3\"\n          type=\"reset\"\n          @click.prevent=\"cancel\"\n        >\n          Cancel\n        </v-btn>\n      </v-col>\n    </v-row>\n  </v-form>\n</template>\n\n<script>\nimport {\n  computed, ref, toRef, watch,\n} from '@vue/composition-api'\nimport {\n  mdiAccountOutline,\n  mdiEmailOutline,\n  mdiCellphone,\n  mdiLockOutline,\n} from '@mdi/js'\nimport store from '@/store'\nimport router from '@/router'\n\nexport default {\n  name: 'WarehouseForm',\n  props: {\n    warehouse: {\n      type: Object,\n      required: false,\n      default: null,\n    },\n  },\n  setup(props) {\n    const warehouseData = toRef(props, 'warehouse')\n    const form = ref({\n      name: '',\n      address: '',\n      contact_number: '',\n      is_main: null,\n      status: 'Active',\n    })\n\n    watch(\n      warehouseData, () => {\n        if (warehouseData.value.id !== null) {\n          form.value = warehouseData.value\n        }\n      },\n    )\n\n    const errors = computed(() => store.state.WarehouseStore.errors)\n\n    const statusOptions = [\n      'Active',\n      'Deactivated',\n      'Inactive',\n    ]\n\n    const cancel = () => {\n      router.push('/warehouses')\n    }\n\n    const submit = () => {\n      const payload = {\n        status: form.value.status,\n        name: form.value.name,\n        address: form.value.address,\n        contact_number: form.value.contact_number,\n        is_main: form.value.is_main ?? false,\n      }\n\n      if (warehouseData.value.id !== null) {\n        payload.id = warehouseData.value.id\n\n        store.dispatch('WarehouseStore/update', payload).then(\n          response => {\n            if (response.status === undefined) {\n              router.push('/warehouses')\n            }\n          },\n        )\n      } else {\n        store.dispatch('WarehouseStore/create', payload).then(\n          response => {\n            if (response.status === undefined) {\n              router.push('/warehouses')\n            }\n          },\n        )\n      }\n    }\n\n    return {\n      cancel,\n      errors,\n      icons: {\n        mdiAccountOutline,\n        mdiEmailOutline,\n        mdiCellphone,\n        mdiLockOutline,\n      },\n      form,\n      statusOptions,\n      submit,\n    }\n  },\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}