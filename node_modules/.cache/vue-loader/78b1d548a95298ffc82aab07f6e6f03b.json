{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/projects/enco-fe/src/views/pages/user-access-management/users/UserInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/views/pages/user-access-management/users/UserInfo.vue","mtime":1658560497494},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1652172763063},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js","mtime":1650363919730}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1kaUFsZXJ0T3V0bGluZSwgbWRpQ2xvdWRVcGxvYWRPdXRsaW5lIH0gZnJvbSAnQG1kaS9qcycKaW1wb3J0IHsgY29tcHV0ZWQsIHJlZiwgdG9SZWYgfSBmcm9tICdAdnVlL2NvbXBvc2l0aW9uLWFwaScKaW1wb3J0IHJvdXRlciBmcm9tICdAL3JvdXRlcicKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnCmltcG9ydCBSZXNldFBhc3N3b3JkRm9ybSBmcm9tICdAL3ZpZXdzL3BhZ2VzL3VzZXItYWNjZXNzLW1hbmFnZW1lbnQvdXNlcnMvUmVzZXRQYXNzd29yZEZvcm0udnVlJwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFJlc2V0UGFzc3dvcmRGb3JtLAogIH0sCiAgcHJvcHM6IHsKICAgIGFjY291bnREYXRhOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogbnVsbCwKICAgIH0sCiAgICBsb2FkaW5nOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUsCiAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgfSwKICB9LAogIHNldHVwKHByb3BzKSB7CiAgICBjb25zdCBlcnJvcnMgPSBjb21wdXRlZCgoKSA9PiBzdG9yZS5zdGF0ZS5Vc2VyQWNjZXNzTWFuYWdlbWVudFN0b3JlLmVycm9ycykKICAgIGNvbnN0IHN0YXR1cyA9IFsnQWN0aXZlJywgJ0luYWN0aXZlJywgJ1BlbmRpbmcnLCAnRGVsZXRlZCcsICdEZWFjdGl2YXRlZCddCiAgICBjb25zdCBhY2NvdW50RGF0YUxvY2FsZSA9IHRvUmVmKHByb3BzLCAnYWNjb3VudERhdGEnKQogICAgY29uc3QgbG9hZGluZ0xvY2FsZSA9IHRvUmVmKHByb3BzLCAnbG9hZGluZycpCiAgICBjb25zdCBzaG93QWxlcnQgPSByZWYoZmFsc2UpCiAgICBjb25zdCByZXNldFBhc3N3b3JkID0gcmVmKHsKICAgICAgc2hvdzogZmFsc2UsCiAgICB9KQoKICAgIGFjY291bnREYXRhTG9jYWxlLnZhbHVlLmF2YXRhckltZyA9IHJlcXVpcmUoJ0AvYXNzZXRzL2ltYWdlcy9hdmF0YXJzLzEucG5nJykKCiAgICBjb25zdCBnb0JhY2sgPSAoKSA9PiB7CiAgICAgIHJvdXRlci5wdXNoKCcvdXNlcnMnKQogICAgfQoKICAgIGNvbnN0IHRvZ2dsZVJlc2V0UGFzc3dvcmQgPSAoKSA9PiB7CiAgICAgIHJlc2V0UGFzc3dvcmQudmFsdWUuc2hvdyA9IHRydWUKICAgIH0KCiAgICBjb25zdCBhbGVydCA9ICh2YWx1ZSkgPT4gewogICAgICByZXNldFBhc3N3b3JkLnZhbHVlLnNob3cgPSBmYWxzZQoKICAgICAgaWYgKHZhbHVlICE9PSBmYWxzZSkgewogICAgICAgIHNob3dBbGVydC52YWx1ZSA9IHRydWUKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIHNob3dBbGVydC52YWx1ZSA9IGZhbHNlCiAgICAgICAgfSwgMTUwMCkKICAgICAgfQogICAgfQoKICAgIGNvbnN0IHN1Ym1pdCA9ICgpID0+IHsKICAgICAgc3RvcmUuZGlzcGF0Y2goJ1VzZXJBY2Nlc3NNYW5hZ2VtZW50U3RvcmUvdXBkYXRlVXNlcicsIHsKICAgICAgICBuYW1lOiBhY2NvdW50RGF0YUxvY2FsZS52YWx1ZS5uYW1lLAogICAgICAgIGVtYWlsOiBhY2NvdW50RGF0YUxvY2FsZS52YWx1ZS5lbWFpbCwKICAgICAgICBzdGF0dXM6IGFjY291bnREYXRhTG9jYWxlLnZhbHVlLnN0YXR1cywKICAgICAgICBpZDogYWNjb3VudERhdGFMb2NhbGUudmFsdWUuaWQsCiAgICAgIH0pLnRoZW4oCiAgICAgICAgcmVzcG9uc2UgPT4gewogICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIGFsZXJ0KCkKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICApCiAgICB9CgogICAgcmV0dXJuIHsKICAgICAgYWxlcnQsCiAgICAgIGVycm9ycywKICAgICAgbG9hZGluZ0xvY2FsZSwKICAgICAgZ29CYWNrLAogICAgICBzdGF0dXMsCiAgICAgIGFjY291bnREYXRhTG9jYWxlLAogICAgICBpY29uczogewogICAgICAgIG1kaUFsZXJ0T3V0bGluZSwKICAgICAgICBtZGlDbG91ZFVwbG9hZE91dGxpbmUsCiAgICAgIH0sCiAgICAgIHJlc2V0UGFzc3dvcmQsCiAgICAgIHNob3dBbGVydCwKICAgICAgc3VibWl0LAogICAgICB0b2dnbGVSZXNldFBhc3N3b3JkLAogICAgfQogIH0sCn0K"},{"version":3,"sources":["UserInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoHA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UserInfo.vue","sourceRoot":"src/views/pages/user-access-management/users","sourcesContent":["<template>\n  <v-card\n    flat\n    class=\"pa-3 mt-2\"\n  >\n    <v-alert\n      dense\n      text\n      v-show=\"showAlert\"\n      type=\"success\"\n      dismissible\n    >\n      Successfully updated\n    </v-alert>\n    <v-card-text>\n      <v-dialog\n        v-model=\"resetPassword.show\"\n        max-width=\"800px\"\n      >\n        <v-card>\n          <v-card-title>\n            <span class=\"headline\">Change Password</span>\n          </v-card-title>\n          <v-card-text>\n            <ResetPasswordForm\n              :user-data=\"accountDataLocale\"\n              @clicked=\"alert\"\n            ></ResetPasswordForm>\n          </v-card-text>\n        </v-card>\n\n      </v-dialog>\n      <v-progress-linear\n        v-show=\"loadingLocale\"\n        indeterminate\n        color=\"primary\"\n      ></v-progress-linear>\n      <v-form\n        v-if=\"!loadingLocale\"\n        class=\"multi-col-validation mt-6\"\n      >\n        <v-row>\n          <v-col\n            md=\"6\"\n            cols=\"12\"\n          >\n            <v-text-field\n              v-model=\"accountDataLocale.email\"\n              label=\"Email\"\n              :error-messages=\"errors.email\"\n              dense\n              outlined\n            ></v-text-field>\n          </v-col>\n\n          <v-col\n            md=\"6\"\n            cols=\"12\"\n          >\n            <v-text-field\n              v-model=\"accountDataLocale.name\"\n              label=\"Name\"\n              :error-messages=\"errors.name\"\n              dense\n              outlined\n            ></v-text-field>\n          </v-col>\n\n          <v-col\n            cols=\"12\"\n            md=\"6\"\n          >\n            <v-select\n              v-model=\"accountDataLocale.status\"\n              dense\n              outlined\n              label=\"Status\"\n              :error-messages=\"errors.status\"\n              :items=\"status\"\n            ></v-select>\n          </v-col>\n\n          <v-col cols=\"12\">\n            <v-btn\n              color=\"primary\"\n              class=\"me-3 mt-4\"\n              @click=\"submit\"\n            >\n              Save changes\n            </v-btn>\n            <v-btn\n              color=\"info\"\n              outlined\n              class=\"me-3 mt-3\"\n              type=\"reset\"\n              @click.prevent=\"goBack\"\n            >\n              Back to Users Page\n            </v-btn>\n            <v-btn\n              color=\"warning\"\n              outlined\n              class=\"mt-3\"\n              type=\"reset\"\n              @click.prevent=\"toggleResetPassword\"\n            >\n              Reset Password\n            </v-btn>\n          </v-col>\n        </v-row>\n      </v-form>\n    </v-card-text>\n  </v-card>\n</template>\n\n<script>\nimport { mdiAlertOutline, mdiCloudUploadOutline } from '@mdi/js'\nimport { computed, ref, toRef } from '@vue/composition-api'\nimport router from '@/router'\nimport store from '@/store'\nimport ResetPasswordForm from '@/views/pages/user-access-management/users/ResetPasswordForm.vue'\n\nexport default {\n  components: {\n    ResetPasswordForm,\n  },\n  props: {\n    accountData: {\n      type: Object,\n      default: null,\n    },\n    loading: {\n      type: Boolean,\n      default: true,\n      required: true,\n    },\n  },\n  setup(props) {\n    const errors = computed(() => store.state.UserAccessManagementStore.errors)\n    const status = ['Active', 'Inactive', 'Pending', 'Deleted', 'Deactivated']\n    const accountDataLocale = toRef(props, 'accountData')\n    const loadingLocale = toRef(props, 'loading')\n    const showAlert = ref(false)\n    const resetPassword = ref({\n      show: false,\n    })\n\n    accountDataLocale.value.avatarImg = require('@/assets/images/avatars/1.png')\n\n    const goBack = () => {\n      router.push('/users')\n    }\n\n    const toggleResetPassword = () => {\n      resetPassword.value.show = true\n    }\n\n    const alert = (value) => {\n      resetPassword.value.show = false\n\n      if (value !== false) {\n        showAlert.value = true\n        setTimeout(() => {\n          showAlert.value = false\n        }, 1500)\n      }\n    }\n\n    const submit = () => {\n      store.dispatch('UserAccessManagementStore/updateUser', {\n        name: accountDataLocale.value.name,\n        email: accountDataLocale.value.email,\n        status: accountDataLocale.value.status,\n        id: accountDataLocale.value.id,\n      }).then(\n        response => {\n          if (response.status === undefined) {\n            alert()\n          }\n        },\n      )\n    }\n\n    return {\n      alert,\n      errors,\n      loadingLocale,\n      goBack,\n      status,\n      accountDataLocale,\n      icons: {\n        mdiAlertOutline,\n        mdiCloudUploadOutline,\n      },\n      resetPassword,\n      showAlert,\n      submit,\n      toggleResetPassword,\n    }\n  },\n}\n</script>\n"]}]}