{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/projects/enco-fe/src/views/pages/purchase-orders/component/PurchaseOrderExpenses.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/views/pages/purchase-orders/component/PurchaseOrderExpenses.vue","mtime":1661667901199},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1665368576185},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1665368576151},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1665368576185},{"path":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js","mtime":1665368593779}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7Y29tcHV0ZWQsIHJlYWN0aXZlLCByZWYsIHdhdGNofSBmcm9tICJAdnVlL2NvbXBvc2l0aW9uLWFwaS9kaXN0L3Z1ZS1jb21wb3NpdGlvbi1hcGkiOwppbXBvcnQgc3RvcmUgZnJvbSAiQC9zdG9yZSI7CmltcG9ydCB7CiAgbWRpUGx1cwp9IGZyb20gJ0BtZGkvanMnCgpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIGl0ZW1OdW1iZXI6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAwLAogICAgfSwKICB9LAogIHNldHVwKHByb3BzLCB7ZW1pdH0pIHsKICAgIGNvbnN0IGV4cGVuc2VzID0gcmVhY3RpdmUoe2Rlc2NyaXB0aW9uOiBudWxsLCBhbW91bnQ6IG51bGwsIHBhaWRfdG86IG51bGx9KQogICAgY29uc3QgaXNEaXNhYmxlZCA9IHJlZih0cnVlKQogICAgY29uc3QgZXJyb3JzID0gY29tcHV0ZWQoKCkgPT4gc3RvcmUuZ2V0dGVycy5lcnJvcnMpCgogICAgY29uc3QgZm9ybWF0UHJpY2UgPSB2YWx1ZSA9PiBwYXJzZUZsb2F0KHZhbHVlKQogICAgICAudG9GaXhlZCgyKQogICAgICAudG9TdHJpbmcoKQogICAgICAucmVwbGFjZSgvXEIoPz0oXGR7M30pKyg/IVxkKSkvZywgJywnKQoKICAgIHdhdGNoKAogICAgICBleHBlbnNlcywKICAgICAgKCkgPT4gewogICAgICAgIGlmIChleHBlbnNlcy5kZXNjcmlwdGlvbiAmJiBleHBlbnNlcy5hbW91bnQgJiYgZXhwZW5zZXMucGFpZF90bykgewogICAgICAgICAgaXNEaXNhYmxlZC52YWx1ZSA9IGZhbHNlCiAgICAgICAgICBmb3JtYXRQcmljZShleHBlbnNlcy5hbW91bnQpCiAgICAgICAgfSBlbHNlIGlzRGlzYWJsZWQudmFsdWUgPSB0cnVlCgogICAgICAgIGVtaXQoJ2V4cGVuc2VBZGRlZCcsIHsuLi5leHBlbnNlc30sIHByb3BzLml0ZW1OdW1iZXIpCiAgICAgIH0sCiAgICApCgogICAgY29uc3QgZGVib3VuY2UgPSAoZnVuYywgdGltZW91dCA9IDUwMCkgPT4gewogICAgICBsZXQgdGltZXIKCiAgICAgIHJldHVybiAoLi4uYXJncykgPT4gewogICAgICAgIGNsZWFyVGltZW91dCh0aW1lcikKICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgZnVuYy5hcHBseSh0aGlzLCBhcmdzKQogICAgICAgIH0sIHRpbWVvdXQpCiAgICAgIH0KICAgIH0KCiAgICBjb25zdCBtb25leUZvcm1hdCA9IGRlYm91bmNlKCgpID0+IHsKICAgICAgZXhwZW5zZXMuYW1vdW50ID0gZm9ybWF0UHJpY2UoZXhwZW5zZXMuYW1vdW50KQogICAgfSkKCiAgICByZXR1cm4gewogICAgICBleHBlbnNlcywKICAgICAgaXNEaXNhYmxlZCwKICAgICAgZXJyb3JzLAogICAgICBmb3JtYXRQcmljZSwKICAgICAgaWNvbnM6IHsKICAgICAgICBtZGlQbHVzLAogICAgICB9LAogICAgICBtb25leUZvcm1hdCwKICAgIH0KICB9Cn0K"},{"version":3,"sources":["PurchaseOrderExpenses.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PurchaseOrderExpenses.vue","sourceRoot":"src/views/pages/purchase-orders/component","sourcesContent":["<template>\n  <v-card>\n    <v-row>\n      <v-col cols=\"3\">\n        <v-text-field\n          v-model=\"expenses.description\"\n          label=\"Description\"\n          hide-details=\"auto\"\n          dense\n          :error-messages=\"errors.description\"\n        />\n      </v-col>\n      <v-col cols=\"3\">\n        <v-text-field\n          v-model=\"expenses.paid_to\"\n          label=\"Paid To\"\n          hide-details=\"auto\"\n          dense\n          :error-messages=\"errors.paid_to\"\n        />\n      </v-col>\n      <v-col cols=\"3\">\n        <v-text-field\n          v-model=\"expenses.amount\"\n          label=\"Amount Paid\"\n          hide-details=\"auto\"\n          dense\n          :error-messages=\"errors.amount\"\n          @input=\"moneyFormat('total')\"\n        />\n      </v-col>\n\n      <v-col cols=\"1\">\n        <v-btn\n          class=\"mx-2\"\n          x-small\n          fab\n          :disabled=\"isDisabled\"\n          @click=\"$emit('addExpensesRow')\"\n        >\n          <v-icon dark>\n            {{ icons.mdiPlus }}\n          </v-icon>\n        </v-btn>\n      </v-col>\n    </v-row>\n  </v-card>\n</template>\n<script>\nimport {computed, reactive, ref, watch} from \"@vue/composition-api/dist/vue-composition-api\";\nimport store from \"@/store\";\nimport {\n  mdiPlus\n} from '@mdi/js'\n\nexport default {\n  props: {\n    itemNumber: {\n      type: Number,\n      default: 0,\n    },\n  },\n  setup(props, {emit}) {\n    const expenses = reactive({description: null, amount: null, paid_to: null})\n    const isDisabled = ref(true)\n    const errors = computed(() => store.getters.errors)\n\n    const formatPrice = value => parseFloat(value)\n      .toFixed(2)\n      .toString()\n      .replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n\n    watch(\n      expenses,\n      () => {\n        if (expenses.description && expenses.amount && expenses.paid_to) {\n          isDisabled.value = false\n          formatPrice(expenses.amount)\n        } else isDisabled.value = true\n\n        emit('expenseAdded', {...expenses}, props.itemNumber)\n      },\n    )\n\n    const debounce = (func, timeout = 500) => {\n      let timer\n\n      return (...args) => {\n        clearTimeout(timer)\n        timer = setTimeout(() => {\n          func.apply(this, args)\n        }, timeout)\n      }\n    }\n\n    const moneyFormat = debounce(() => {\n      expenses.amount = formatPrice(expenses.amount)\n    })\n\n    return {\n      expenses,\n      isDisabled,\n      errors,\n      formatPrice,\n      icons: {\n        mdiPlus,\n      },\n      moneyFormat,\n    }\n  }\n}\n</script>\n"]}]}