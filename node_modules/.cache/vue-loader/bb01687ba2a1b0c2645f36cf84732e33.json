{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/projects/enco-fe/src/views/pages/user-access-management/abilities/AbilityForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/views/pages/user-access-management/abilities/AbilityForm.vue","mtime":1662295873827},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1652172763063},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js","mtime":1650363919730}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG9uTW91bnRlZCwgcmVmLCB0b1JlZiB9IGZyb20gJ0B2dWUvY29tcG9zaXRpb24tYXBpL2Rpc3QvdnVlLWNvbXBvc2l0aW9uLWFwaScKaW1wb3J0IHsKICBtZGlBY2NvdW50T3V0bGluZSwKICBtZGlDYXJLZXksCiAgbWRpQ2VsbHBob25lLAogIG1kaUVtYWlsT3V0bGluZSwKICBtZGlMb2NrT3V0bGluZSwKICBtZGlWaWV3TW9kdWxlLAp9IGZyb20gJ0BtZGkvanMnCmltcG9ydCBVc2VyQWNjZXNzTWFuYWdlbWVudFNlcnZpY2UgZnJvbSAnQC9zZXJ2aWNlL1VzZXJBY2Nlc3NNYW5hZ2VtZW50U2VydmljZScKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnCgpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIGlkUHJvcDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogMCwKICAgIH0sCiAgICBhY3Rpb25Qcm9wOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiAnJywKICAgIH0sCiAgICBtb2R1bGVQcm9wOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiAnJywKICAgIH0sCiAgICBpc0Rpc2FibGVkUHJvcDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6IGZhbHNlLAogICAgfSwKICAgIHRpdGxlUHJvcDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogJycsCiAgICB9LAogIH0sCiAgc2V0dXAocHJvcHMsIHsgZW1pdCB9KSB7CiAgICBjb25zdCBpZCA9IHRvUmVmKHByb3BzLCAnaWRQcm9wJykKICAgIGNvbnN0IGFjdGlvbiA9IHRvUmVmKHByb3BzLCAnYWN0aW9uUHJvcCcpCiAgICBjb25zdCB0aXRsZSA9IHRvUmVmKHByb3BzLCAndGl0bGVQcm9wJykKICAgIGNvbnN0IG1vZHVsZSA9IHRvUmVmKHByb3BzLCAnbW9kdWxlUHJvcCcpCiAgICBjb25zdCBpc0Rpc2FibGVkID0gdG9SZWYocHJvcHMsICdpc0Rpc2FibGVkUHJvcCcpCiAgICBjb25zdCBtb2R1bGVzID0gcmVmKFtdKQogICAgY29uc3Qgc2VydmljZSA9IG5ldyBVc2VyQWNjZXNzTWFuYWdlbWVudFNlcnZpY2UoKQoKICAgIG9uTW91bnRlZChhc3luYyAoKSA9PiB7CiAgICAgIGF3YWl0IHNlcnZpY2UuZ2V0TW9kdWxlcygpCiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgbW9kdWxlcy52YWx1ZSA9IHJlc3BvbnNlLmRhdGEubWFwKHZhbHVlID0+IHZhbHVlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgdmFsdWUuc2xpY2UoMSkpCiAgICAgICAgfSkKICAgIH0pCgogICAgY29uc3Qgc3VibWl0ID0gKCkgPT4gewogICAgICBpZiAoaWQudmFsdWUgPT09IDApIHsKICAgICAgICBzdG9yZS5kaXNwYXRjaCgnVXNlckFjY2Vzc01hbmFnZW1lbnRTdG9yZS9jcmVhdGVBYmlsaXR5JywgewogICAgICAgICAgYWN0aW9uOiBhY3Rpb24udmFsdWUsCiAgICAgICAgICBtb2R1bGU6IG1vZHVsZS52YWx1ZSwKICAgICAgICB9KS50aGVuKAogICAgICAgICAgKCkgPT4gewogICAgICAgICAgICBlbWl0KCdjbG9zZUZvcm0nLCBmYWxzZSkKICAgICAgICAgIH0sCiAgICAgICAgKQogICAgICB9IGVsc2UgewogICAgICAgIHN0b3JlLmRpc3BhdGNoKCdVc2VyQWNjZXNzTWFuYWdlbWVudFN0b3JlL3VwZGF0ZUFiaWxpdHknLCB7CiAgICAgICAgICBhY3Rpb246IGFjdGlvbi52YWx1ZSwKICAgICAgICAgIG1vZHVsZTogbW9kdWxlLnZhbHVlLAogICAgICAgICAgaWQ6IGlkLnZhbHVlLAogICAgICAgIH0pLnRoZW4oCiAgICAgICAgICAoKSA9PiB7CiAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKCdVc2VyQWNjZXNzTWFuYWdlbWVudFN0b3JlL2dldEFiaWxpdGllcycpCiAgICAgICAgICAgIGVtaXQoJ2Nsb3NlRm9ybScsIGZhbHNlKQogICAgICAgICAgfSwKICAgICAgICApCiAgICAgIH0KICAgIH0KCiAgICBjb25zdCBjYW5jZWwgPSAoKSA9PiB7CiAgICAgIGVtaXQoJ2Nsb3NlRm9ybScsIGZhbHNlKQogICAgfQoKICAgIHJldHVybiB7CiAgICAgIGFjdGlvbiwKICAgICAgY2FuY2VsLAogICAgICBpY29uczogewogICAgICAgIG1kaUFjY291bnRPdXRsaW5lLAogICAgICAgIG1kaUNhcktleSwKICAgICAgICBtZGlFbWFpbE91dGxpbmUsCiAgICAgICAgbWRpQ2VsbHBob25lLAogICAgICAgIG1kaUxvY2tPdXRsaW5lLAogICAgICAgIG1kaVZpZXdNb2R1bGUsCiAgICAgIH0sCiAgICAgIGlzRGlzYWJsZWQsCiAgICAgIG1vZHVsZSwKICAgICAgbW9kdWxlcywKICAgICAgc3VibWl0LAogICAgICB0aXRsZSwKICAgIH0KICB9LAp9Cg=="},{"version":3,"sources":["AbilityForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AbilityForm.vue","sourceRoot":"src/views/pages/user-access-management/abilities","sourcesContent":["<template>\n  <v-form>\n    <v-row>\n      <v-col\n        v-if=\"title\"\n        cols=\"12\"\n        md=\"3\"\n      >\n        <label for=\"firstnameHorizontalIcons\">Title</label>\n      </v-col>\n      <v-col\n        v-if=\"title\"\n        cols=\"12\"\n        md=\"9\"\n      >\n        <v-text-field\n          id=\"firstnameHorizontalIcons\"\n          v-model=\"title\"\n          disabled\n          :prepend-inner-icon=\"icons.mdiCarKey\"\n          outlined\n          dense\n          placeholder=\"Ability Name\"\n          hide-details\n        ></v-text-field>\n      </v-col>\n      <v-col\n        cols=\"12\"\n        md=\"3\"\n      >\n        <label for=\"firstnameHorizontalIcons\">Ability Name</label>\n      </v-col>\n      <v-col\n        cols=\"12\"\n        md=\"9\"\n      >\n        <v-text-field\n          id=\"firstnameHorizontalIcons\"\n          v-model=\"action\"\n          disabled\n          :prepend-inner-icon=\"icons.mdiCarKey\"\n          outlined\n          dense\n          placeholder=\"Ability Name\"\n          hide-details\n        ></v-text-field>\n      </v-col>\n      <v-col\n        cols=\"12\"\n        md=\"3\"\n      >\n        <label for=\"firstnameHorizontalIcons\">Module Name</label>\n      </v-col>\n      <v-col\n        cols=\"12\"\n        md=\"9\"\n      >\n        <v-select\n          v-model=\"module\"\n          disabled\n          outlined\n          dense\n          hide-details\n          :prepend-inner-icon=\"icons.mdiViewModule\"\n          placeholder=\"Module Name\"\n          :items=\"modules\"\n        ></v-select>\n      </v-col>\n\n      <v-col\n        offset-md=\"3\"\n        cols=\"12\"\n      >\n        <v-btn\n          disabled\n          color=\"primary\"\n          @click=\"submit\"\n        >\n          Submit\n        </v-btn>\n        <v-btn\n          type=\"cancel\"\n          outlined\n          class=\"mx-2\"\n          @click=\"cancel\"\n        >\n          Cancel\n        </v-btn>\n      </v-col>\n    </v-row>\n  </v-form>\n</template>\n\n<script>\nimport { onMounted, ref, toRef } from '@vue/composition-api/dist/vue-composition-api'\nimport {\n  mdiAccountOutline,\n  mdiCarKey,\n  mdiCellphone,\n  mdiEmailOutline,\n  mdiLockOutline,\n  mdiViewModule,\n} from '@mdi/js'\nimport UserAccessManagementService from '@/service/UserAccessManagementService'\nimport store from '@/store'\n\nexport default {\n  props: {\n    idProp: {\n      type: Number,\n      required: false,\n      default: 0,\n    },\n    actionProp: {\n      type: String,\n      required: false,\n      default: '',\n    },\n    moduleProp: {\n      type: String,\n      required: false,\n      default: '',\n    },\n    isDisabledProp: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n    titleProp: {\n      type: String,\n      required: false,\n      default: '',\n    },\n  },\n  setup(props, { emit }) {\n    const id = toRef(props, 'idProp')\n    const action = toRef(props, 'actionProp')\n    const title = toRef(props, 'titleProp')\n    const module = toRef(props, 'moduleProp')\n    const isDisabled = toRef(props, 'isDisabledProp')\n    const modules = ref([])\n    const service = new UserAccessManagementService()\n\n    onMounted(async () => {\n      await service.getModules()\n        .then(response => {\n          modules.value = response.data.map(value => value.charAt(0).toUpperCase() + value.slice(1))\n        })\n    })\n\n    const submit = () => {\n      if (id.value === 0) {\n        store.dispatch('UserAccessManagementStore/createAbility', {\n          action: action.value,\n          module: module.value,\n        }).then(\n          () => {\n            emit('closeForm', false)\n          },\n        )\n      } else {\n        store.dispatch('UserAccessManagementStore/updateAbility', {\n          action: action.value,\n          module: module.value,\n          id: id.value,\n        }).then(\n          () => {\n            store.dispatch('UserAccessManagementStore/getAbilities')\n            emit('closeForm', false)\n          },\n        )\n      }\n    }\n\n    const cancel = () => {\n      emit('closeForm', false)\n    }\n\n    return {\n      action,\n      cancel,\n      icons: {\n        mdiAccountOutline,\n        mdiCarKey,\n        mdiEmailOutline,\n        mdiCellphone,\n        mdiLockOutline,\n        mdiViewModule,\n      },\n      isDisabled,\n      module,\n      modules,\n      submit,\n      title,\n    }\n  },\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}