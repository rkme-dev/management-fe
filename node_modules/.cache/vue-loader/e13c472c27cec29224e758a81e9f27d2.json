{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/projects/enco-fe/src/views/pages/sales/drs/DrsListTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/views/pages/sales/drs/DrsListTable.vue","mtime":1666401272970},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1665368576185},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1665368576151},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1665368576185},{"path":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js","mtime":1665368593779}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1kaUFjY291bnRFZGl0LCBtZGlEZWxldGVDaXJjbGUsIG1kaVByaW50ZXIgfSBmcm9tICdAbWRpL2pzJwppbXBvcnQgewogIHJlZiwgY29tcHV0ZWQsIG9uTW91bnRlZCwKfSBmcm9tICdAdnVlL2NvbXBvc2l0aW9uLWFwaScKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnCmltcG9ydCB7IGRhdGVGb3JtYXQxIH0gZnJvbSAnQC91dGlscy90aW1lJwppbXBvcnQgU2FsZXNEckZvcm0gZnJvbSAnLi9TYWxlc0RyRm9ybS52dWUnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0Ryc0xpc3RUYWJsZScsCiAgY29tcG9uZW50czogewogICAgU2FsZXNEckZvcm0sCiAgfSwKICBzZXR1cCgpIHsKICAgIHN0b3JlLmRpc3BhdGNoKCdQcm9kdWN0U3RvcmUvbGlzdCcpCiAgICBjb25zdCBtb2RlRGF0YSA9IHJlZignQ3JlYXRlJykKICAgIGNvbnN0IHNhbGVzT3JkZXJEaWFsb2cgPSByZWYoZmFsc2UpCiAgICBjb25zdCBzZWFyY2ggPSByZWYoJycpCiAgICBjb25zdCBoZWFkZXJzID0gcmVmKFsKICAgICAgewogICAgICAgIHRleHQ6ICdEYXRlJywKICAgICAgICBhbGlnbjogJ3N0YXJ0JywKICAgICAgICBzb3J0YWJsZTogZmFsc2UsCiAgICAgICAgdmFsdWU6ICdjcmVhdGVkX2F0JywKICAgICAgfSwKICAgICAgeyB0ZXh0OiAnRFIgTm8nLCB2YWx1ZTogJ3NhbGVzX2RyX251bWJlcicgfSwKICAgICAgeyB0ZXh0OiAnRG9jdW1lbnQnLCB2YWx1ZTogJ2RvY3VtZW50LmRvY3VtZW50X25hbWUnIH0sCiAgICAgIHsgdGV4dDogJ0N1c3RvbWVyJywgdmFsdWU6ICdjdXN0b21lci5uYW1lJyB9LAogICAgICB7IHRleHQ6ICdUb3RhbCBBbW91bnQnLCB2YWx1ZTogJ2Ftb3VudCcgfSwKICAgICAgeyB0ZXh0OiAnUmVtYWluaW5nIEJhbGFuY2UnLCB2YWx1ZTogJ3JlbWFpbmluZ19iYWxhbmNlJyB9LAogICAgICB7IHRleHQ6ICdTdGF0dXMnLCB2YWx1ZTogJ3N0YXR1cycgfSwKICAgICAgeyB0ZXh0OiAnQWN0aW9ucycsIHZhbHVlOiAnYWN0aW9ucycsIHNvcnRhYmxlOiBmYWxzZSB9LAogICAgXSkKCiAgICBjb25zdCBkZWZhdWx0SXRlbSA9IHJlZih7CiAgICAgIG5hbWU6ICcnLAogICAgICBjb250YWN0X3BlcnNvbjogJycsCiAgICAgIGVtYWlsOiAnJywKICAgICAgdGluOiAnJywKICAgICAgY29udGFjdF9ubzogJycsCiAgICAgIGRlbGl2ZXJ5X2FkZHJlc3M6ICcnLAogICAgfSkKICAgIGNvbnN0IHNhbGVzT3JkZXIgPSByZWYoewogICAgICBkYXRlTW9kYWw6IGZhbHNlLAogICAgICBjdXN0b21lcl9uYW1lOiBudWxsLAogICAgICBjdXN0b21lcl9pZDogbnVsbCwKICAgICAgZGF0ZV9wb3N0ZWQ6IG51bGwsCiAgICAgIHNhbGVzX29yZGVyX251bWJlcjogbnVsbCwKICAgICAgZG9jdW1lbnRfaWQ6IG51bGwsCiAgICAgIGFkZHJlc3M6IG51bGwsCiAgICAgIHJlbWFya3M6IG51bGwsCiAgICAgIGFyZWE6IG51bGwsCiAgICAgIHNhbGVzbWFuX2lkXzE6IG51bGwsCiAgICAgIHNhbGVzbWFuX2lkXzI6IG51bGwsCiAgICAgIHRlcm1faWQ6IG51bGwsCiAgICAgIHZhdF9pZDogbnVsbCwKICAgIH0pCgogICAgY29uc3Qgc2FsZXNPcmRlcnMgPSBjb21wdXRlZCgoKSA9PiBzdG9yZS5zdGF0ZS5TYWxlc0RyU3RvcmUubGlzdCkKICAgIGNvbnN0IGVycm9ycyA9IGNvbXB1dGVkKCgpID0+IHN0b3JlLmdldHRlcnMuZXJyb3JzKQogICAgY29uc3QgbG9hZGluZyA9IGNvbXB1dGVkKCgpID0+IHN0b3JlLnN0YXRlLlNhbGVzRHJTdG9yZS5sb2FkaW5nKQoKICAgIGNvbnN0IGluaXRpYWxpemUgPSAoKSA9PiB7CiAgICAgIHNhbGVzT3JkZXJEaWFsb2cudmFsdWUgPSBmYWxzZQogICAgICBzdG9yZS5kaXNwYXRjaCgnU2FsZXNEclN0b3JlL2xpc3QnKQogICAgfQoKICAgIGNvbnN0IGNyZWF0ZVNhbGVzT3JkZXIgPSAoKSA9PiB7CiAgICAgIG1vZGVEYXRhLnZhbHVlID0gJ0NyZWF0ZScKICAgICAgc2FsZXNPcmRlckRpYWxvZy52YWx1ZSA9IHRydWUKICAgICAgc2FsZXNPcmRlci52YWx1ZSA9IHsKICAgICAgICBkYXRlTW9kYWw6IGZhbHNlLAogICAgICAgIGN1c3RvbWVyX25hbWU6IG51bGwsCiAgICAgICAgY3VzdG9tZXJfaWQ6IG51bGwsCiAgICAgICAgZGF0ZV9wb3N0ZWQ6IG51bGwsCiAgICAgICAgc2FsZXNfb3JkZXJfbnVtYmVyOiBudWxsLAogICAgICAgIGRvY3VtZW50X2lkOiBudWxsLAogICAgICAgIGFkZHJlc3M6IG51bGwsCiAgICAgICAgcmVtYXJrczogbnVsbCwKICAgICAgICBhcmVhOiBudWxsLAogICAgICAgIHNhbGVzbWFuX2lkXzE6IG51bGwsCiAgICAgICAgc2FsZXNtYW5faWRfMjogbnVsbCwKICAgICAgICB0ZXJtX2lkOiBudWxsLAogICAgICAgIHZhdF9pZDogbnVsbCwKICAgICAgfQogICAgfQoKICAgIGNvbnN0IGVkaXRJdGVtID0gaXRlbSA9PiB7CiAgICAgIHNhbGVzT3JkZXIudmFsdWUgPSBpdGVtCiAgICAgIG1vZGVEYXRhLnZhbHVlID0gJ0VkaXQnCiAgICAgIHNhbGVzT3JkZXJEaWFsb2cudmFsdWUgPSB0cnVlCiAgICB9CgogICAgb25Nb3VudGVkKCgpID0+IHsKICAgICAgaW5pdGlhbGl6ZSgpCiAgICB9KQoKICAgIGNvbnN0IHJlZGlyZWN0UHJpbnQgPSBpZCA9PiB7CiAgICAgIHdpbmRvdy5vcGVuKGBodHRwOi8vbG9jYWxob3N0L3ByaW50LXNvLWRlbGl2ZXJ5LXJlY2VpcHQvJHtpZH1gLCAnX2JsYW5rJykKICAgIH0KCiAgICByZXR1cm4gewogICAgICBlZGl0SXRlbSwKICAgICAgc2FsZXNPcmRlciwKICAgICAgY3JlYXRlU2FsZXNPcmRlciwKICAgICAgbW9kZURhdGEsCiAgICAgIHNhbGVzT3JkZXJEaWFsb2csCiAgICAgIG1kaUFjY291bnRFZGl0LAogICAgICBtZGlEZWxldGVDaXJjbGUsCiAgICAgIGRlZmF1bHRJdGVtLAogICAgICBoZWFkZXJzLAogICAgICBzZWFyY2gsCiAgICAgIHNhbGVzT3JkZXJzLAogICAgICBlcnJvcnMsCiAgICAgIGluaXRpYWxpemUsCiAgICAgIGxvYWRpbmcsCiAgICAgIGRhdGVGb3JtYXQxLAogICAgICBpY29uczogewogICAgICAgIG1kaUFjY291bnRFZGl0LAogICAgICAgIG1kaURlbGV0ZUNpcmNsZSwKICAgICAgfSwKICAgICAgbWRpUHJpbnRlciwKICAgICAgcmVkaXJlY3RQcmludCwKICAgIH0KICB9LAp9Cg=="},{"version":3,"sources":["DrsListTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkHA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DrsListTable.vue","sourceRoot":"src/views/pages/sales/drs","sourcesContent":["<template>\n  <div>\n    <v-data-table\n      :headers=\"headers\"\n      :items=\"salesOrders\"\n      sort-by=\"name\"\n      class=\"elevation-1\"\n      :search=\"search\"\n      :loading=\"loading\"\n    >\n      <template #item.created_at=\"{ item }\">\n        {{ dateFormat1(item.created_at) }}\n      </template>\n      <template #item.amount=\"{ item }\">\n        <v-currency-field\n          prefix=\"PHP\"\n          class=\"text-green\"\n          v-model=\"item.amount\"\n          disabled\n        >\n        </v-currency-field>\n      </template>\n      <template #item.remaining_balance=\"{ item }\">\n        <v-currency-field\n          prefix=\"PHP\"\n          class=\"text-green\"\n          v-model=\"item.remaining_balance\"\n          disabled\n        >\n        </v-currency-field>\n      </template>\n      <template v-slot:top>\n        <v-toolbar\n          color=\"teal\"\n          outlined\n        >\n          <v-toolbar-title>Sales Drs</v-toolbar-title>\n          <v-divider\n            class=\"mx-4\"\n            inset\n            vertical\n          ></v-divider>\n          <v-spacer></v-spacer>\n          <v-text-field\n            v-model=\"search\"\n            append-icon=\"mdi-magnify\"\n            label=\"Search\"\n            single-line\n            hide-details\n            class=\"mr-4\"\n          ></v-text-field>\n          <v-btn\n            color=\"primary\"\n            dark\n            class=\"mb-2\"\n            @click=\"$router.push('/sales-drs/create')\"\n          >\n            Create Sales DR\n          </v-btn>\n          <v-dialog\n            v-model=\"salesOrderDialog\"\n            width=\"900px\"\n            fullscreen\n            max-width=\"900px\"\n            max-height=\"900px\"\n            height=\"500px\"\n            transition=\"dialog-bottom-transition\"\n          >\n            <sales-dr-form\n              :mode=\"modeData\"\n              :data=\"salesOrder\"\n              @submit=\"initialize\"\n            ></sales-dr-form>\n          </v-dialog>\n        </v-toolbar>\n      </template>\n      <template v-slot:item.actions=\"{ item }\">\n        <v-icon\n          medium\n          class=\"mr-2\"\n          @click=\"editItem(item)\"\n        >\n          {{ icons.mdiAccountEdit }}\n        </v-icon>\n        <v-icon\n          v-if=\"item.is_active === 'Active'\"\n          small\n          @click=\"deleteItem(item)\"\n        >\n          {{ icons.mdiDeleteCircle }}\n        </v-icon>\n        <v-icon\n          color=\"info\"\n          style=\"margin-left: 10px\"\n          medium\n          class=\"mr-2\"\n          @click=\"redirectPrint(item.id)\"\n        >\n          {{ mdiPrinter }}\n        </v-icon>\n      </template>\n      <template v-slot:no-data>\n        <v-btn\n          color=\"primary\"\n          @click=\"initialize\"\n        >\n          Reset\n        </v-btn>\n      </template>\n    </v-data-table>\n  </div>\n</template>\n\n<script>\nimport { mdiAccountEdit, mdiDeleteCircle, mdiPrinter } from '@mdi/js'\nimport {\n  ref, computed, onMounted,\n} from '@vue/composition-api'\nimport store from '@/store'\nimport { dateFormat1 } from '@/utils/time'\nimport SalesDrForm from './SalesDrForm.vue'\n\nexport default {\n  name: 'DrsListTable',\n  components: {\n    SalesDrForm,\n  },\n  setup() {\n    store.dispatch('ProductStore/list')\n    const modeData = ref('Create')\n    const salesOrderDialog = ref(false)\n    const search = ref('')\n    const headers = ref([\n      {\n        text: 'Date',\n        align: 'start',\n        sortable: false,\n        value: 'created_at',\n      },\n      { text: 'DR No', value: 'sales_dr_number' },\n      { text: 'Document', value: 'document.document_name' },\n      { text: 'Customer', value: 'customer.name' },\n      { text: 'Total Amount', value: 'amount' },\n      { text: 'Remaining Balance', value: 'remaining_balance' },\n      { text: 'Status', value: 'status' },\n      { text: 'Actions', value: 'actions', sortable: false },\n    ])\n\n    const defaultItem = ref({\n      name: '',\n      contact_person: '',\n      email: '',\n      tin: '',\n      contact_no: '',\n      delivery_address: '',\n    })\n    const salesOrder = ref({\n      dateModal: false,\n      customer_name: null,\n      customer_id: null,\n      date_posted: null,\n      sales_order_number: null,\n      document_id: null,\n      address: null,\n      remarks: null,\n      area: null,\n      salesman_id_1: null,\n      salesman_id_2: null,\n      term_id: null,\n      vat_id: null,\n    })\n\n    const salesOrders = computed(() => store.state.SalesDrStore.list)\n    const errors = computed(() => store.getters.errors)\n    const loading = computed(() => store.state.SalesDrStore.loading)\n\n    const initialize = () => {\n      salesOrderDialog.value = false\n      store.dispatch('SalesDrStore/list')\n    }\n\n    const createSalesOrder = () => {\n      modeData.value = 'Create'\n      salesOrderDialog.value = true\n      salesOrder.value = {\n        dateModal: false,\n        customer_name: null,\n        customer_id: null,\n        date_posted: null,\n        sales_order_number: null,\n        document_id: null,\n        address: null,\n        remarks: null,\n        area: null,\n        salesman_id_1: null,\n        salesman_id_2: null,\n        term_id: null,\n        vat_id: null,\n      }\n    }\n\n    const editItem = item => {\n      salesOrder.value = item\n      modeData.value = 'Edit'\n      salesOrderDialog.value = true\n    }\n\n    onMounted(() => {\n      initialize()\n    })\n\n    const redirectPrint = id => {\n      window.open(`http://localhost/print-so-delivery-receipt/${id}`, '_blank')\n    }\n\n    return {\n      editItem,\n      salesOrder,\n      createSalesOrder,\n      modeData,\n      salesOrderDialog,\n      mdiAccountEdit,\n      mdiDeleteCircle,\n      defaultItem,\n      headers,\n      search,\n      salesOrders,\n      errors,\n      initialize,\n      loading,\n      dateFormat1,\n      icons: {\n        mdiAccountEdit,\n        mdiDeleteCircle,\n      },\n      mdiPrinter,\n      redirectPrint,\n    }\n  },\n}\n</script>\n<style>\n.text-green input {\n  color: chartreuse !important;\n}\n\n</style>\n"]}]}