{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/projects/enco-fe/src/views/pages/sales/client/ClientInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/views/pages/sales/client/ClientInfo.vue","mtime":1656456528689},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1652172763063},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js","mtime":1650363919730}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7Y29tcHV0ZWQsIHJlZiwgd2F0Y2h9IGZyb20gJ0B2dWUvY29tcG9zaXRpb24tYXBpJwppbXBvcnQgcm91dGVyIGZyb20gJ0Avcm91dGVyJwppbXBvcnQgc3RvcmUgZnJvbSAiQC9zdG9yZSI7CmltcG9ydCB7Q1JFQVRFX0NVU1RPTUVSLCBVUERBVEVfQ1VTVE9NRVJ9IGZyb20gIkAvc3RvcmUvYWN0aW9ucy50eXBlIjsKaW1wb3J0IHtTRVRfRVJST1J9IGZyb20gIkAvc3RvcmUvbXV0YXRpb25zLnR5cGUiOwoKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICBpbmZvcm1hdGlvbkRhdGE6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiAoKSA9PiAoewogICAgICAgIG5hbWU6ICcnLAogICAgICAgIHZhdDogJycsCiAgICAgICAgdGluOiAnJywKICAgICAgICBjb250YWN0X25vOiAnJywKICAgICAgICBjb250YWN0X3BlcnNvbjogJycsCiAgICAgICAgZGVsaXZlcnlfYWRkcmVzczogJycsCiAgICAgICAgZW1haWw6ICcnLAogICAgICAgIHRlcm1zOiAnJywKICAgICAgICB2YXRfcmF0ZTogJycsCiAgICAgIH0pLAogICAgfSwKICAgIG1vZGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgfQogIH0sCiAgc2V0dXAocHJvcHMpIHsKICAgIGNvbnN0IGVycm9ycyA9IGNvbXB1dGVkKCgpID0+IHN0b3JlLmdldHRlcnMuZXJyb3JzKQogICAgY29uc3Qgb3B0aW9uc0xvY2FsID0gY29tcHV0ZWQoKCkgPT4gcHJvcHMuaW5mb3JtYXRpb25EYXRhKQogICAgY29uc3Qgc2hvd0FsZXJ0ID0gcmVmKGZhbHNlKQogICAgY29uc3QgYnV0dG9uTGFiZWwgPSBwcm9wcy5tb2RlID09PSAnY3JlYXRlJyA/ICdTYXZlJyA6ICdVcGRhdGUnCgogICAgY29uc3QgZ29CYWNrID0gKCkgPT4gewogICAgICByb3V0ZXIucHVzaCgnL3NhbGVzL2NsaWVudHMnKQogICAgfQoKICAgIGNvbnN0IHJlc29sdmVGb3JtU3VjY2VzcyA9ICgpID0+IHsKICAgICAgc2hvd0FsZXJ0LnZhbHVlID0gdHJ1ZQogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICBnb0JhY2soKQogICAgICB9LCA1MDAwKTsKICAgIH0KCiAgICBjb25zdCBzYXZlID0gKCkgPT4gewogICAgICBsZXQgZm9ybSA9IG9wdGlvbnNMb2NhbC52YWx1ZQoKICAgICAgaWYgKHByb3BzLm1vZGUgPT09ICd1cGRhdGUnKSB7CiAgICAgICAgc3RvcmUuZGlzcGF0Y2goVVBEQVRFX0NVU1RPTUVSLCBmb3JtKS50aGVuKChkYXRhKSA9PiB7CiAgICAgICAgICBpZiAoZGF0YSAhPSBudWxsKSB7CiAgICAgICAgICAgIHJlc29sdmVGb3JtU3VjY2VzcygpCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfQoKICAgICAgaWYgKHByb3BzLm1vZGUgPT09ICdjcmVhdGUnKSB7CiAgICAgICAgc3RvcmUuZGlzcGF0Y2goQ1JFQVRFX0NVU1RPTUVSLCBmb3JtKS50aGVuKChkYXRhKSA9PiB7CiAgICAgICAgICBpZiAoZGF0YSAhPSBudWxsKSB7CiAgICAgICAgICAgIHJlc29sdmVGb3JtU3VjY2VzcygpCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfQogICAgfQoKICAgIHJldHVybiB7CiAgICAgIG9wdGlvbnNMb2NhbCwKICAgICAgZ29CYWNrLAogICAgICBzYXZlLAogICAgICBzaG93QWxlcnQsCiAgICAgIGVycm9ycywKICAgICAgYnV0dG9uTGFiZWwsCiAgICB9CiAgfSwKfQo="},{"version":3,"sources":["ClientInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwKA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ClientInfo.vue","sourceRoot":"src/views/pages/sales/client","sourcesContent":["<template>\n  <v-card\n    flat\n    class=\"pa-3 mt-2\"\n  >\n    <v-alert\n      dense\n      text\n      type=\"success\"\n      v-show=\"showAlert\"\n    >\n      Successfully <strong>{{ mode }}d</strong> a client information. You will be automatically\n      redirected in a bit.\n    </v-alert>\n    <v-form class=\"multi-col-validation\">\n      <v-card-text class=\"pt-5\">\n        <v-row>\n          <v-col cols=\"12\">\n            <v-text-field\n              v-model=\"optionsLocal.name\"\n              outlined\n              dense\n              label=\"Name\"\n              :readonly=\"mode === 'show'\"\n              hide-details=\"auto\"\n              :error-messages=\"errors.name\"\n              :persistent-placeholder=\"mode === 'show'\"\n            ></v-text-field>\n          </v-col>\n\n          <v-col\n            cols=\"12\"\n            md=\"6\"\n          >\n            <v-text-field\n              v-model=\"optionsLocal.tin\"\n              outlined\n              dense\n              label=\"Tin\"\n              :readonly=\"mode === 'show'\"\n              hide-details=\"auto\"\n              :error-messages=\"errors.tin\"\n              :persistent-placeholder=\"mode === 'show'\"\n            ></v-text-field>\n          </v-col>\n\n          <v-col\n            cols=\"12\"\n            md=\"6\"\n          >\n            <v-text-field\n              v-model=\"optionsLocal.contact_no\"\n              outlined\n              dense\n              label=\"Contact No.\"\n              :readonly=\"mode === 'show'\"\n              hide-details=\"auto\"\n              :error-messages=\"errors.contact_no\"\n              :persistent-placeholder=\"mode === 'show'\"\n            ></v-text-field>\n          </v-col>\n\n          <v-col\n            cols=\"12\"\n            md=\"6\"\n          >\n            <v-text-field\n              v-model=\"optionsLocal.contact_person\"\n              outlined\n              dense\n              label=\"Contact Person\"\n              :readonly=\"mode === 'show'\"\n              hide-details=\"auto\"\n              :error-messages=\"errors.contact_person\"\n              :persistent-placeholder=\"mode === 'show'\"\n            ></v-text-field>\n          </v-col>\n\n          <v-col\n            cols=\"12\"\n            md=\"6\"\n          >\n            <v-textarea\n              v-model=\"optionsLocal.delivery_address\"\n              outlined\n              rows=\"3\"\n              label=\"Delivery Address\"\n              :readonly=\"mode === 'show'\"\n              hide-details=\"auto\"\n              :error-messages=\"errors.delivery_address\"\n              :persistent-placeholder=\"mode === 'show'\"\n            ></v-textarea>\n          </v-col>\n\n          <v-col\n            cols=\"12\"\n            md=\"6\"\n          >\n            <v-text-field\n              v-model=\"optionsLocal.email\"\n              outlined\n              dense\n              label=\"Email\"\n              :readonly=\"mode === 'show'\"\n              hide-details=\"auto\"\n              :error-messages=\"errors.email\"\n              :persistent-placeholder=\"mode === 'show'\"\n            ></v-text-field>\n          </v-col>\n\n          <v-col\n            cols=\"12\"\n            md=\"6\"\n          >\n            <v-textarea\n              v-model=\"optionsLocal.terms\"\n              outlined\n              rows=\"3\"\n              label=\"Terms\"\n              :readonly=\"mode === 'show'\"\n              hide-details=\"auto\"\n              :error-messages=\"errors.terms\"\n              :persistent-placeholder=\"mode === 'show'\"\n            ></v-textarea>\n          </v-col>\n\n          <v-col\n            cols=\"12\"\n            md=\"6\"\n          >\n            <v-text-field\n              v-model=\"optionsLocal.vat_rate\"\n              outlined\n              dense\n              label=\"Vat Rate\"\n              :readonly=\"mode === 'show'\"\n              hide-details=\"auto\"\n              :error-messages=\"errors.vat_rate\"\n              :persistent-placeholder=\"mode === 'show'\"\n            ></v-text-field>\n          </v-col>\n        </v-row>\n      </v-card-text>\n\n      <v-card-text>\n        <v-btn\n          outlined\n          class=\"mt-3 mr-3\"\n          color=\"primary\"\n          v-show=\"mode === 'create' || mode === 'update'\"\n          @click=\"save\"\n        >\n          {{ buttonLabel }}\n        </v-btn>\n        <v-btn\n          outlined\n          class=\"mt-3\"\n          type=\"reset\"\n          @click.prevent=\"goBack\"\n        >\n          Back to List\n        </v-btn>\n      </v-card-text>\n    </v-form>\n  </v-card>\n</template>\n\n<script>\nimport {computed, ref, watch} from '@vue/composition-api'\nimport router from '@/router'\nimport store from \"@/store\";\nimport {CREATE_CUSTOMER, UPDATE_CUSTOMER} from \"@/store/actions.type\";\nimport {SET_ERROR} from \"@/store/mutations.type\";\n\nexport default {\n  props: {\n    informationData: {\n      type: Object,\n      default: () => ({\n        name: '',\n        vat: '',\n        tin: '',\n        contact_no: '',\n        contact_person: '',\n        delivery_address: '',\n        email: '',\n        terms: '',\n        vat_rate: '',\n      }),\n    },\n    mode: {\n      type: String,\n    }\n  },\n  setup(props) {\n    const errors = computed(() => store.getters.errors)\n    const optionsLocal = computed(() => props.informationData)\n    const showAlert = ref(false)\n    const buttonLabel = props.mode === 'create' ? 'Save' : 'Update'\n\n    const goBack = () => {\n      router.push('/sales/clients')\n    }\n\n    const resolveFormSuccess = () => {\n      showAlert.value = true\n      setTimeout(() => {\n        goBack()\n      }, 5000);\n    }\n\n    const save = () => {\n      let form = optionsLocal.value\n\n      if (props.mode === 'update') {\n        store.dispatch(UPDATE_CUSTOMER, form).then((data) => {\n          if (data != null) {\n            resolveFormSuccess()\n          }\n        })\n      }\n\n      if (props.mode === 'create') {\n        store.dispatch(CREATE_CUSTOMER, form).then((data) => {\n          if (data != null) {\n            resolveFormSuccess()\n          }\n        })\n      }\n    }\n\n    return {\n      optionsLocal,\n      goBack,\n      save,\n      showAlert,\n      errors,\n      buttonLabel,\n    }\n  },\n}\n</script>\n"]}]}