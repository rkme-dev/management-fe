{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/projects/enco-fe/src/views/pages/warehouse/raw-materials/RawMaterialListTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/views/pages/warehouse/raw-materials/RawMaterialListTable.vue","mtime":1659098301382},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1652172763063},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js","mtime":1650363919730}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgbWRpQWNjb3VudEVkaXQsCiAgbWRpRGVsZXRlQ2lyY2xlLAogIG1kaUV5ZUNpcmNsZSwKICBtZGlNYWduaWZ5LAp9IGZyb20gJ0BtZGkvanMnCmltcG9ydCBBYmlsaXR5Rm9ybSBmcm9tICdAL3ZpZXdzL3BhZ2VzL3VzZXItYWNjZXNzLW1hbmFnZW1lbnQvYWJpbGl0aWVzL0FiaWxpdHlGb3JtLnZ1ZScKaW1wb3J0IHsgcmVmIH0gZnJvbSAnQHZ1ZS9jb21wb3NpdGlvbi1hcGknCgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQWJpbGl0eUZvcm0sCiAgfSwKICBzZXR1cCgpIHsKICAgIGNvbnN0IHNlYXJjaCA9IHJlZigpCgogICAgY29uc3Qgc3RhdHVzQ29sb3IgPSB7CiAgICAgIC8qIGVzbGludC1kaXNhYmxlIGtleS1zcGFjaW5nICovCiAgICAgIHBlbmRpbmdfcmVxdWVzdDogJ2luZm8nLAogICAgICByZWxlYXNlZDogJ3N1Y2Nlc3MnLAogICAgICByZWNlaXZlZDogJ3ByaW1hcnknLAogICAgICBjYW5jZWxsZWQ6ICdlcnJvcicsCiAgICAgIEFwcGxpZWQ6ICdpbmZvJywKICAgICAgLyogZXNsaW50LWVuYWJsZSBrZXktc3BhY2luZyAqLwogICAgfQoKICAgIGNvbnN0IHN0YXR1cyA9IHsKICAgICAgcGVuZGluZ19yZXF1ZXN0OiAnUGVuZGluZycsCiAgICAgIHJlbGVhc2VkOiAnUmVsZWFzZWQnLAogICAgICByZWNlaXZlZDogJ1JlY2VpdmVkJywKICAgICAgY2FuY2VsbGVkOiAnQ2FuY2VsbGVkJywKICAgIH0KCiAgICBjb25zdCB0aXRsZUNhc2UgPSBzID0+IHMucmVwbGFjZSgvXlstX10qKC4pLywgKF8sIGMpID0+IGMudG9VcHBlckNhc2UoKSkKICAgICAgLnJlcGxhY2UoL1stX10rKC4pL2csIChfLCBjKSA9PiBgICR7Yy50b1VwcGVyQ2FzZSgpfWApCgogICAgcmV0dXJuIHsKICAgICAgdGl0bGVDYXNlLAogICAgICBpY29uczogewogICAgICAgIG1kaUFjY291bnRFZGl0LAogICAgICAgIG1kaURlbGV0ZUNpcmNsZSwKICAgICAgICBtZGlFeWVDaXJjbGUsCiAgICAgICAgbWRpTWFnbmlmeSwKICAgICAgfSwKICAgICAgc3RhdHVzLAogICAgICBzZWFyY2gsCiAgICAgIHN0YXR1c0NvbG9yLAogICAgfQogIH0sCiAgZGF0YTogKCkgPT4gKHsKICAgIGRpYWxvZzogZmFsc2UsCiAgICBkaWFsb2dEZWxldGU6IGZhbHNlLAogICAgaGVhZGVyczogWwogICAgICB7CiAgICAgICAgdGV4dDogJyMnLAogICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgIHZhbHVlOiAnaWQnLAogICAgICB9LAogICAgICB7CiAgICAgICAgdGV4dDogJ1Byb2R1Y3QnLAogICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgIHZhbHVlOiAncHJvZHVjdC5uYW1lJywKICAgICAgfSwKICAgICAgeyB0ZXh0OiAnU3RhdHVzJywgdmFsdWU6ICdzdGF0dXMnIH0sCiAgICAgIHsgdGV4dDogJyMgUGllY2VzJywgdmFsdWU6ICd0b3RhbF9waWVjZXMnIH0sCiAgICAgIHsgdGV4dDogJyMgQm94ZXMnLCB2YWx1ZTogJ3RvdGFsX2JveGVzJyB9LAogICAgICB7IHRleHQ6ICdQcmVwYXJlZCBCeScsIHZhbHVlOiAnY3JlYXRlZF9ieScgfSwKICAgICAgeyB0ZXh0OiAnUmVsZWFzZWQgQnknLCB2YWx1ZTogJ3JlbGVhc2VkX2J5JyB9LAogICAgICB7IHRleHQ6ICdEYXRlIENyZWF0ZWQnLCB2YWx1ZTogJ2NyZWF0ZWRfYXQnIH0sCiAgICAgIHsgdGV4dDogJ0FjdGlvbnMnLCB2YWx1ZTogJ2FjdGlvbnMnLCBzb3J0YWJsZTogZmFsc2UgfSwKICAgIF0sCiAgICBlZGl0ZWRJbmRleDogLTEsCiAgICBlZGl0ZWRJdGVtOiB7CiAgICAgIGlkOiAwLAogICAgICB0aXRsZTogJycsCiAgICAgIG5hbWU6ICcnLAogICAgICBhY3Rpb246ICcnLAogICAgICBtb2R1bGU6ICcnLAogICAgICBpc19kaXNhYmxlZDogZmFsc2UsCiAgICB9LAogICAgZGVmYXVsdEl0ZW06IHsKICAgICAgaWQ6IDAsCiAgICAgIHRpdGxlOiAnJywKICAgICAgbmFtZTogJycsCiAgICAgIGFjdGlvbjogJycsCiAgICAgIG1vZHVsZTogJycsCiAgICAgIGlzX2Rpc2FibGVkOiBmYWxzZSwKICAgIH0sCiAgfSksCgogIGNvbXB1dGVkOiB7CiAgICBmb3JtVGl0bGUoKSB7CiAgICAgIHJldHVybiB0aGlzLmVkaXRlZEluZGV4ID09PSAtMSA/ICdOZXcgUmVsZWFzZSBPcmRlciAnIDogJ0VkaXQgUmVsZWFzZSBPcmRlcicKICAgIH0sCiAgICByZWxlYXNlT3JkZXJzKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuUmVsZWFzZU9yZGVyU3RvcmUucmVsZWFzZU9yZGVycwogICAgfSwKICAgIGxvYWRpbmcoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5SZWxlYXNlT3JkZXJTdG9yZS5sb2FkaW5nCiAgICB9LAogIH0sCgogIHdhdGNoOiB7CiAgICBkaWFsb2codmFsKSB7CiAgICAgIHJldHVybiB2YWwgfHwgdGhpcy5jbG9zZSgpCiAgICB9LAogICAgZGlhbG9nRGVsZXRlKHZhbCkgewogICAgICByZXR1cm4gdmFsIHx8IHRoaXMuY2xvc2VEZWxldGUoKQogICAgfSwKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnUmVsZWFzZU9yZGVyU3RvcmUvZ2V0UmVsZWFzZU9yZGVycycpCiAgfSwKCiAgbWV0aG9kczogewogICAgZWRpdEl0ZW0oaXRlbSkgewogICAgICB0aGlzLmVkaXRlZEluZGV4ID0gdGhpcy5hYmlsaXRpZXMuaW5kZXhPZihpdGVtKQogICAgICB0aGlzLmVkaXRlZEl0ZW0gPSB7IC4uLml0ZW0gfQogICAgICB0aGlzLmRpYWxvZyA9IHRydWUKICAgIH0sCgogICAgZGVsZXRlSXRlbShpdGVtKSB7CiAgICAgIHRoaXMuZWRpdGVkSW5kZXggPSB0aGlzLmFiaWxpdGllcy5pbmRleE9mKGl0ZW0pCiAgICAgIHRoaXMuZWRpdGVkSXRlbSA9IHsgLi4uaXRlbSB9CiAgICAgIHRoaXMuZGlhbG9nRGVsZXRlID0gdHJ1ZQogICAgfSwKCiAgICBkZWxldGVJdGVtQ29uZmlybSgpIHsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ1VzZXJBY2Nlc3NNYW5hZ2VtZW50U3RvcmUvZGVsZXRlQWJpbGl0eScsIHRoaXMuYWJpbGl0aWVzW3RoaXMuZWRpdGVkSW5kZXhdKQogICAgICB0aGlzLmFiaWxpdGllcy5zcGxpY2UodGhpcy5lZGl0ZWRJbmRleCwgMSkKICAgICAgdGhpcy5jbG9zZURlbGV0ZSgpCiAgICB9LAoKICAgIGNsb3NlKCkgewogICAgICB0aGlzLmRpYWxvZyA9IGZhbHNlCiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLmVkaXRlZEl0ZW0gPSB7IC4uLnRoaXMuZGVmYXVsdEl0ZW0gfQogICAgICAgIHRoaXMuZWRpdGVkSW5kZXggPSAtMQogICAgICB9KQogICAgfSwKCiAgICBjbG9zZURlbGV0ZSgpIHsKICAgICAgdGhpcy5kaWFsb2dEZWxldGUgPSBmYWxzZQogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgdGhpcy5lZGl0ZWRJdGVtID0geyAuLi50aGlzLmRlZmF1bHRJdGVtIH0KICAgICAgICB0aGlzLmVkaXRlZEluZGV4ID0gLTEKICAgICAgfSkKICAgIH0sCgogICAgc2F2ZSgpIHsKICAgICAgaWYgKHRoaXMuZWRpdGVkSW5kZXggPiAtMSkgewogICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5hYmlsaXRpZXNbdGhpcy5lZGl0ZWRJbmRleF0sIHRoaXMuZWRpdGVkSXRlbSkKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmFiaWxpdGllcy5wdXNoKHRoaXMuZWRpdGVkSXRlbSkKICAgICAgfQogICAgICB0aGlzLmNsb3NlKCkKICAgIH0sCiAgfSwKfQo="},{"version":3,"sources":["RawMaterialListTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"RawMaterialListTable.vue","sourceRoot":"src/views/pages/warehouse/raw-materials","sourcesContent":["<template>\n  <div>\n    <v-data-table\n      :headers=\"headers\"\n      :items=\"releaseOrders\"\n      :search=\"search\"\n      sort-by=\"title\"\n      class=\"elevation-1\"\n      fixed-header\n      :loading=\"loading\"\n    >\n      <template v-slot:top>\n        <v-toolbar\n          flat\n        >\n          <v-col\n            cols=\"12\"\n            offset-md=\"12\"\n            md=\"2\"\n          >\n            <v-toolbar-title>\n              Release Orders\n            </v-toolbar-title>\n          </v-col>\n          <v-divider\n            class=\"mx-4\"\n            inset\n            vertical\n          ></v-divider>\n          <v-card-text>\n            <v-row>\n              <v-col\n                cols=\"8\"\n                offset-md=\"8\"\n                md=\"4\"\n              >\n                <v-text-field\n                  v-model=\"search\"\n                  :append-icon=\"icons.mdiMagnify\"\n                  label=\"Search\"\n                  single-line\n                  hide-details\n                ></v-text-field>\n              </v-col>\n            </v-row>\n          </v-card-text>\n          <v-dialog\n            v-model=\"dialog\"\n            max-width=\"500px\"\n          >\n            <template v-slot:activator=\"{ on, attrs }\">\n            </template>\n            <v-card>\n              <v-card-title>\n                <span class=\"headline\">{{ formTitle }}</span>\n              </v-card-title>\n\n              <v-card-text>\n                <ability-form\n                  :id-prop=\"editedItem.id\"\n                  :action-prop=\"editedItem.action\"\n                  :module-prop=\"editedItem.module\"\n                  :is-disabled-prop=\"editedItem.is_disabled\"\n                  :title-prop=\"editedItem.title\"\n                  @closeForm=\"close()\"\n                ></ability-form>\n              </v-card-text>\n            </v-card>\n          </v-dialog>\n          <v-dialog\n            v-model=\"dialogDelete\"\n            max-width=\"500px\"\n          >\n            <v-card>\n              <v-card-title>\n                Are you sure you want to delete this item?\n              </v-card-title>\n              <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn\n                  color=\"error\"\n                  text\n                  @click=\"closeDelete\"\n                >\n                  Cancel\n                </v-btn>\n                <v-btn\n                  color=\"success\"\n                  text\n                  @click=\"deleteItemConfirm\"\n                >\n                  OK\n                </v-btn>\n                <v-spacer></v-spacer>\n              </v-card-actions>\n            </v-card>\n          </v-dialog>\n        </v-toolbar>\n      </template>\n      <!-- status -->\n      <template #[`item.status`]=\"{item}\">\n        <v-chip\n          small\n          :class=\"`${statusColor[item.status]}--text`\"\n          class=\"v-chip-light-bg\"\n        >\n          {{ status[item.status] }}\n        </v-chip>\n      </template>\n      <template v-slot:no-data>\n        <v-btn\n          color=\"primary\"\n        >\n          Refresh\n        </v-btn>\n      </template>\n      <template v-slot:item.actions=\"{ item }\">\n        <v-icon\n          small\n          class=\"mr-2\"\n          @click=\"editItem(item)\"\n        >\n          {{ icons.mdiAccountEdit }}\n        </v-icon>\n        <v-icon\n          small\n          @click=\"deleteItem(item)\"\n        >\n          {{ icons.mdiDeleteCircle }}\n        </v-icon>\n      </template>\n      <template v-slot:no-data>\n        <v-btn\n          color=\"primary\"\n        >\n          Refresh\n        </v-btn>\n      </template>\n    </v-data-table>\n  </div>\n</template>\n\n<script>\nimport {\n  mdiAccountEdit,\n  mdiDeleteCircle,\n  mdiEyeCircle,\n  mdiMagnify,\n} from '@mdi/js'\nimport AbilityForm from '@/views/pages/user-access-management/abilities/AbilityForm.vue'\nimport { ref } from '@vue/composition-api'\n\nexport default {\n  components: {\n    AbilityForm,\n  },\n  setup() {\n    const search = ref()\n\n    const statusColor = {\n      /* eslint-disable key-spacing */\n      pending_request: 'info',\n      released: 'success',\n      received: 'primary',\n      cancelled: 'error',\n      Applied: 'info',\n      /* eslint-enable key-spacing */\n    }\n\n    const status = {\n      pending_request: 'Pending',\n      released: 'Released',\n      received: 'Received',\n      cancelled: 'Cancelled',\n    }\n\n    const titleCase = s => s.replace(/^[-_]*(.)/, (_, c) => c.toUpperCase())\n      .replace(/[-_]+(.)/g, (_, c) => ` ${c.toUpperCase()}`)\n\n    return {\n      titleCase,\n      icons: {\n        mdiAccountEdit,\n        mdiDeleteCircle,\n        mdiEyeCircle,\n        mdiMagnify,\n      },\n      status,\n      search,\n      statusColor,\n    }\n  },\n  data: () => ({\n    dialog: false,\n    dialogDelete: false,\n    headers: [\n      {\n        text: '#',\n        sortable: true,\n        value: 'id',\n      },\n      {\n        text: 'Product',\n        sortable: true,\n        value: 'product.name',\n      },\n      { text: 'Status', value: 'status' },\n      { text: '# Pieces', value: 'total_pieces' },\n      { text: '# Boxes', value: 'total_boxes' },\n      { text: 'Prepared By', value: 'created_by' },\n      { text: 'Released By', value: 'released_by' },\n      { text: 'Date Created', value: 'created_at' },\n      { text: 'Actions', value: 'actions', sortable: false },\n    ],\n    editedIndex: -1,\n    editedItem: {\n      id: 0,\n      title: '',\n      name: '',\n      action: '',\n      module: '',\n      is_disabled: false,\n    },\n    defaultItem: {\n      id: 0,\n      title: '',\n      name: '',\n      action: '',\n      module: '',\n      is_disabled: false,\n    },\n  }),\n\n  computed: {\n    formTitle() {\n      return this.editedIndex === -1 ? 'New Release Order ' : 'Edit Release Order'\n    },\n    releaseOrders() {\n      return this.$store.state.ReleaseOrderStore.releaseOrders\n    },\n    loading() {\n      return this.$store.state.ReleaseOrderStore.loading\n    },\n  },\n\n  watch: {\n    dialog(val) {\n      return val || this.close()\n    },\n    dialogDelete(val) {\n      return val || this.closeDelete()\n    },\n  },\n  created() {\n    this.$store.dispatch('ReleaseOrderStore/getReleaseOrders')\n  },\n\n  methods: {\n    editItem(item) {\n      this.editedIndex = this.abilities.indexOf(item)\n      this.editedItem = { ...item }\n      this.dialog = true\n    },\n\n    deleteItem(item) {\n      this.editedIndex = this.abilities.indexOf(item)\n      this.editedItem = { ...item }\n      this.dialogDelete = true\n    },\n\n    deleteItemConfirm() {\n      this.$store.dispatch('UserAccessManagementStore/deleteAbility', this.abilities[this.editedIndex])\n      this.abilities.splice(this.editedIndex, 1)\n      this.closeDelete()\n    },\n\n    close() {\n      this.dialog = false\n      this.$nextTick(() => {\n        this.editedItem = { ...this.defaultItem }\n        this.editedIndex = -1\n      })\n    },\n\n    closeDelete() {\n      this.dialogDelete = false\n      this.$nextTick(() => {\n        this.editedItem = { ...this.defaultItem }\n        this.editedIndex = -1\n      })\n    },\n\n    save() {\n      if (this.editedIndex > -1) {\n        Object.assign(this.abilities[this.editedIndex], this.editedItem)\n      } else {\n        this.abilities.push(this.editedItem)\n      }\n      this.close()\n    },\n  },\n}\n</script>\n"]}]}