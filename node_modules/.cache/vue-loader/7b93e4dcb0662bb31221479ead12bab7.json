{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/projects/enco-fe/src/views/pages/warehouse/raw-materials-release/ReleaseForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/views/pages/warehouse/raw-materials-release/ReleaseForm.vue","mtime":1659925293627},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1652172763063},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js","mtime":1650363919730}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgcmVmLCBjb21wdXRlZCwgb25Nb3VudGVkLCB3YXRjaCwgdG9SZWYsCn0gZnJvbSAnQHZ1ZS9jb21wb3NpdGlvbi1hcGknCmltcG9ydCB7CiAgbWRpQWNjZXNzUG9pbnRDaGVjaywKICBtZGlBY2NvdW50T3V0bGluZSwKICBtZGlQdXp6bGUsCiAgbWRpQ2FsZW5kYXIsCiAgbWRpQ2VsbHBob25lLAogIG1kaUVtYWlsT3V0bGluZSwgbWRpRXllLCBtZGlFeWVPZmYsCiAgbWRpR2VuZGVyTm9uQmluYXJ5LAogIG1kaUdyb3VwLAogIG1kaUhvbWVGbG9vcjAsCiAgbWRpSG9tZVBsdXMsCiAgbWRpSHVtYW5FZGl0LAogIG1kaUlkQ2FyZCwKICBtZGlJZGVudGlmaWVyLAogIG1kaUxpc3RTdGF0dXMsCiAgbWRpTG9ja091dGxpbmUsIG1kaU9yaWdpbiwKICBtZGlPdXRkb29yTGFtcCwKICBtZGlQYWNrYWdlLCBtZGlQbHVzQm94T3V0bGluZSwgbWRpVmlld0xpc3QsCn0gZnJvbSAnQG1kaS9qcycKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnCmltcG9ydCBSYXdNYXRlcmlhbEFkZFNlbGVjdG9yIGZyb20gJ0Avdmlld3MvcGFnZXMvd2FyZWhvdXNlL3Jhdy1tYXRlcmlhbHMtcmVsZWFzZS9jb21wb25lbnRzL1Jhd01hdGVyaWFsQWRkU2VsZWN0b3IudnVlJwppbXBvcnQgcm91dGVyIGZyb20gJ0Avcm91dGVyJwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdSZWxlYXNlRm9ybScsCiAgY29tcG9uZW50czogewogICAgUmF3TWF0ZXJpYWxBZGRTZWxlY3RvciwKICB9LAogIHByb3BzOiB7CiAgICByZWxlYXNlT3JkZXI6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiAoKSA9PiBudWxsLAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICB9LAogIH0sCiAgc2V0dXAocHJvcHMpIHsKICAgIGNvbnN0IHJlbGVhc2VPcmRlckRhdGEgPSB0b1JlZihwcm9wcywgJ3JlbGVhc2VPcmRlcicpCiAgICBjb25zdCByZWxlYXNlRm9ybSA9IHJlZih7CiAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgIH0pCiAgICBjb25zdCBwcm9kdWN0cyA9IGNvbXB1dGVkKCgpID0+IHN0b3JlLnN0YXRlLlJlbGVhc2VPcmRlclN0b3JlLnJhd01hdGVyaWFscykKICAgIGNvbnN0IGVycm9ycyA9IGNvbXB1dGVkKCgpID0+IHN0b3JlLnN0YXRlLlVzZXJBY2Nlc3NNYW5hZ2VtZW50U3RvcmUuZXJyb3JzKQogICAgY29uc3Qgc2VsZWN0ZWRQcm9kdWN0SWRzID0gcmVmKFtdKQogICAgY29uc3QgYXR0YWNoZWRQcm9kdWN0cyA9IHJlZihbCiAgICAgIHsKICAgICAgICBwcm9kdWN0X2lkOiAnJywKICAgICAgICB0b3RhbF9waWVjZXM6ICcnLAogICAgICAgIHRvdGFsX2JveGVzOiAnJywKICAgICAgICBpdGVtc19wZXJfYm94OiAnJywKICAgICAgfSwKICAgIF0pCiAgICBjb25zdCBpc1Jhd01hdGVyaWFsc0VtcHR5ID0gcmVmKGZhbHNlKQogICAgY29uc3QgcHJvZHVjdERyb3Bkb3duID0gcmVmKFtdKQoKICAgIGNvbnN0IGFycmF5Q29sdW1uID0gKGFycmF5LCBjb2x1bW4pID0+IGFycmF5Lm1hcChpdGVtID0+IGl0ZW1bY29sdW1uXSkKCiAgICBjb25zdCB2YWxpZGF0ZVNlbGVjdGVkUHJvZHVjdCA9ICgpID0+IHsKICAgICAgcHJvZHVjdERyb3Bkb3duLnZhbHVlID0gcHJvZHVjdERyb3Bkb3duLnZhbHVlLm1hcChwcm9kdWN0ID0+IHsKICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ24KICAgICAgICBwcm9kdWN0LmRpc2FibGVkID0gc2VsZWN0ZWRQcm9kdWN0SWRzLnZhbHVlLmluY2x1ZGVzKHByb2R1Y3QuaWQpCgogICAgICAgIHJldHVybiBwcm9kdWN0CiAgICAgIH0pCiAgICB9CgogICAgd2F0Y2goCiAgICAgIHByb2R1Y3RzLAogICAgICAoKSA9PiB7CiAgICAgICAgcHJvZHVjdERyb3Bkb3duLnZhbHVlID0gcHJvZHVjdHMudmFsdWUKICAgICAgICB2YWxpZGF0ZVNlbGVjdGVkUHJvZHVjdCgpCiAgICAgIH0sCiAgICAgIHsgaW1tZWRpYXRlOiB0cnVlIH0sCiAgICApCgogICAgd2F0Y2goCiAgICAgIHJlbGVhc2VPcmRlckRhdGEsCiAgICAgICgpID0+IHsKICAgICAgICBhdHRhY2hlZFByb2R1Y3RzLnZhbHVlID0gcmVsZWFzZU9yZGVyRGF0YS52YWx1ZS5yYXdfbWF0ZXJpYWxzCiAgICAgICAgcmVsZWFzZUZvcm0udmFsdWUuZGVzY3JpcHRpb24gPSByZWxlYXNlT3JkZXJEYXRhLnZhbHVlLmRlc2NyaXB0aW9uCiAgICAgICAgc2VsZWN0ZWRQcm9kdWN0SWRzLnZhbHVlID0gYXJyYXlDb2x1bW4ocmVsZWFzZU9yZGVyRGF0YS52YWx1ZS5yYXdfbWF0ZXJpYWxzLCAncHJvZHVjdF9pZCcpCiAgICAgICAgdmFsaWRhdGVTZWxlY3RlZFByb2R1Y3QoKQogICAgICB9LAogICAgKQoKICAgIGNvbnN0IGhhbmRsZVJlbW92ZVByb2R1Y3RSb3cgPSBpbmRleCA9PiB7CiAgICAgIGlmIChhdHRhY2hlZFByb2R1Y3RzLnZhbHVlLmxlbmd0aCA9PT0gMSkgewogICAgICAgIGF0dGFjaGVkUHJvZHVjdHMudmFsdWUgPSBbCiAgICAgICAgICB7CiAgICAgICAgICAgIHByb2R1Y3RfaWQ6ICcnLAogICAgICAgICAgICB0b3RhbF9waWVjZXM6ICcnLAogICAgICAgICAgICB0b3RhbF9ib3hlczogJycsCiAgICAgICAgICB9LAogICAgICAgIF0KCiAgICAgICAgcmV0dXJuCiAgICAgIH0KCiAgICAgIGF0dGFjaGVkUHJvZHVjdHMudmFsdWUuc3BsaWNlKGluZGV4LCAxKQoKICAgICAgc2VsZWN0ZWRQcm9kdWN0SWRzLnZhbHVlID0gYXJyYXlDb2x1bW4oYXR0YWNoZWRQcm9kdWN0cy52YWx1ZSwgJ3Byb2R1Y3RfaWQnKQoKICAgICAgdmFsaWRhdGVTZWxlY3RlZFByb2R1Y3QoKQogICAgfQoKICAgIGNvbnN0IGhhbmRsZUFkZFByb2R1Y3RSb3cgPSAoKSA9PiB7CiAgICAgIHNlbGVjdGVkUHJvZHVjdElkcy52YWx1ZSA9IGFycmF5Q29sdW1uKGF0dGFjaGVkUHJvZHVjdHMudmFsdWUsICdwcm9kdWN0X2lkJykKCiAgICAgIGlmIChzZWxlY3RlZFByb2R1Y3RJZHMudmFsdWVbMF0gPT09ICcnKSB7CiAgICAgICAgcmV0dXJuCiAgICAgIH0KCiAgICAgIGF0dGFjaGVkUHJvZHVjdHMudmFsdWUucHVzaCh7CiAgICAgICAgcHJvZHVjdF9pZDogJycsCiAgICAgICAgdG90YWxfcGllY2VzOiAnJywKICAgICAgICB0b3RhbF9ib3hlczogJycsCiAgICAgIH0pCgogICAgICB2YWxpZGF0ZVNlbGVjdGVkUHJvZHVjdCgpCiAgICB9CgogICAgb25Nb3VudGVkKCgpID0+IHsKICAgICAgc3RvcmUuZGlzcGF0Y2goJ1JlbGVhc2VPcmRlclN0b3JlL2dldFJhd01hdGVyaWFscycpCiAgICB9KQoKICAgIGNvbnN0IHN1Ym1pdCA9ICgpID0+IHsKICAgICAgY29uc3QgcmF3TWF0ZXJpYWxzID0gW10KCiAgICAgIGF0dGFjaGVkUHJvZHVjdHMudmFsdWUuZm9yRWFjaChwcm9kdWN0ID0+IHsKICAgICAgICBpZiAocHJvZHVjdC5wcm9kdWN0X2lkICE9PSAnJyAmJiBwcm9kdWN0LnRvdGFsX2JveGVzICE9PSAnJykgewogICAgICAgICAgcmF3TWF0ZXJpYWxzLnB1c2gocHJvZHVjdCkKICAgICAgICB9CiAgICAgIH0pCgogICAgICBpZiAocmF3TWF0ZXJpYWxzLmxlbmd0aCA9PT0gMCkgewogICAgICAgIGlzUmF3TWF0ZXJpYWxzRW1wdHkudmFsdWUgPSB0cnVlCgogICAgICAgIHJldHVybgogICAgICB9CgogICAgICBjb25zdCBmb3JtRGF0YSA9IHsKICAgICAgICBkZXNjcmlwdGlvbjogcmVsZWFzZUZvcm0udmFsdWUuZGVzY3JpcHRpb24sCiAgICAgICAgcmF3X21hdGVyaWFsczogcmF3TWF0ZXJpYWxzLAogICAgICAgIGlkOiByZWxlYXNlT3JkZXJEYXRhLnZhbHVlPy5pZCA/PyBudWxsLAogICAgICB9CgogICAgICBpZiAocmVsZWFzZU9yZGVyRGF0YS52YWx1ZSA9PT0gbnVsbCkgewogICAgICAgIHN0b3JlLmRpc3BhdGNoKCdSZWxlYXNlT3JkZXJTdG9yZS9jcmVhdGVSZWxlYXNlT3JkZXInLCBmb3JtRGF0YSkKICAgICAgICAgIC50aGVuKAogICAgICAgICAgICByZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICByb3V0ZXIucHVzaCgnL3Jhdy1tYXRlcmlhbHMtcmVsZWFzZScpCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgKQoKICAgICAgICByZXR1cm4KICAgICAgfQoKICAgICAgc3RvcmUuZGlzcGF0Y2goJ1JlbGVhc2VPcmRlclN0b3JlL3VwZGF0ZVJlbGVhc2VPcmRlcicsIGZvcm1EYXRhKQogICAgICAgIC50aGVuKAogICAgICAgICAgcmVzcG9uc2UgPT4gewogICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICBzdG9yZS5kaXNwYXRjaCgnUmVsZWFzZU9yZGVyU3RvcmUvZ2V0UmVsZWFzZU9yZGVyJywgcmVsZWFzZU9yZGVyRGF0YS52YWx1ZS5pZCkKICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICApCiAgICB9CgogICAgY29uc3QgY2FuY2VsID0gKCkgPT4gewogICAgICByb3V0ZXIucHVzaCgnL3Jhdy1tYXRlcmlhbHMtcmVsZWFzZScpCiAgICB9CgogICAgcmV0dXJuIHsKICAgICAgaXNSYXdNYXRlcmlhbHNFbXB0eSwKICAgICAgaGFuZGxlUmVtb3ZlUHJvZHVjdFJvdywKICAgICAgYXR0YWNoZWRQcm9kdWN0cywKICAgICAgaGFuZGxlQWRkUHJvZHVjdFJvdywKICAgICAgcHJvZHVjdERyb3Bkb3duLAogICAgICBjYW5jZWwsCiAgICAgIHN1Ym1pdCwKICAgICAgZXJyb3JzLAogICAgICByZWxlYXNlRm9ybSwKICAgICAgcHJvZHVjdHMsCiAgICAgIGljb25zOiB7CiAgICAgICAgbWRpUHV6emxlLAogICAgICAgIG1kaVZpZXdMaXN0LAogICAgICAgIG1kaVBhY2thZ2UsCiAgICAgICAgbWRpT3V0ZG9vckxhbXAsCiAgICAgICAgbWRpR2VuZGVyTm9uQmluYXJ5LAogICAgICAgIG1kaUdyb3VwLAogICAgICAgIG1kaUNhbGVuZGFyLAogICAgICAgIG1kaUFjY291bnRPdXRsaW5lLAogICAgICAgIG1kaVBsdXNCb3hPdXRsaW5lLAogICAgICAgIG1kaUVtYWlsT3V0bGluZSwKICAgICAgICBtZGlDZWxscGhvbmUsCiAgICAgICAgbWRpQWNjZXNzUG9pbnRDaGVjaywKICAgICAgICBtZGlMb2NrT3V0bGluZSwKICAgICAgICBtZGlIb21lRmxvb3IwLAogICAgICAgIG1kaUlkZW50aWZpZXIsCiAgICAgICAgbWRpSWRDYXJkLAogICAgICAgIG1kaUhvbWVQbHVzLAogICAgICAgIG1kaUxpc3RTdGF0dXMsCiAgICAgICAgbWRpSHVtYW5FZGl0LAogICAgICAgIG1kaUV5ZSwKICAgICAgICBtZGlFeWVPZmYsCiAgICAgICAgbWRpT3JpZ2luLAogICAgICB9LAogICAgfQogIH0sCn0K"},{"version":3,"sources":["ReleaseForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ReleaseForm.vue","sourceRoot":"src/views/pages/warehouse/raw-materials-release","sourcesContent":["<template>\n  <v-card\n    id=\"raw-mats-release-form-card\"\n  >\n    <v-card-title>Raw Materials Release Form</v-card-title>\n    <v-alert\n      v-show=\"isRawMaterialsEmpty\"\n      dense\n      text\n      type=\"error\"\n      dismissible\n    >\n      Raw Materials are required\n    </v-alert>\n    <v-form class=\"pa-3\">\n      <v-row>\n        <v-col\n          cols=\"12\"\n        >\n          <div\n            v-for=\"(item, index) in attachedProducts\"\n            :key=\"index\"\n          >\n            <raw-material-add-selector\n              :product-data=\"item\"\n              :product-dropdown=\"productDropdown\"\n              :item-number=\"index\"\n              @removeProductRow=\"handleRemoveProductRow\"\n              @addProductRow=\"handleAddProductRow\"\n            />\n          </div>\n        </v-col>\n\n        <v-col\n          cols=\"12\"\n          md=\"9\"\n        >\n          <v-textarea\n            id=\"description\"\n            v-model=\"releaseForm.description\"\n            outlined\n            rows=\"4\"\n            label=\"Description\"\n            :readonly=\"false\"\n            hide-details=\"auto\"\n            :prepend-inner-icon=\"icons.mdiViewList\"\n            :error-messages=\"errors.description\"\n            :persistent-placeholder=\"false\"\n          ></v-textarea>\n        </v-col>\n        <v-col cols=\"12\">\n          <v-btn\n            color=\"primary\"\n            class=\"me-3 mt-4\"\n            @click=\"submit\"\n          >\n            Submit\n          </v-btn>\n          <v-btn\n            color=\"error\"\n            outlined\n            class=\"me-3 mt-3\"\n            type=\"reset\"\n            @click.prevent=\"cancel\"\n          >\n            Cancel\n          </v-btn>\n        </v-col>\n      </v-row>\n    </v-form>\n  </v-card>\n</template>\n\n<script>\nimport {\n  ref, computed, onMounted, watch, toRef,\n} from '@vue/composition-api'\nimport {\n  mdiAccessPointCheck,\n  mdiAccountOutline,\n  mdiPuzzle,\n  mdiCalendar,\n  mdiCellphone,\n  mdiEmailOutline, mdiEye, mdiEyeOff,\n  mdiGenderNonBinary,\n  mdiGroup,\n  mdiHomeFloor0,\n  mdiHomePlus,\n  mdiHumanEdit,\n  mdiIdCard,\n  mdiIdentifier,\n  mdiListStatus,\n  mdiLockOutline, mdiOrigin,\n  mdiOutdoorLamp,\n  mdiPackage, mdiPlusBoxOutline, mdiViewList,\n} from '@mdi/js'\nimport store from '@/store'\nimport RawMaterialAddSelector from '@/views/pages/warehouse/raw-materials-release/components/RawMaterialAddSelector.vue'\nimport router from '@/router'\n\nexport default {\n  name: 'ReleaseForm',\n  components: {\n    RawMaterialAddSelector,\n  },\n  props: {\n    releaseOrder: {\n      type: Object,\n      default: () => null,\n      required: false,\n    },\n  },\n  setup(props) {\n    const releaseOrderData = toRef(props, 'releaseOrder')\n    const releaseForm = ref({\n      description: '',\n    })\n    const products = computed(() => store.state.ReleaseOrderStore.rawMaterials)\n    const errors = computed(() => store.state.UserAccessManagementStore.errors)\n    const selectedProductIds = ref([])\n    const attachedProducts = ref([\n      {\n        product_id: '',\n        total_pieces: '',\n        total_boxes: '',\n        items_per_box: '',\n      },\n    ])\n    const isRawMaterialsEmpty = ref(false)\n    const productDropdown = ref([])\n\n    const arrayColumn = (array, column) => array.map(item => item[column])\n\n    const validateSelectedProduct = () => {\n      productDropdown.value = productDropdown.value.map(product => {\n        // eslint-disable-next-line no-param-reassign\n        product.disabled = selectedProductIds.value.includes(product.id)\n\n        return product\n      })\n    }\n\n    watch(\n      products,\n      () => {\n        productDropdown.value = products.value\n        validateSelectedProduct()\n      },\n      { immediate: true },\n    )\n\n    watch(\n      releaseOrderData,\n      () => {\n        attachedProducts.value = releaseOrderData.value.raw_materials\n        releaseForm.value.description = releaseOrderData.value.description\n        selectedProductIds.value = arrayColumn(releaseOrderData.value.raw_materials, 'product_id')\n        validateSelectedProduct()\n      },\n    )\n\n    const handleRemoveProductRow = index => {\n      if (attachedProducts.value.length === 1) {\n        attachedProducts.value = [\n          {\n            product_id: '',\n            total_pieces: '',\n            total_boxes: '',\n          },\n        ]\n\n        return\n      }\n\n      attachedProducts.value.splice(index, 1)\n\n      selectedProductIds.value = arrayColumn(attachedProducts.value, 'product_id')\n\n      validateSelectedProduct()\n    }\n\n    const handleAddProductRow = () => {\n      selectedProductIds.value = arrayColumn(attachedProducts.value, 'product_id')\n\n      if (selectedProductIds.value[0] === '') {\n        return\n      }\n\n      attachedProducts.value.push({\n        product_id: '',\n        total_pieces: '',\n        total_boxes: '',\n      })\n\n      validateSelectedProduct()\n    }\n\n    onMounted(() => {\n      store.dispatch('ReleaseOrderStore/getRawMaterials')\n    })\n\n    const submit = () => {\n      const rawMaterials = []\n\n      attachedProducts.value.forEach(product => {\n        if (product.product_id !== '' && product.total_boxes !== '') {\n          rawMaterials.push(product)\n        }\n      })\n\n      if (rawMaterials.length === 0) {\n        isRawMaterialsEmpty.value = true\n\n        return\n      }\n\n      const formData = {\n        description: releaseForm.value.description,\n        raw_materials: rawMaterials,\n        id: releaseOrderData.value?.id ?? null,\n      }\n\n      if (releaseOrderData.value === null) {\n        store.dispatch('ReleaseOrderStore/createReleaseOrder', formData)\n          .then(\n            response => {\n              if (response.status === undefined) {\n                router.push('/raw-materials-release')\n              }\n            },\n          )\n\n        return\n      }\n\n      store.dispatch('ReleaseOrderStore/updateReleaseOrder', formData)\n        .then(\n          response => {\n            if (response.status === undefined) {\n              store.dispatch('ReleaseOrderStore/getReleaseOrder', releaseOrderData.value.id)\n            }\n          },\n        )\n    }\n\n    const cancel = () => {\n      router.push('/raw-materials-release')\n    }\n\n    return {\n      isRawMaterialsEmpty,\n      handleRemoveProductRow,\n      attachedProducts,\n      handleAddProductRow,\n      productDropdown,\n      cancel,\n      submit,\n      errors,\n      releaseForm,\n      products,\n      icons: {\n        mdiPuzzle,\n        mdiViewList,\n        mdiPackage,\n        mdiOutdoorLamp,\n        mdiGenderNonBinary,\n        mdiGroup,\n        mdiCalendar,\n        mdiAccountOutline,\n        mdiPlusBoxOutline,\n        mdiEmailOutline,\n        mdiCellphone,\n        mdiAccessPointCheck,\n        mdiLockOutline,\n        mdiHomeFloor0,\n        mdiIdentifier,\n        mdiIdCard,\n        mdiHomePlus,\n        mdiListStatus,\n        mdiHumanEdit,\n        mdiEye,\n        mdiEyeOff,\n        mdiOrigin,\n      },\n    }\n  },\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}