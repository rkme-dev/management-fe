{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/projects/enco-fe/src/views/pages/reports/accounts-receivable/SubsidiaryLedger.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/views/pages/reports/accounts-receivable/SubsidiaryLedger.vue","mtime":1665391822908},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1665368576185},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1665368576151},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1665368576185},{"path":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js","mtime":1665368593779}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGNvbXB1dGVkLCByZWYsIG9uTW91bnRlZCwgb25Vbm1vdW50ZWR9IGZyb20gJ0B2dWUvY29tcG9zaXRpb24tYXBpJwppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZScKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnU3Vic2lkaWFyeUxlZGdlcicsCiAgc2V0dXAoKSB7CiAgICBjb25zdCBjdXN0b21lcnMgPSBjb21wdXRlZCgoKSA9PiBzdG9yZS5zdGF0ZS5DdXN0b21lclN0b3JlLmxpc3QpCiAgICBjb25zdCBjdXN0b21lciA9IHJlZigpCiAgICBjb25zdCBjdXN0b21lckxvYWRpbmcgPSBjb21wdXRlZCgoKSA9PiBzdG9yZS5zdGF0ZS5DdXN0b21lclN0b3JlLmxvYWRpbmcpCiAgICBjb25zdCByZXBvcnRMb2FkaW5nID0gY29tcHV0ZWQoKCkgPT4gc3RvcmUuc3RhdGUuUmVwb3J0U3RvcmUubG9hZGluZykKICAgIGNvbnN0IHN1YnNpZGlhcnlMZWRnZXIgPSBjb21wdXRlZCgoKSA9PiBzdG9yZS5zdGF0ZS5SZXBvcnRTdG9yZS5sZWRnZXJSZXBvcnQpCiAgICBjb25zdCBoZWFkZXJzID0gWwogICAgICB7CiAgICAgICAgdGV4dDogJ0RhdGUnLAogICAgICAgIGFsaWduOiAnc3RhcnQnLAogICAgICAgIHNvcnRhYmxlOiBmYWxzZSwKICAgICAgICB2YWx1ZTogJ2RhdGVfcG9zdGVkJywKICAgICAgfSwKICAgICAgeyB0ZXh0OiAnT3JkZXIgTnVtYmVyJywgdmFsdWU6ICdvcmRlcl9udW1iZXInIH0sCiAgICAgIHsgdGV4dDogJ1NvdXJjZScsIHZhbHVlOiAnc291cmNlJyB9LAogICAgICB7IHRleHQ6ICdEb2N1bWVudCcsIHZhbHVlOiAnZG9jdW1lbnQnIH0sCiAgICAgIHsgdGV4dDogJ0N1cnJlbmN5JywgdmFsdWU6ICdjdXJyZW5jeScgfSwKICAgICAgeyB0ZXh0OiAnQW1vdW50JywgdmFsdWU6ICdhbW91bnQnIH0sCiAgICBdCgogICAgb25Nb3VudGVkKGFzeW5jICgpID0+IHsKICAgICAgYXdhaXQgc3RvcmUuZGlzcGF0Y2goJ0N1c3RvbWVyU3RvcmUvbGlzdCcpCiAgICAgIGF3YWl0IHN0b3JlLmRpc3BhdGNoKCdSZXBvcnRTdG9yZS9jbGVhclJlcG9ydCcsICdsZWRnZXJSZXBvcnQnKQogICAgfSkKCiAgICBvblVubW91bnRlZChhc3luYyAoKSA9PiB7CiAgICAgIGF3YWl0IHN0b3JlLmRpc3BhdGNoKCdSZXBvcnRTdG9yZS9jbGVhclJlcG9ydCcsICdsZWRnZXJSZXBvcnQnKQogICAgfSkKCiAgICBjb25zdCBnZW5lcmF0ZVN1YnNpZGlhcnlSZXBvcnQgPSAoKSA9PiB7CiAgICAgIGlmIChjdXN0b21lci52YWx1ZSkgewogICAgICAgIHN0b3JlLmRpc3BhdGNoKCdSZXBvcnRTdG9yZS9nZXRMZWRnZXJSZXBvcnQnLCBjdXN0b21lci52YWx1ZSkKCiAgICAgICAgcmV0dXJuCiAgICAgIH0KCiAgICAgIHN0b3JlLmRpc3BhdGNoKCdSZXBvcnRTdG9yZS9jbGVhclJlcG9ydCcsICdsZWRnZXJSZXBvcnQnKQogICAgfQoKICAgIHJldHVybiB7CiAgICAgIGN1c3RvbWVyLAogICAgICBjdXN0b21lckxvYWRpbmcsCiAgICAgIGN1c3RvbWVycywKICAgICAgaGVhZGVycywKICAgICAgZ2VuZXJhdGVTdWJzaWRpYXJ5UmVwb3J0LAogICAgICByZXBvcnRMb2FkaW5nLAogICAgICBzdWJzaWRpYXJ5TGVkZ2VyLAogICAgfQogIH0sCn0K"},{"version":3,"sources":["SubsidiaryLedger.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SubsidiaryLedger.vue","sourceRoot":"src/views/pages/reports/accounts-receivable","sourcesContent":["<template>\n  <div>\n    <v-card>\n      <v-card-title>Subsidiary Ledger Report</v-card-title>\n      <v-card-text>\n        <v-row>\n          <v-col cols=\"6\">\n            <v-select\n              v-model=\"customer\"\n              :loading=\"customerLoading\"\n              :items=\"customers\"\n              item-text=\"name\"\n              item-value=\"id\"\n              dense\n              outlined\n              label=\"Select Customer\"\n              clearable\n              @change=\"generateSubsidiaryReport\"\n            ></v-select>\n          </v-col>\n        </v-row>\n      </v-card-text>\n    </v-card>\n    <v-card\n      v-if=\"reportLoading\"\n      class=\"mt-8\"\n    >\n      <v-card-text>\n        <div class=\"text-center\">\n          <v-progress-circular\n            :size=\"190\"\n            :width=\"7\"\n            color=\"primary\"\n            indeterminate\n          ></v-progress-circular>\n        </div>\n      </v-card-text>\n    </v-card>\n\n    <v-card\n      v-if=\"subsidiaryLedger.length > 0 && reportLoading === false\"\n      class=\"mt-8\"\n    >\n      <v-card-text>\n        <div class=\"text-center\">\n          <v-data-table\n            class=\"elevation-4\"\n            :items=\"subsidiaryLedger\"\n            :headers=\"headers\"\n          >\n            <template #item.total_amount=\"{ item }\">\n              <v-currency-field\n                v-model=\"item.total_amount\"\n                disabled\n                dense\n              >\n              </v-currency-field>\n            </template>\n            <template #item.currency=\"{ item }\">\n              PHP\n            </template>\n          </v-data-table>\n        </div>\n      </v-card-text>\n    </v-card>\n  </div>\n</template>\n\n<script>\nimport { computed, ref, onMounted, onUnmounted} from '@vue/composition-api'\nimport store from '@/store'\n\nexport default {\n  name: 'SubsidiaryLedger',\n  setup() {\n    const customers = computed(() => store.state.CustomerStore.list)\n    const customer = ref()\n    const customerLoading = computed(() => store.state.CustomerStore.loading)\n    const reportLoading = computed(() => store.state.ReportStore.loading)\n    const subsidiaryLedger = computed(() => store.state.ReportStore.ledgerReport)\n    const headers = [\n      {\n        text: 'Date',\n        align: 'start',\n        sortable: false,\n        value: 'date_posted',\n      },\n      { text: 'Order Number', value: 'order_number' },\n      { text: 'Source', value: 'source' },\n      { text: 'Document', value: 'document' },\n      { text: 'Currency', value: 'currency' },\n      { text: 'Amount', value: 'amount' },\n    ]\n\n    onMounted(async () => {\n      await store.dispatch('CustomerStore/list')\n      await store.dispatch('ReportStore/clearReport', 'ledgerReport')\n    })\n\n    onUnmounted(async () => {\n      await store.dispatch('ReportStore/clearReport', 'ledgerReport')\n    })\n\n    const generateSubsidiaryReport = () => {\n      if (customer.value) {\n        store.dispatch('ReportStore/getLedgerReport', customer.value)\n\n        return\n      }\n\n      store.dispatch('ReportStore/clearReport', 'ledgerReport')\n    }\n\n    return {\n      customer,\n      customerLoading,\n      customers,\n      headers,\n      generateSubsidiaryReport,\n      reportLoading,\n      subsidiaryLedger,\n    }\n  },\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}