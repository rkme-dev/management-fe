{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/projects/enco-fe/src/views/pages/purchase-orders/component/PurchaseOrderAddSelector.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/views/pages/purchase-orders/component/PurchaseOrderAddSelector.vue","mtime":1659529943624},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1652172763063},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js","mtime":1650363919730}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHJlZiwgd2F0Y2gsIHJlYWN0aXZlIH0gZnJvbSAnQHZ1ZS9jb21wb3NpdGlvbi1hcGkvZGlzdC92dWUtY29tcG9zaXRpb24tYXBpJwoKaW1wb3J0IHsKICBtZGlQbHVzCn0gZnJvbSAnQG1kaS9qcycKCmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgaXRlbU51bWJlcjogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDAsCiAgICB9LAogICAgcHJvZHVjdERyb3Bkb3duOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiAoKSA9PiBbXSwKICAgIH0KICB9LAogIHNldHVwKHByb3BzLCB7IGVtaXQgfSkgewogICAgY29uc3QgcHJvZHVjdCA9IHJlYWN0aXZlKHsgcHJvZHVjdF9pZDogJycsIHF1YW50aXR5OiAnJyB9KQogICAgY29uc3QgcHJvZHVjdFNlbGVjdGlvbiA9IHJlZihbXSkKICAgIGNvbnN0IGlzRGlzYWJsZWQgPSByZWYodHJ1ZSkKCiAgICBjb25zdCBoYW5kbGVJc051bWJlciA9IChldnQpID0+IHsKICAgICAgZXZ0ID0gKGV2dCkgPyBldnQgOiB3aW5kb3cuZXZlbnQ7CiAgICAgIGNvbnN0IGNvZGUgPSAoZXZ0LndoaWNoKSA/IGV2dC53aGljaCA6IGV2dC5rZXlDb2RlOwogICAgICBpZiAoKGNvZGUgPiAzMSAmJiAoY29kZSA8IDQ4IHx8IGNvZGUgPiA1NykpICYmIGNvZGUgIT09IDQ2KSB7CiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCkKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdHJ1ZQogICAgICB9CiAgICB9CgogICAgLy8gZGlzYWJsZSBpdGVtIGluIGRyb3Bkb3duCiAgICBjb25zdCBoYW5kbGVEaXNhYmxlZEl0ZW0gPSBpdGVtID0+IHsKICAgICAgcmV0dXJuIGl0ZW0uZGlzYWJsZWQgPyB0cnVlIDogZmFsc2UKICAgIH0KCiAgICB3YXRjaCgKICAgICAgcHJvZHVjdCwKICAgICAgKCkgPT4gewogICAgICAgIGlmIChwcm9kdWN0LnByb2R1Y3RfaWQgJiYgcHJvZHVjdC5xdWFudGl0eSkgaXNEaXNhYmxlZC52YWx1ZSA9IGZhbHNlCiAgICAgICAgZWxzZSBpc0Rpc2FibGVkLnZhbHVlID0gdHJ1ZQoKICAgICAgICBlbWl0KCdzZWxlY3RlZFByb2R1Y3QnLCB7IC4uLnByb2R1Y3QsIHF1YW50aXR5OiBOdW1iZXIocHJvZHVjdC5xdWFudGl0eSkgfSwgcHJvcHMuaXRlbU51bWJlcikKICAgICAgfSwKICAgICkKCiAgICByZXR1cm4gewogICAgICBwcm9kdWN0LAogICAgICBwcm9kdWN0U2VsZWN0aW9uLAogICAgICBpc0Rpc2FibGVkLAogICAgICBpY29uczogewogICAgICAgIG1kaVBsdXMsCiAgICAgIH0sCiAgICAgIGhhbmRsZUlzTnVtYmVyLAogICAgICBoYW5kbGVEaXNhYmxlZEl0ZW0sCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["PurchaseOrderAddSelector.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PurchaseOrderAddSelector.vue","sourceRoot":"src/views/pages/purchase-orders/component","sourcesContent":["<template>\n  <v-card>\n    <v-row>\n      <v-col cols=\"7\">\n        <v-select\n          v-model=\"product.product_id\"\n          label=\"Select a Product\"\n          item-text=\"name\"\n          item-value=\"id\"\n          dense\n          :items=\"productDropdown\"\n          :item-disabled=\"handleDisabledItem\"\n        ></v-select>\n      </v-col>\n\n      <v-col cols=\"4\">\n        <v-text-field\n          v-model=\"product.quantity\"\n          label=\"Quantity\"\n          hide-details=\"auto\"\n          dense\n          @keypress=\"handleIsNumber\"\n        />\n      </v-col>\n\n      <v-col cols=\"1\">\n        <v-btn\n          class=\"mx-2\"\n          x-small\n          fab\n          :disabled=\"isDisabled\"\n          @click=\"$emit('addProductRow')\"\n        >\n          <v-icon dark>\n            {{ icons.mdiPlus }}\n          </v-icon>\n        </v-btn>\n      </v-col>\n    </v-row>\n  </v-card>\n</template>\n\n<script>\nimport { ref, watch, reactive } from '@vue/composition-api/dist/vue-composition-api'\n\nimport {\n  mdiPlus\n} from '@mdi/js'\n\nexport default {\n  props: {\n    itemNumber: {\n      type: Number,\n      default: 0,\n    },\n    productDropdown: {\n      type: Array,\n      default: () => [],\n    }\n  },\n  setup(props, { emit }) {\n    const product = reactive({ product_id: '', quantity: '' })\n    const productSelection = ref([])\n    const isDisabled = ref(true)\n\n    const handleIsNumber = (evt) => {\n      evt = (evt) ? evt : window.event;\n      const code = (evt.which) ? evt.which : evt.keyCode;\n      if ((code > 31 && (code < 48 || code > 57)) && code !== 46) {\n        evt.preventDefault()\n      } else {\n        return true\n      }\n    }\n\n    // disable item in dropdown\n    const handleDisabledItem = item => {\n      return item.disabled ? true : false\n    }\n\n    watch(\n      product,\n      () => {\n        if (product.product_id && product.quantity) isDisabled.value = false\n        else isDisabled.value = true\n\n        emit('selectedProduct', { ...product, quantity: Number(product.quantity) }, props.itemNumber)\n      },\n    )\n\n    return {\n      product,\n      productSelection,\n      isDisabled,\n      icons: {\n        mdiPlus,\n      },\n      handleIsNumber,\n      handleDisabledItem,\n    }\n  }\n}\n</script>\n"]}]}