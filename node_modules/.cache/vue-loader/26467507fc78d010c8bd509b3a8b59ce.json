{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/projects/enco-fe/src/views/pages/purchase-orders/purchase-order/PurchaseOrderApprove.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/views/pages/purchase-orders/purchase-order/PurchaseOrderApprove.vue","mtime":1659098301272},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1652172763063},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js","mtime":1650363919730}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7Y29tcHV0ZWQsIHJlZiwgd2F0Y2h9IGZyb20gJ0B2dWUvY29tcG9zaXRpb24tYXBpJwppbXBvcnQgcm91dGVyIGZyb20gJ0Avcm91dGVyJwppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZScKaW1wb3J0IHsKICBBUFBST1ZFX1BVUkNIQVNFX09SREVSLCBHRVRfQ1VTVE9NRVIsIEdFVF9QVVJDSEFTRV9PUkRFUiwKfSBmcm9tICdAL3N0b3JlL2FjdGlvbnMudHlwZScKaW1wb3J0IHtvbk1vdW50ZWR9IGZyb20gIkB2dWUvY29tcG9zaXRpb24tYXBpL2Rpc3QvdnVlLWNvbXBvc2l0aW9uLWFwaSI7CmltcG9ydCBDdXN0b21lcnNTZXJ2aWNlIGZyb20gIkAvdXRpbHMvc2VydmljZXMvY3VzdG9tZXJzLnNlcnZpY2UiOwppbXBvcnQgUHVyY2hhc2VPcmRlcnNTZXJ2aWNlIGZyb20gIkAvdXRpbHMvc2VydmljZXMvcHVyY2hhc2Utb3JkZXJzLnNlcnZpY2UiOwoKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICBpbmZvcm1hdGlvbkRhdGE6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiAoKSA9PiAoewogICAgICAgIGZ4X251bWJlcjogJycsCiAgICAgICAgZXRhOiAnJywKICAgICAgfSksCiAgICB9LAogIH0sCiAgc2V0dXAocHJvcHMpIHsKICAgIGNvbnN0IGVycm9ycyA9IGNvbXB1dGVkKCgpID0+IHN0b3JlLmdldHRlcnMuZXJyb3JzKQogICAgY29uc3Qgb3B0aW9uc0xvY2FsID0gY29tcHV0ZWQoKCkgPT4gcHJvcHMuaW5mb3JtYXRpb25EYXRhKQogICAgY29uc3Qgc2hvd0FsZXJ0ID0gcmVmKGZhbHNlKQoKICAgIHN0b3JlLmRpc3BhdGNoKEdFVF9QVVJDSEFTRV9PUkRFUiwgcm91dGVyLmhpc3RvcnkuY3VycmVudC5wYXJhbXMuaWQpCgogICAgY29uc3QgZ29CYWNrID0gKCkgPT4gewogICAgICByb3V0ZXIucHVzaCgnL3B1cmNoYXNlLW9yZGVycycpCiAgICB9CgogICAgY29uc3QgcmVzb2x2ZUZvcm1TdWNjZXNzID0gKCkgPT4gewogICAgICBzaG93QWxlcnQudmFsdWUgPSB0cnVlCiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIGdvQmFjaygpCiAgICAgIH0sIDUwMDApCiAgICB9CgogICAgY29uc3Qgc2F2ZSA9ICgpID0+IHsKICAgICAgY29uc3QgY3VycmVudEZvcm0gPSBvcHRpb25zTG9jYWwudmFsdWUKICAgICAgY3VycmVudEZvcm0uaWQgPSByb3V0ZXIuaGlzdG9yeS5jdXJyZW50LnBhcmFtcy5pZAoKICAgICAgc3RvcmUuZGlzcGF0Y2goQVBQUk9WRV9QVVJDSEFTRV9PUkRFUiwgY3VycmVudEZvcm0pLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgaWYgKGRhdGEgIT0gbnVsbCkgewogICAgICAgICAgcmVzb2x2ZUZvcm1TdWNjZXNzKCkKICAgICAgICB9CiAgICAgIH0pCiAgICB9CgogICAgcmV0dXJuIHsKICAgICAgb3B0aW9uc0xvY2FsLAogICAgICBnb0JhY2ssCiAgICAgIHNhdmUsCiAgICAgIHNob3dBbGVydCwKICAgICAgZXJyb3JzLAogICAgfQogIH0KICAsCn0K"},{"version":3,"sources":["PurchaseOrderApprove.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PurchaseOrderApprove.vue","sourceRoot":"src/views/pages/purchase-orders/purchase-order","sourcesContent":["<template>\n  <v-card\n    flat\n    class=\"pa-3 mt-2\"\n  >\n    <v-alert\n      v-show=\"showAlert\"\n      dense\n      text\n      type=\"success\"\n    >\n      Successfully <strong>approved</strong> a purchase order. You will be automatically\n      redirected in a bit.\n    </v-alert>\n    <v-form class=\"multi-col-validation\">\n      <v-card-text class=\"pt-5\">\n        <v-row>\n          <v-col\n            cols=\"12\"\n          >\n            <v-text-field\n              v-model=\"optionsLocal.fx_number\"\n              outlined\n              dense\n              label=\"FX Number\"\n              :readonly=\"mode === 'show'\"\n              hide-details=\"auto\"\n              :persistent-placeholder=\"mode === 'show'\"\n            ></v-text-field>\n          </v-col>\n          <v-col cols=\"6\">\n            <v-text-field\n              v-model=\"optionsLocal.eta\"\n              outlined\n              dense\n              label=\"ETA (WORK IN PROGRESS)\"\n              :readonly=\"mode === 'show'\"\n              hide-details=\"auto\"\n              :persistent-placeholder=\"mode === 'show'\"\n            ></v-text-field>\n          </v-col>\n        </v-row>\n      </v-card-text>\n\n      <v-card-text>\n        <v-btn\n          outlined\n          class=\"mt-3 mr-3\"\n          color=\"primary\"\n          @click=\"save\"\n        >\n          Approve\n        </v-btn>\n        <v-btn\n          outlined\n          class=\"mt-3\"\n          type=\"reset\"\n          @click.prevent=\"goBack\"\n        >\n          Back to List\n        </v-btn>\n      </v-card-text>\n    </v-form>\n  </v-card>\n</template>\n\n<script>\nimport {computed, ref, watch} from '@vue/composition-api'\nimport router from '@/router'\nimport store from '@/store'\nimport {\n  APPROVE_PURCHASE_ORDER, GET_CUSTOMER, GET_PURCHASE_ORDER,\n} from '@/store/actions.type'\nimport {onMounted} from \"@vue/composition-api/dist/vue-composition-api\";\nimport CustomersService from \"@/utils/services/customers.service\";\nimport PurchaseOrdersService from \"@/utils/services/purchase-orders.service\";\n\nexport default {\n  props: {\n    informationData: {\n      type: Object,\n      default: () => ({\n        fx_number: '',\n        eta: '',\n      }),\n    },\n  },\n  setup(props) {\n    const errors = computed(() => store.getters.errors)\n    const optionsLocal = computed(() => props.informationData)\n    const showAlert = ref(false)\n\n    store.dispatch(GET_PURCHASE_ORDER, router.history.current.params.id)\n\n    const goBack = () => {\n      router.push('/purchase-orders')\n    }\n\n    const resolveFormSuccess = () => {\n      showAlert.value = true\n      setTimeout(() => {\n        goBack()\n      }, 5000)\n    }\n\n    const save = () => {\n      const currentForm = optionsLocal.value\n      currentForm.id = router.history.current.params.id\n\n      store.dispatch(APPROVE_PURCHASE_ORDER, currentForm).then(data => {\n        if (data != null) {\n          resolveFormSuccess()\n        }\n      })\n    }\n\n    return {\n      optionsLocal,\n      goBack,\n      save,\n      showAlert,\n      errors,\n    }\n  }\n  ,\n}\n</script>\n"]}]}