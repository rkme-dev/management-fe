{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/projects/enco-fe/src/views/pages/user-access-management/abilities/AbilityListTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/views/pages/user-access-management/abilities/AbilityListTable.vue","mtime":1655113025144},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1652172763063},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js","mtime":1650363919730}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBSb2xlU2VydmljZSBmcm9tICdAL3NlcnZpY2UvUm9sZVNlcnZpY2UnCgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogKCkgPT4gKHsKICAgIGRpYWxvZzogZmFsc2UsCiAgICBkaWFsb2dEZWxldGU6IGZhbHNlLAogICAgaGVhZGVyczogWwogICAgICB7CiAgICAgICAgdGV4dDogJ1RpdGxlJywKICAgICAgICBhbGlnbjogJ3N0YXJ0JywKICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICB2YWx1ZTogJ3RpdGxlJywKICAgICAgfSwKICAgICAgeyB0ZXh0OiAnVmFsdWUnLCB2YWx1ZTogJ25hbWUnIH0sCiAgICAgIHsgdGV4dDogJ0RhdGUgQ3JlYXRlZCcsIHZhbHVlOiAnY3JlYXRlZF9hdCcgfSwKICAgICAgeyB0ZXh0OiAnQWN0aW9ucycsIHZhbHVlOiAnYWN0aW9ucycsIHNvcnRhYmxlOiBmYWxzZSB9LAogICAgXSwKICAgIGxvYWRpbmc6IGZhbHNlLAogICAgYWJpbGl0aWVzOiBbXSwKICAgIGVkaXRlZEluZGV4OiAtMSwKICAgIGVkaXRlZEl0ZW06IHsKICAgICAgdGl0bGU6ICcnLAogICAgICBuYW1lOiAnJywKICAgICAgc2NvcGU6ICcnLAogICAgICBkYXRlX2NyZWF0ZWQ6ICcnLAogICAgICBhY3Rpb25zOiAnJywKICAgIH0sCiAgICBkZWZhdWx0SXRlbTogewogICAgICB0aXRsZTogJycsCiAgICAgIG5hbWU6ICcnLAogICAgICBzY29wZTogJycsCiAgICAgIGRhdGVfY3JlYXRlZDogJycsCiAgICAgIGFjdGlvbnM6ICcnLAogICAgfSwKICB9KSwKCiAgY29tcHV0ZWQ6IHsKICAgIGZvcm1UaXRsZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuZWRpdGVkSW5kZXggPT09IC0xID8gJ05ldyBSb2xlJyA6ICdFZGl0IFJvbGUnCiAgICB9LAogIH0sCgogIHdhdGNoOiB7CiAgICBkaWFsb2codmFsKSB7CiAgICAgIHJldHVybiB2YWwgfHwgdGhpcy5jbG9zZSgpCiAgICB9LAogICAgZGlhbG9nRGVsZXRlKHZhbCkgewogICAgICByZXR1cm4gdmFsIHx8IHRoaXMuY2xvc2VEZWxldGUoKQogICAgfSwKICB9LAoKICBjcmVhdGVkKCkgewogICAgdGhpcy5yb2xlU2VydmljZSA9IG5ldyBSb2xlU2VydmljZSgpCiAgfSwKCiAgbW91bnRlZCgpIHsKICAgIHRoaXMucm9sZVNlcnZpY2UuZ2V0QWJpbGl0aWVzKCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgIHRoaXMubG9hZGluZzEgPSBmYWxzZQogICAgICB0aGlzLmFiaWxpdGllcyA9IHJlc3BvbnNlLmRhdGEKICAgIH0pCiAgfSwKCiAgbWV0aG9kczogewogICAgZWRpdEl0ZW0oaXRlbSkgewogICAgICB0aGlzLmVkaXRlZEluZGV4ID0gdGhpcy5hYmlsaXRpZXMuaW5kZXhPZihpdGVtKQogICAgICB0aGlzLmVkaXRlZEl0ZW0gPSB7IC4uLml0ZW0gfQogICAgICB0aGlzLmRpYWxvZyA9IHRydWUKICAgIH0sCgogICAgZGVsZXRlSXRlbShpdGVtKSB7CiAgICAgIHRoaXMuZWRpdGVkSW5kZXggPSB0aGlzLmFiaWxpdGllcy5pbmRleE9mKGl0ZW0pCiAgICAgIHRoaXMuZWRpdGVkSXRlbSA9IHsgLi4uaXRlbSB9CiAgICAgIHRoaXMuZGlhbG9nRGVsZXRlID0gdHJ1ZQogICAgfSwKCiAgICBkZWxldGVJdGVtQ29uZmlybSgpIHsKICAgICAgdGhpcy5hYmlsaXRpZXMuc3BsaWNlKHRoaXMuZWRpdGVkSW5kZXgsIDEpCiAgICAgIHRoaXMuY2xvc2VEZWxldGUoKQogICAgfSwKCiAgICBjbG9zZSgpIHsKICAgICAgdGhpcy5kaWFsb2cgPSBmYWxzZQogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgdGhpcy5lZGl0ZWRJdGVtID0geyAuLi50aGlzLmRlZmF1bHRJdGVtIH0KICAgICAgICB0aGlzLmVkaXRlZEluZGV4ID0gLTEKICAgICAgfSkKICAgIH0sCgogICAgY2xvc2VEZWxldGUoKSB7CiAgICAgIHRoaXMuZGlhbG9nRGVsZXRlID0gZmFsc2UKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIHRoaXMuZWRpdGVkSXRlbSA9IHsgLi4udGhpcy5kZWZhdWx0SXRlbSB9CiAgICAgICAgdGhpcy5lZGl0ZWRJbmRleCA9IC0xCiAgICAgIH0pCiAgICB9LAoKICAgIHNhdmUoKSB7CiAgICAgIGlmICh0aGlzLmVkaXRlZEluZGV4ID4gLTEpIHsKICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuYWJpbGl0aWVzW3RoaXMuZWRpdGVkSW5kZXhdLCB0aGlzLmVkaXRlZEl0ZW0pCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5hYmlsaXRpZXMucHVzaCh0aGlzLmVkaXRlZEl0ZW0pCiAgICAgIH0KICAgICAgdGhpcy5jbG9zZSgpCiAgICB9LAogIH0sCn0K"},{"version":3,"sources":["AbilityListTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4IA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AbilityListTable.vue","sourceRoot":"src/views/pages/user-access-management/abilities","sourcesContent":["<template>\n  <v-data-table\n    :headers=\"headers\"\n    :items=\"abilities\"\n    sort-by=\"title\"\n    class=\"elevation-1\"\n  >\n    <template v-slot:top>\n      <v-toolbar\n        flat\n      >\n        <v-toolbar-title>Abilities</v-toolbar-title>\n        <v-divider\n          class=\"mx-4\"\n          inset\n          vertical\n        ></v-divider>\n        <v-spacer></v-spacer>\n        <v-dialog\n          v-model=\"dialog\"\n          max-width=\"500px\"\n        >\n          <template v-slot:activator=\"{ on, attrs }\">\n            <!--            <v-btn-->\n            <!--              color=\"primary\"-->\n            <!--              dark-->\n            <!--              class=\"mb-2\"-->\n            <!--              v-bind=\"attrs\"-->\n            <!--              v-on=\"on\"-->\n            <!--            >-->\n            <!--              New Item-->\n            <!--            </v-btn>-->\n          </template>\n          <v-card>\n            <v-card-title>\n              <span class=\"text-h5\">{{ formTitle }}</span>\n            </v-card-title>\n\n            <v-card-text>\n              <v-container>\n                <v-row>\n                  <v-col\n                    cols=\"12\"\n                    sm=\"6\"\n                    md=\"4\"\n                  >\n                    <v-text-field\n                      v-model=\"editedItem.title\"\n                      label=\"Role Title\"\n                    ></v-text-field>\n                  </v-col>\n                  <v-col\n                    cols=\"12\"\n                    sm=\"6\"\n                    md=\"4\"\n                  >\n                    <v-text-field\n                      v-model=\"editedItem.name\"\n                      label=\"Role Value\"\n                      disabled\n                    ></v-text-field>\n                  </v-col>\n                </v-row>\n              </v-container>\n            </v-card-text>\n\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn\n                color=\"blue darken-1\"\n                text\n                @click=\"close\"\n              >\n                Cancel\n              </v-btn>\n              <v-btn\n                color=\"blue darken-1\"\n                text\n                @click=\"save\"\n              >\n                Save\n              </v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n        <v-dialog\n          v-model=\"dialogDelete\"\n          max-width=\"500px\"\n        >\n          <v-card>\n            <v-card-title class=\"text-h5\">\n              Are you sure you want to delete this item?\n            </v-card-title>\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn\n                color=\"blue darken-1\"\n                text\n                @click=\"closeDelete\"\n              >\n                Cancel\n              </v-btn>\n              <v-btn\n                color=\"blue darken-1\"\n                text\n                @click=\"deleteItemConfirm\">\n                OK\n              </v-btn>\n              <v-spacer></v-spacer>\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n      </v-toolbar>\n    </template>\n    <template v-slot:item.actions=\"{ item }\">\n      <v-icon\n        small\n        class=\"mr-2\"\n        @click=\"editItem(item)\"\n      >\n        mdi-pencil\n      </v-icon>\n      <v-icon\n        small\n        @click=\"deleteItem(item)\"\n      >\n        mdi-delete\n      </v-icon>\n    </template>\n    <template v-slot:no-data>\n      <v-btn\n        color=\"primary\"\n      >\n        Refresh\n      </v-btn>\n    </template>\n  </v-data-table>\n</template>\n\n<script>\nimport RoleService from '@/service/RoleService'\n\nexport default {\n  data: () => ({\n    dialog: false,\n    dialogDelete: false,\n    headers: [\n      {\n        text: 'Title',\n        align: 'start',\n        sortable: true,\n        value: 'title',\n      },\n      { text: 'Value', value: 'name' },\n      { text: 'Date Created', value: 'created_at' },\n      { text: 'Actions', value: 'actions', sortable: false },\n    ],\n    loading: false,\n    abilities: [],\n    editedIndex: -1,\n    editedItem: {\n      title: '',\n      name: '',\n      scope: '',\n      date_created: '',\n      actions: '',\n    },\n    defaultItem: {\n      title: '',\n      name: '',\n      scope: '',\n      date_created: '',\n      actions: '',\n    },\n  }),\n\n  computed: {\n    formTitle() {\n      return this.editedIndex === -1 ? 'New Role' : 'Edit Role'\n    },\n  },\n\n  watch: {\n    dialog(val) {\n      return val || this.close()\n    },\n    dialogDelete(val) {\n      return val || this.closeDelete()\n    },\n  },\n\n  created() {\n    this.roleService = new RoleService()\n  },\n\n  mounted() {\n    this.roleService.getAbilities().then(response => {\n      this.loading1 = false\n      this.abilities = response.data\n    })\n  },\n\n  methods: {\n    editItem(item) {\n      this.editedIndex = this.abilities.indexOf(item)\n      this.editedItem = { ...item }\n      this.dialog = true\n    },\n\n    deleteItem(item) {\n      this.editedIndex = this.abilities.indexOf(item)\n      this.editedItem = { ...item }\n      this.dialogDelete = true\n    },\n\n    deleteItemConfirm() {\n      this.abilities.splice(this.editedIndex, 1)\n      this.closeDelete()\n    },\n\n    close() {\n      this.dialog = false\n      this.$nextTick(() => {\n        this.editedItem = { ...this.defaultItem }\n        this.editedIndex = -1\n      })\n    },\n\n    closeDelete() {\n      this.dialogDelete = false\n      this.$nextTick(() => {\n        this.editedItem = { ...this.defaultItem }\n        this.editedIndex = -1\n      })\n    },\n\n    save() {\n      if (this.editedIndex > -1) {\n        Object.assign(this.abilities[this.editedIndex], this.editedItem)\n      } else {\n        this.abilities.push(this.editedItem)\n      }\n      this.close()\n    },\n  },\n}\n</script>\n"]}]}