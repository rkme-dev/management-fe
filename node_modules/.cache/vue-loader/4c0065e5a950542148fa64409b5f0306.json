{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/projects/enco-fe/src/views/pages/user-access-management/users/ResetPasswordForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/views/pages/user-access-management/users/ResetPasswordForm.vue","mtime":1658559506456},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1652172763063},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js","mtime":1650363919730}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGNvbXB1dGVkLCB0b1JlZiB9IGZyb20gJ0B2dWUvY29tcG9zaXRpb24tYXBpL2Rpc3QvdnVlLWNvbXBvc2l0aW9uLWFwaScKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnCmltcG9ydCBVc2VyQWNjZXNzTWFuYWdlbWVudFNlcnZpY2UgZnJvbSAnQC9zZXJ2aWNlL1VzZXJBY2Nlc3NNYW5hZ2VtZW50U2VydmljZScKaW1wb3J0IHsKICBtZGlBY2NvdW50T3V0bGluZSwKICBtZGlDZWxscGhvbmUsCiAgbWRpRW1haWxPdXRsaW5lLCBtZGlFeWUsIG1kaUV5ZU9mZiwgbWRpSHVtYW5FZGl0LCBtZGlMaXN0U3RhdHVzLAogIG1kaUxvY2tPdXRsaW5lLAp9IGZyb20gJ0BtZGkvanMnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1Jlc2V0UGFzc3dvcmRGb3JtJywKICBwcm9wczogewogICAgdXNlckRhdGE6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6IG51bGwsCiAgICB9LAogIH0sCiAgZGF0YTogKCkgPT4gKHsKICAgIHZhbHVlOiBTdHJpbmcsCiAgfSksCiAgc2V0dXAocHJvcHMsIHsgZW1pdCB9KSB7CiAgICBjb25zdCBlcnJvcnMgPSBjb21wdXRlZCgoKSA9PiBzdG9yZS5zdGF0ZS5Vc2VyQWNjZXNzTWFuYWdlbWVudFN0b3JlLmVycm9ycykKICAgIGNvbnN0IHNlcnZpY2UgPSBuZXcgVXNlckFjY2Vzc01hbmFnZW1lbnRTZXJ2aWNlKCkKICAgIGNvbnN0IHVzZXIgPSB0b1JlZihwcm9wcywgJ3VzZXJEYXRhJykKICAgIHVzZXIudmFsdWUucGFzc3dvcmQgPSAnJwogICAgdXNlci52YWx1ZS5wYXNzd29yZF9jb25maXJtYXRpb24gPSAnJwoKICAgIGNvbnN0IGNhbmNlbCA9ICgpID0+IHsKICAgICAgZW1pdCgnY2xpY2tlZCcsIGZhbHNlKQogICAgfQoKICAgIGNvbnN0IHN1Ym1pdCA9ICgpID0+IHsKICAgICAgY29uc3QgZm9ybURhdGEgPSB7CiAgICAgICAgaWQ6IHVzZXIudmFsdWUuaWQsCiAgICAgICAgcGFzc3dvcmQ6IHVzZXIudmFsdWUucGFzc3dvcmQsCiAgICAgICAgcGFzc3dvcmRfY29uZmlybWF0aW9uOiB1c2VyLnZhbHVlLnBhc3N3b3JkX2NvbmZpcm1hdGlvbiwKICAgICAgfQoKICAgICAgc3RvcmUuZGlzcGF0Y2goJ1VzZXJBY2Nlc3NNYW5hZ2VtZW50U3RvcmUvdXBkYXRlUGFzc3dvcmQnLCBmb3JtRGF0YSkudGhlbigKICAgICAgICByZXNwb25zZSA9PiB7CiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgdXNlci52YWx1ZS5wYXNzd29yZCA9ICcnCiAgICAgICAgICAgIHVzZXIudmFsdWUucGFzc3dvcmRfY29uZmlybWF0aW9uID0gJycKCiAgICAgICAgICAgIGVtaXQoJ2NsaWNrZWQnLCB7CiAgICAgICAgICAgICAgYWxlcnRUeXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgYWxlcnRNZXNzYWdlOiAnU3VjY2Vzc2Z1bGx5IHVwZGF0ZWQgdGhlIHBhc3N3b3JkLicsCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgKQogICAgfQoKICAgIHJldHVybiB7CiAgICAgIGNhbmNlbCwKICAgICAgZXJyb3JzLAogICAgICBpY29uczogewogICAgICAgIG1kaUFjY291bnRPdXRsaW5lLAogICAgICAgIG1kaUVtYWlsT3V0bGluZSwKICAgICAgICBtZGlDZWxscGhvbmUsCiAgICAgICAgbWRpTG9ja091dGxpbmUsCiAgICAgICAgbWRpTGlzdFN0YXR1cywKICAgICAgICBtZGlIdW1hbkVkaXQsCiAgICAgICAgbWRpRXllLAogICAgICAgIG1kaUV5ZU9mZiwKICAgICAgfSwKICAgICAgc2VydmljZSwKICAgICAgc3VibWl0LAogICAgICB1c2VyLAogICAgfQogIH0sCn0K"},{"version":3,"sources":["ResetPasswordForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ResetPasswordForm.vue","sourceRoot":"src/views/pages/user-access-management/users","sourcesContent":["<template>\n  <v-form>\n    <v-row>\n      <v-col\n        cols=\"12\"\n        md=\"3\"\n      >\n        <label for=\"passwordHorizontalIcons\">Password</label>\n      </v-col>\n\n      <v-col\n        cols=\"12\"\n        md=\"9\"\n      >\n        <v-text-field\n          id=\"passwordHorizontalIcons\"\n          v-model=\"user.password\"\n          :prepend-inner-icon=\"icons.mdiLockOutline\"\n          outlined\n          dense\n          :error-messages=\"errors.password\"\n          placeholder=\"Password\"\n          hide-details=\"auto\"\n          :append-icon=\"value ? icons.mdiEye : icons.mdiEyeOff\"\n          :type=\"value ? 'password' : 'text'\"\n          @click:append=\"() => (value = !value)\"\n        ></v-text-field>\n      </v-col>\n\n      <v-col\n        cols=\"12\"\n        md=\"3\"\n      >\n        <label for=\"passwordHorizontalIcons\">Password Confirmation</label>\n      </v-col>\n\n      <v-col\n        cols=\"12\"\n        md=\"9\"\n      >\n        <v-text-field\n          id=\"passwordHorizontalIcons\"\n          v-model=\"user.password_confirmation\"\n          :prepend-inner-icon=\"icons.mdiLockOutline\"\n          :error-messages=\"errors.password_confirmation\"\n          outlined\n          dense\n          placeholder=\"Password Confirmation\"\n          hide-details=\"auto\"\n          :append-icon=\"value ? icons.mdiEye : icons.mdiEyeOff\"\n          :type=\"value ? 'password' : 'text'\"\n          @click:append=\"() => (value = !value)\"\n        ></v-text-field>\n      </v-col>\n      <v-col\n        offset-md=\"3\"\n        cols=\"12\"\n      >\n        <v-btn\n          color=\"primary\"\n          @click=\"submit\"\n        >\n          Submit\n        </v-btn>\n        <v-btn\n          type=\"reset\"\n          outlined\n          class=\"mx-2\"\n          @click=\"cancel\"\n        >\n          Cancel\n        </v-btn>\n      </v-col>\n    </v-row>\n  </v-form>\n</template>\n\n<script>\nimport { computed, toRef } from '@vue/composition-api/dist/vue-composition-api'\nimport store from '@/store'\nimport UserAccessManagementService from '@/service/UserAccessManagementService'\nimport {\n  mdiAccountOutline,\n  mdiCellphone,\n  mdiEmailOutline, mdiEye, mdiEyeOff, mdiHumanEdit, mdiListStatus,\n  mdiLockOutline,\n} from '@mdi/js'\n\nexport default {\n  name: 'ResetPasswordForm',\n  props: {\n    userData: {\n      type: Object,\n      required: false,\n      default: null,\n    },\n  },\n  data: () => ({\n    value: String,\n  }),\n  setup(props, { emit }) {\n    const errors = computed(() => store.state.UserAccessManagementStore.errors)\n    const service = new UserAccessManagementService()\n    const user = toRef(props, 'userData')\n    user.value.password = ''\n    user.value.password_confirmation = ''\n\n    const cancel = () => {\n      emit('clicked', false)\n    }\n\n    const submit = () => {\n      const formData = {\n        id: user.value.id,\n        password: user.value.password,\n        password_confirmation: user.value.password_confirmation,\n      }\n\n      store.dispatch('UserAccessManagementStore/updatePassword', formData).then(\n        response => {\n          if (response.status === undefined) {\n            user.value.password = ''\n            user.value.password_confirmation = ''\n\n            emit('clicked', {\n              alertType: 'success',\n              alertMessage: 'Successfully updated the password.',\n            })\n          }\n        },\n      )\n    }\n\n    return {\n      cancel,\n      errors,\n      icons: {\n        mdiAccountOutline,\n        mdiEmailOutline,\n        mdiCellphone,\n        mdiLockOutline,\n        mdiListStatus,\n        mdiHumanEdit,\n        mdiEye,\n        mdiEyeOff,\n      },\n      service,\n      submit,\n      user,\n    }\n  },\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}