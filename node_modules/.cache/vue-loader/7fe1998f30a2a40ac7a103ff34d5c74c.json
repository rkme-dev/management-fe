{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/projects/enco-fe/src/views/pages/purchase-orders/purchase-order/PurchaseOrderApprove.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/views/pages/purchase-orders/purchase-order/PurchaseOrderApprove.vue","mtime":1662257626120},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1652172763063},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js","mtime":1650363919730}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgY29tcHV0ZWQsIHJlZiwgb25Nb3VudGVkLAp9IGZyb20gJ0B2dWUvY29tcG9zaXRpb24tYXBpJwppbXBvcnQgcm91dGVyIGZyb20gJ0Avcm91dGVyJwppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZScKaW1wb3J0IHsKICBBUFBST1ZFX1BVUkNIQVNFX09SREVSLAogIEdFVF9QUk9EVUNUUywKICBHRVRfU1VQUExJRVJTLAp9IGZyb20gJ0Avc3RvcmUvYWN0aW9ucy50eXBlJwppbXBvcnQgUHVyY2hhc2VPcmRlcnNTZXJ2aWNlIGZyb20gJ0AvdXRpbHMvc2VydmljZXMvcHVyY2hhc2Utb3JkZXJzLnNlcnZpY2UnCmltcG9ydCB7IG1kaUJvb2tJbmZvcm1hdGlvblZhcmlhbnQsIG1kaUNsaXBib2FyZExpc3RPdXRsaW5lIH0gZnJvbSAnQG1kaS9qcycKaW1wb3J0IFB1cmNoYXNlT3JkZXJMb2dzIGZyb20gJ0Avdmlld3MvcGFnZXMvcHVyY2hhc2Utb3JkZXJzL3B1cmNoYXNlLW9yZGVyL2xvZ3MvUHVyY2hhc2VPcmRlckxvZ3MudnVlJwppbXBvcnQgQ2FyZFN1cHBsaWVyRGV0YWlscyBmcm9tICdAL3ZpZXdzL3BhZ2VzL3B1cmNoYXNlLW9yZGVycy9jb21wb25lbnQvQ2FyZFN1cHBsaWVyRGV0YWlscy52dWUnCmltcG9ydCBDYXJkRG93bnBheW1lbnREZXRhaWxzIGZyb20gJ0Avdmlld3MvcGFnZXMvcHVyY2hhc2Utb3JkZXJzL2NvbXBvbmVudC9DYXJkRG93bnBheW1lbnREZXRhaWxzLnZ1ZScKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBQdXJjaGFzZU9yZGVyTG9ncywKICAgIENhcmRTdXBwbGllckRldGFpbHMsCiAgICBDYXJkRG93bnBheW1lbnREZXRhaWxzLAogIH0sCiAgc2V0dXAoKSB7CiAgICBjb25zdCB7IGlkIH0gPSByb3V0ZXIuaGlzdG9yeS5jdXJyZW50LnBhcmFtcwogICAgY29uc3QgZXJyb3JzID0gY29tcHV0ZWQoKCkgPT4gc3RvcmUuZ2V0dGVycy5lcnJvcnMpCiAgICBjb25zdCBwcm9kdWN0cyA9IGNvbXB1dGVkKCgpID0+IHN0b3JlLmdldHRlcnMucHJvZHVjdHMpCiAgICBjb25zdCBzdXBwbGllcnMgPSBjb21wdXRlZCgoKSA9PiBzdG9yZS5nZXR0ZXJzLnN1cHBsaWVycykKICAgIGNvbnN0IHNlbGVjdGVkSXRlbVRyaWdnZXIgPSByZWYoW10pCiAgICBjb25zdCBvcmRlckl0ZW1zID0gcmVmKFtdKQogICAgY29uc3Qgc2hvd0FsZXJ0ID0gcmVmKGZhbHNlKQogICAgY29uc3Qgb3B0aW9uc0xvY2FsID0gcmVmKHsKICAgICAgZnhfbnVtYmVyOiAnJywKICAgICAgZXRhOiAnJywKICAgICAgaXRlbXM6IHt9LAogICAgICB0b3RhbDogMCwKICAgICAgcGVyY2VudGFnZTogMCwKICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICBwYWlkX2Ftb3VudDogJycsCiAgICAgIGJhbGFuY2U6IDAsCiAgICAgIHN1cHBsaWVyOiB7fSwKICAgIH0pCiAgICBjb25zdCB0YWIgPSByZWYoJycpCiAgICBjb25zdCBkb2xsYXJQZXJjZW50YWdlVG9QYXkgPSByZWYoJycpCiAgICBjb25zdCBwZXNvUGVyY2VudGFnZVRvUGF5ID0gcmVmKCcnKQoKICAgIGNvbnN0IGNhbkFwcHJvdmVQTyA9IHN0b3JlLmdldHRlcnNbJ0F1dGhTdG9yZS9oYXNBYmlsaXR5J10oJ2FwcHJvdmUtcHVyY2hhc2Ugb3JkZXInKQoKICAgIGNvbnN0IGdldFN1cHBsaWVyID0gc3VwcGxpZXIgPT4gewogICAgICBvcHRpb25zTG9jYWwudmFsdWUuc3VwcGxpZXIuaWQgPSBzdXBwbGllci5zdXBwbGllcl9pZAogICAgfQoKICAgIGNvbnN0IGRvd25wYXltZW50RGV0YWlsRm9ybSA9IHJlZih7fSkKCiAgICBjb25zdCBnZXREb3ducGF5bWVudCA9IGRvd25wYXltZW50RGV0YWlscyA9PiB7CiAgICAgIGRvd25wYXltZW50RGV0YWlsRm9ybS52YWx1ZSA9IGRvd25wYXltZW50RGV0YWlscwogICAgfQoKICAgIG9uTW91bnRlZChhc3luYyAoKSA9PiB7CiAgICAgIGF3YWl0IFB1cmNoYXNlT3JkZXJzU2VydmljZS5maW5kKGlkKQogICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gcmVzcG9uc2UuZGF0YQogICAgICAgICAgb3B0aW9uc0xvY2FsLnZhbHVlID0gewogICAgICAgICAgICBkZXNjcmlwdGlvbjogZGF0YS5vcmRlci5kZXNjcmlwdGlvbiwKICAgICAgICAgICAgZnhfbnVtYmVyOiBkYXRhLm9yZGVyLmZ4X2lkLAogICAgICAgICAgICBzdXBwbGllcjoge30sCiAgICAgICAgICAgIGl0ZW1zOiB7fSwKICAgICAgICAgIH0KCiAgICAgICAgICBvcmRlckl0ZW1zLnZhbHVlID0gZGF0YS5pdGVtcwogICAgICAgIH0pCiAgICB9KQoKICAgIHN0b3JlLmRpc3BhdGNoKEdFVF9QUk9EVUNUUykKICAgIHN0b3JlLmRpc3BhdGNoKEdFVF9TVVBQTElFUlMpCgogICAgY29uc3QgZ29CYWNrID0gKCkgPT4gewogICAgICByb3V0ZXIucHVzaCgnL3B1cmNoYXNlLW9yZGVycycpCiAgICB9CgogICAgY29uc3QgcmVzb2x2ZUZvcm1TdWNjZXNzID0gKCkgPT4gewogICAgICBzaG93QWxlcnQudmFsdWUgPSB0cnVlCiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIGdvQmFjaygpCiAgICAgIH0sIDEwMDApCiAgICB9CgogICAgY29uc3QgZGVib3VuY2UgPSAoZnVuYywgdGltZW91dCA9IDUwMCkgPT4gewogICAgICBsZXQgdGltZXIKCiAgICAgIHJldHVybiAoLi4uYXJncykgPT4gewogICAgICAgIGNsZWFyVGltZW91dCh0aW1lcikKICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgZnVuYy5hcHBseSh0aGlzLCBhcmdzKQogICAgICAgIH0sIHRpbWVvdXQpCiAgICAgIH0KICAgIH0KCiAgICBjb25zdCBtb25leUZvcm1hdCA9IGRlYm91bmNlKGZpZWxkID0+IHsKICAgICAgaWYgKGZpZWxkKSB7CiAgICAgICAgb3B0aW9uc0xvY2FsLnZhbHVlW2ZpZWxkXSA9IHBhcnNlRmxvYXQob3B0aW9uc0xvY2FsLnZhbHVlW2ZpZWxkXSkudG9GaXhlZCgyKS5yZXBsYWNlKC9cZCg/PShcZHszfSkrXC4pL2csICckJiwnKQogICAgICB9CiAgICB9KQoKICAgIGNvbnN0IHNhdmUgPSAoKSA9PiB7CiAgICAgIGxldCBjdXJyZW50Rm9ybSA9IG9wdGlvbnNMb2NhbC52YWx1ZQogICAgICBjdXJyZW50Rm9ybS5pZCA9IHJvdXRlci5oaXN0b3J5LmN1cnJlbnQucGFyYW1zLmlkCiAgICAgIGN1cnJlbnRGb3JtLnN1cHBsaWVyX2lkID0gY3VycmVudEZvcm0uc3VwcGxpZXIuaWQKICAgICAgY3VycmVudEZvcm0ucmF3X21hdGVyaWFscyA9IFtdCgogICAgICBvcmRlckl0ZW1zLnZhbHVlLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgY3VycmVudEZvcm0ucmF3X21hdGVyaWFscy5wdXNoKHsKICAgICAgICAgIGlkOiBpdGVtLmlkLAogICAgICAgICAgcXVhbnRpdHk6IGl0ZW0ucXVhbnRpdHksCiAgICAgICAgfSkKICAgICAgfSkKCiAgICAgIGN1cnJlbnRGb3JtID0geyAuLi5jdXJyZW50Rm9ybSwgLi4uZG93bnBheW1lbnREZXRhaWxGb3JtLnZhbHVlIH0KCiAgICAgIHN0b3JlLmRpc3BhdGNoKEFQUFJPVkVfUFVSQ0hBU0VfT1JERVIsIGN1cnJlbnRGb3JtKS50aGVuKGRhdGEgPT4gewogICAgICAgIGlmIChkYXRhICE9IG51bGwpIHsKICAgICAgICAgIHJlc29sdmVGb3JtU3VjY2VzcygpCiAgICAgICAgfQogICAgICB9KQogICAgfQoKICAgIGNvbnN0IHRhYnMgPSBbCiAgICAgIHsgdGl0bGU6ICdJbmZvcm1hdGlvbicsIGljb246IG1kaUJvb2tJbmZvcm1hdGlvblZhcmlhbnQgfSwKICAgICAgeyB0aXRsZTogJ0xvZ3MnLCBpY29uOiBtZGlDbGlwYm9hcmRMaXN0T3V0bGluZSB9LAogICAgXQoKICAgIHJldHVybiB7CiAgICAgIGdldERvd25wYXltZW50LAogICAgICBnZXRTdXBwbGllciwKICAgICAgY2FuQXBwcm92ZVBPLAogICAgICBpZCwKICAgICAgdGFiLAogICAgICB0YWJzLAogICAgICBzZWxlY3RlZEl0ZW1UcmlnZ2VyLAogICAgICBwcm9kdWN0cywKICAgICAgb3B0aW9uc0xvY2FsLAogICAgICBnb0JhY2ssCiAgICAgIHNhdmUsCiAgICAgIHNob3dBbGVydCwKICAgICAgZXJyb3JzLAogICAgICBvcmRlckl0ZW1zLAogICAgICBkb2xsYXJQZXJjZW50YWdlVG9QYXksCiAgICAgIHBlc29QZXJjZW50YWdlVG9QYXksCiAgICAgIHN1cHBsaWVycywKICAgICAgbW9uZXlGb3JtYXQsCiAgICB9CiAgfQogICwKfQo="},{"version":3,"sources":["PurchaseOrderApprove.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PurchaseOrderApprove.vue","sourceRoot":"src/views/pages/purchase-orders/purchase-order","sourcesContent":["<template>\n  <v-card\n    flat\n    class=\"\"\n  >\n    <!-- tabs -->\n    <v-tabs\n      v-model=\"tab\"\n      show-arrows\n      grow\n    >\n      <v-tab\n        v-for=\"tab in tabs\"\n        :key=\"tab.icon\"\n      >\n        <v-icon\n          size=\"30\"\n          class=\"me-3\"\n        >\n          {{ tab.icon }}\n        </v-icon>\n        <span>{{ tab.title }}</span>\n      </v-tab>\n    </v-tabs>\n\n    <!-- tabs item -->\n    <v-tabs-items v-model=\"tab\">\n      <v-tab-item>\n        <v-alert\n          v-show=\"showAlert\"\n          dense\n          text\n          type=\"success\"\n        >\n          Successfully <strong>approved</strong> a purchase order. You will be automatically\n          redirected in a bit.\n        </v-alert>\n        <v-form class=\"multi-col-validation\">\n          <v-card-text class=\"pt-5\">\n            <v-row>\n              <v-col\n                cols=\"12\"\n                class=\"\"\n              >\n              </v-col>\n              <!--              <v-col cols=\"12\">-->\n              <!--                <v-card-text class=\"mt-10\">-->\n              <!--                  <v-subheader class=\"font-weight-black\">-->\n              <!--                    Raw Materials In Stock-->\n              <!--                  </v-subheader>-->\n              <!--                  <v-simple-table-->\n              <!--                    fixed-header-->\n              <!--                  >-->\n              <!--                    <template v-slot:default>-->\n              <!--                      <thead>-->\n              <!--                        <tr>-->\n              <!--                          <th class=\"text-left\">-->\n              <!--                            Name-->\n              <!--                          </th>-->\n              <!--                          <th class=\"text-left\">-->\n              <!--                            Quantity In Stock-->\n              <!--                          </th>-->\n              <!--                        </tr>-->\n              <!--                      </thead>-->\n              <!--                      <tbody>-->\n              <!--                        <tr-->\n              <!--                          v-for=\"item in products\"-->\n              <!--                          :key=\"item.name\"-->\n              <!--                        >-->\n              <!--                          <td>{{ item.name }}</td>-->\n              <!--                          <td>{{ item.in_stock }}</td>-->\n              <!--                        </tr>-->\n              <!--                      </tbody>-->\n              <!--                    </template>-->\n              <!--                  </v-simple-table>-->\n              <!--                </v-card-text>-->\n              <!--              </v-col>-->\n\n              <!--              <v-col cols=\"12\">-->\n              <!--                <v-select-->\n              <!--                  v-model=\"optionsLocal.supplier\"-->\n              <!--                  placeholder=\"Select a Supplier\"-->\n              <!--                  label=\"Supplier *\"-->\n              <!--                  item-text=\"name\"-->\n              <!--                  item-value=\"id\"-->\n              <!--                  dense-->\n              <!--                  :items=\"suppliers\"-->\n              <!--                  :error-messages=\"errors.supplier_id\"-->\n              <!--                  return-object-->\n              <!--                ></v-select>-->\n              <!--              </v-col>-->\n              <v-col\n                cols=\"12\"\n                class=\"\"\n              >\n                <card-supplier-details\n                  :suppliers=\"suppliers\"\n                  :supplier-data=\"optionsLocal.supplier\"\n                  @getData=\"getSupplier\"\n                />\n              </v-col>\n              <v-col cols=\"12\">\n                <v-card-text class=\"px-0\">\n                  <v-simple-table\n                    fixed-header\n                  >\n                    <template v-slot:default>\n                      <thead>\n                        <tr>\n                          <th class=\"text-left\">\n                            Material Name\n                          </th>\n                          <th class=\"text-left\">\n                            Requested Quantity\n                          </th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        <tr\n                          v-for=\"(item, key) in orderItems\"\n                          :key=\"item.name\"\n                        >\n                          <td>{{ item.name }}</td>\n                          <td>\n                            <v-text-field\n                              v-model=\"item.quantity\"\n                              hide-details=\"auto\"\n                              dense\n                              label=\"Quantity\"\n                            ></v-text-field>\n                          </td>\n                        </tr>\n                      </tbody>\n                    </template>\n                  </v-simple-table>\n                </v-card-text>\n              </v-col>\n              <v-col\n                cols=\"7\"\n              >\n                <v-textarea\n                  v-model=\"optionsLocal.description\"\n                  outlined\n                  dense\n                  label=\"Description\"\n                  hide-details=\"auto\"\n                ></v-textarea>\n              </v-col>\n              <v-col\n                cols=\"12\"\n                class=\" mb-6\"\n              >\n                <card-downpayment-details\n                  @getDownpayment=\"getDownpayment\"\n                />\n              </v-col>\n            </v-row>\n          </v-card-text>\n\n          <v-card-text class=\"mt-10\">\n            <v-btn\n              v-if=\"canApprovePO\"\n              outlined\n              class=\"mr-3\"\n              color=\"primary\"\n              @click=\"save\"\n            >\n              Approve\n            </v-btn>\n            <v-btn\n              outlined\n              type=\"reset\"\n              @click.prevent=\"goBack\"\n            >\n              Back to List\n            </v-btn>\n          </v-card-text>\n        </v-form>\n      </v-tab-item>\n      <v-tab-item>\n        <purchase-order-logs :order-id=\"id\"></purchase-order-logs>\n      </v-tab-item>\n    </v-tabs-items>\n  </v-card>\n</template>\n\n<script>\nimport {\n  computed, ref, onMounted,\n} from '@vue/composition-api'\nimport router from '@/router'\nimport store from '@/store'\nimport {\n  APPROVE_PURCHASE_ORDER,\n  GET_PRODUCTS,\n  GET_SUPPLIERS,\n} from '@/store/actions.type'\nimport PurchaseOrdersService from '@/utils/services/purchase-orders.service'\nimport { mdiBookInformationVariant, mdiClipboardListOutline } from '@mdi/js'\nimport PurchaseOrderLogs from '@/views/pages/purchase-orders/purchase-order/logs/PurchaseOrderLogs.vue'\nimport CardSupplierDetails from '@/views/pages/purchase-orders/component/CardSupplierDetails.vue'\nimport CardDownpaymentDetails from '@/views/pages/purchase-orders/component/CardDownpaymentDetails.vue'\n\nexport default {\n  components: {\n    PurchaseOrderLogs,\n    CardSupplierDetails,\n    CardDownpaymentDetails,\n  },\n  setup() {\n    const { id } = router.history.current.params\n    const errors = computed(() => store.getters.errors)\n    const products = computed(() => store.getters.products)\n    const suppliers = computed(() => store.getters.suppliers)\n    const selectedItemTrigger = ref([])\n    const orderItems = ref([])\n    const showAlert = ref(false)\n    const optionsLocal = ref({\n      fx_number: '',\n      eta: '',\n      items: {},\n      total: 0,\n      percentage: 0,\n      description: '',\n      paid_amount: '',\n      balance: 0,\n      supplier: {},\n    })\n    const tab = ref('')\n    const dollarPercentageToPay = ref('')\n    const pesoPercentageToPay = ref('')\n\n    const canApprovePO = store.getters['AuthStore/hasAbility']('approve-purchase order')\n\n    const getSupplier = supplier => {\n      optionsLocal.value.supplier.id = supplier.supplier_id\n    }\n\n    const downpaymentDetailForm = ref({})\n\n    const getDownpayment = downpaymentDetails => {\n      downpaymentDetailForm.value = downpaymentDetails\n    }\n\n    onMounted(async () => {\n      await PurchaseOrdersService.find(id)\n        .then(response => {\n          const { data } = response.data\n          optionsLocal.value = {\n            description: data.order.description,\n            fx_number: data.order.fx_id,\n            supplier: {},\n            items: {},\n          }\n\n          orderItems.value = data.items\n        })\n    })\n\n    store.dispatch(GET_PRODUCTS)\n    store.dispatch(GET_SUPPLIERS)\n\n    const goBack = () => {\n      router.push('/purchase-orders')\n    }\n\n    const resolveFormSuccess = () => {\n      showAlert.value = true\n      setTimeout(() => {\n        goBack()\n      }, 1000)\n    }\n\n    const debounce = (func, timeout = 500) => {\n      let timer\n\n      return (...args) => {\n        clearTimeout(timer)\n        timer = setTimeout(() => {\n          func.apply(this, args)\n        }, timeout)\n      }\n    }\n\n    const moneyFormat = debounce(field => {\n      if (field) {\n        optionsLocal.value[field] = parseFloat(optionsLocal.value[field]).toFixed(2).replace(/\\d(?=(\\d{3})+\\.)/g, '$&,')\n      }\n    })\n\n    const save = () => {\n      let currentForm = optionsLocal.value\n      currentForm.id = router.history.current.params.id\n      currentForm.supplier_id = currentForm.supplier.id\n      currentForm.raw_materials = []\n\n      orderItems.value.forEach(item => {\n        currentForm.raw_materials.push({\n          id: item.id,\n          quantity: item.quantity,\n        })\n      })\n\n      currentForm = { ...currentForm, ...downpaymentDetailForm.value }\n\n      store.dispatch(APPROVE_PURCHASE_ORDER, currentForm).then(data => {\n        if (data != null) {\n          resolveFormSuccess()\n        }\n      })\n    }\n\n    const tabs = [\n      { title: 'Information', icon: mdiBookInformationVariant },\n      { title: 'Logs', icon: mdiClipboardListOutline },\n    ]\n\n    return {\n      getDownpayment,\n      getSupplier,\n      canApprovePO,\n      id,\n      tab,\n      tabs,\n      selectedItemTrigger,\n      products,\n      optionsLocal,\n      goBack,\n      save,\n      showAlert,\n      errors,\n      orderItems,\n      dollarPercentageToPay,\n      pesoPercentageToPay,\n      suppliers,\n      moneyFormat,\n    }\n  }\n  ,\n}\n</script>\n"]}]}