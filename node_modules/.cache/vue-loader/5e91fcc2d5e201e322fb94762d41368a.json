{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/projects/enco-fe/src/views/pages/master-files/documents/DocumentForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/views/pages/master-files/documents/DocumentForm.vue","mtime":1662981058322},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1665368576185},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1665368576151},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1665368576185},{"path":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js","mtime":1665368593779}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgdG9SZWYsCiAgY29tcHV0ZWQsCiAgcmVmLCB3YXRjaCwKfSBmcm9tICdAdnVlL2NvbXBvc2l0aW9uLWFwaS9kaXN0L3Z1ZS1jb21wb3NpdGlvbi1hcGknCmltcG9ydCBzdG9yZSBmcm9tICdAL3N0b3JlJwoKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICBtb2RlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgIGRlZmF1bHQ6IG51bGwsCiAgICB9LAogICAgZG9jdW1lbnQ6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6IG51bGwsCiAgICB9LAogIH0sCiAgc2V0dXAocHJvcHMsIHsgZW1pdCB9KSB7CiAgICBjb25zdCBkb2N1bWVudFByb3AgPSB0b1JlZihwcm9wcywgJ2RvY3VtZW50JykKCiAgICBjb25zdCBtb2R1bGVzTGlzdCA9IFsKICAgICAgJ1B1cmNoYXNlIE9yZGVyJywKICAgICAgJ1NhbGVzJywKICAgICAgJ09yZGVycycsCiAgICAgICdUcmlwLXRpY2tldCcsCiAgICAgICdDb2xsZWN0aW9uJywKICAgICAgJ0RlcG9zaXQnLAogICAgXQoKICAgIGNvbnN0IGRvY3VtZW50RGF0YSA9IHJlZih7CiAgICAgIGRvY3VtZW50X25hbWU6IG51bGwsCiAgICAgIGRlc2NyaXB0aW9uOiBudWxsLAogICAgICBtb2R1bGU6IG51bGwsCiAgICAgIG5vdGVzOiBudWxsLAogICAgICBpc19hY3RpdmU6IGZhbHNlLAogICAgfSkKCiAgICBpZiAocHJvcHMubW9kZSA9PT0gJ2VkaXQnKSB7CiAgICAgIGRvY3VtZW50RGF0YS52YWx1ZSA9IGRvY3VtZW50UHJvcC52YWx1ZQoKICAgICAgaWYgKGRvY3VtZW50RGF0YS52YWx1ZS5pc19hY3RpdmUgPT09ICdJbmFjdGl2ZScpIHsKICAgICAgICBkb2N1bWVudERhdGEudmFsdWUuaXNfYWN0aXZlID0gMAogICAgICB9IGVsc2UgewogICAgICAgIGRvY3VtZW50RGF0YS52YWx1ZS5pc19hY3RpdmUgPSAxCiAgICAgIH0KICAgIH0KCiAgICB3YXRjaChkb2N1bWVudFByb3AsICgpID0+IHsKICAgICAgaWYgKHByb3BzLm1vZGUgPT09ICdlZGl0JykgewogICAgICAgIGRvY3VtZW50RGF0YS52YWx1ZSA9IGRvY3VtZW50UHJvcC52YWx1ZQoKICAgICAgICBpZiAoZG9jdW1lbnREYXRhLnZhbHVlLmlzX2FjdGl2ZSA9PT0gJ0luYWN0aXZlJykgewogICAgICAgICAgZG9jdW1lbnREYXRhLnZhbHVlLmlzX2FjdGl2ZSA9IDAKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZG9jdW1lbnREYXRhLnZhbHVlLmlzX2FjdGl2ZSA9IDEKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZG9jdW1lbnREYXRhLnZhbHVlID0gewogICAgICAgICAgZG9jdW1lbnRfbmFtZTogbnVsbCwKICAgICAgICAgIGRlc2NyaXB0aW9uOiBudWxsLAogICAgICAgICAgbW9kdWxlOiBudWxsLAogICAgICAgICAgbm90ZXM6IG51bGwsCiAgICAgICAgICBpc19hY3RpdmU6IGZhbHNlLAogICAgICAgIH0KICAgICAgfQogICAgfSkKCiAgICBjb25zdCBlcnJvcnMgPSBjb21wdXRlZCgoKSA9PiBzdG9yZS5zdGF0ZS5Eb2N1bWVudFN0b3JlLmVycm9ycykKCiAgICBjb25zdCBjYW5jZWwgPSAoKSA9PiB7CiAgICAgIGVtaXQoJ2NsaWNrZWQnLCBmYWxzZSkKICAgIH0KCiAgICBjb25zdCBzdWJtaXQgPSAoKSA9PiB7CiAgICAgIGlmIChkb2N1bWVudERhdGEudmFsdWUuaWQgPT09IHVuZGVmaW5lZCkgewogICAgICAgIHN0b3JlLmRpc3BhdGNoKCdEb2N1bWVudFN0b3JlL2NyZWF0ZScsIGRvY3VtZW50RGF0YS52YWx1ZSkudGhlbigKICAgICAgICAgIHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgZW1pdCgnY2xpY2tlZCcsIHsKICAgICAgICAgICAgICAgIGFsZXJ0VHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgYWxlcnRNZXNzYWdlOiAnU3VjY2Vzc2Z1bGx5IEFkZGVkIGEgRG9jdW1lbnQuJywKICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKCdEb2N1bWVudFN0b3JlL2xpc3QnKQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICkKICAgICAgfSBlbHNlIHsKICAgICAgICBzdG9yZS5kaXNwYXRjaCgnRG9jdW1lbnRTdG9yZS91cGRhdGUnLCBkb2N1bWVudERhdGEudmFsdWUpLnRoZW4oCiAgICAgICAgICByZXNwb25zZSA9PiB7CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgIGVtaXQoJ2NsaWNrZWQnLCB7CiAgICAgICAgICAgICAgICBhbGVydFR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgIGFsZXJ0TWVzc2FnZTogJ1N1Y2Nlc3NmdWxseSB1cGRhdGVkIGEgRG9jdW1lbnQuJywKICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKCdEb2N1bWVudFN0b3JlL2xpc3QnKQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICkKICAgICAgfQogICAgfQoKICAgIHJldHVybiB7CiAgICAgIGNhbmNlbCwKICAgICAgZXJyb3JzLAogICAgICBkb2N1bWVudERhdGEsCiAgICAgIHN1Ym1pdCwKICAgICAgbW9kdWxlc0xpc3QsCiAgICB9CiAgfSwKICBjb21wdXRlZDogewogIH0sCiAgbWV0aG9kczogewogIH0sCn0K"},{"version":3,"sources":["DocumentForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+HA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DocumentForm.vue","sourceRoot":"src/views/pages/master-files/documents","sourcesContent":["<template>\n  <v-form>\n    <v-row>\n      <v-col\n        cols=\"4\"\n        md=\"3\"\n      >\n        <label for=\"firstnameHorizontalIcons\">Document Name</label>\n      </v-col>\n\n      <v-col\n        cols=\"7\"\n        md=\"7\"\n      >\n        <v-text-field\n          id=\"firstnameHorizontalIcons\"\n          v-model=\"documentData.document_name\"\n          outlined\n          dense\n          :error-messages=\"errors.name\"\n          placeholder=\"Document Name\"\n          hide-details=\"auto\"\n        ></v-text-field>\n      </v-col>\n      <v-col\n        cols=\"4\"\n        md=\"3\"\n      >\n        <label for=\"firstnameHorizontalIcons\">Description</label>\n      </v-col>\n\n      <v-col\n        cols=\"7\"\n      >\n        <v-textarea\n          id=\"firstnameHorizontalIcons\"\n          v-model=\"documentData.description\"\n          outlined\n          dense\n          rows=\"2\"\n          :error-messages=\"errors.description\"\n          placeholder=\"Description\"\n          hide-details=\"auto\"\n        ></v-textarea>\n      </v-col>\n      <v-col\n        cols=\"4\"\n        md=\"3\"\n      >\n        <label for=\"firstnameHorizontalIcons\">Notes</label>\n      </v-col>\n\n      <v-col\n        cols=\"7\"\n      >\n        <v-textarea\n          id=\"firstnameHorizontalIcons\"\n          v-model=\"documentData.notes\"\n          rows=\"3\"\n          outlined\n          dense\n          :error-messages=\"errors.notes\"\n          placeholder=\"Notes\"\n          hide-details=\"auto\"\n        ></v-textarea>\n      </v-col>\n      <v-col\n        cols=\"4\"\n        md=\"3\"\n      >\n        <label for=\"firstnameHorizontalIcons\">Module</label>\n      </v-col>\n\n      <v-col\n        cols=\"7\"\n        md=\"7\"\n      >\n      <v-select\n          v-model=\"documentData.module\"\n          :items=\"modulesList\"\n          filled\n          label=\"Filled style\"\n        ></v-select>\n      </v-col>\n      <v-col\n        cols=\"4\"\n        md=\"3\"\n      >\n      </v-col>\n\n      <v-col\n        cols=\"7\"\n        md=\"7\"\n      >\n        <v-checkbox\n          v-model=\"documentData.is_active\"\n          label=\"Active\"\n          :error-messages=\"errors.is_active\"\n          hide-details=\"auto\"\n          class=\"me-3 mt-1\"\n        >\n        </v-checkbox>\n      </v-col>\n      <v-col\n        offset-md=\"3\"\n        cols=\"12\"\n      >\n        <v-btn\n          color=\"primary\"\n          @click=\"submit\"\n        >\n          Submit\n        </v-btn>\n        <v-btn\n          type=\"reset\"\n          outlined\n          class=\"mx-2\"\n          @click=\"cancel\"\n        >\n          Cancel\n        </v-btn>\n      </v-col>\n    </v-row>\n  </v-form>\n</template>\n\n<script>\nimport {\n  toRef,\n  computed,\n  ref, watch,\n} from '@vue/composition-api/dist/vue-composition-api'\nimport store from '@/store'\n\nexport default {\n  props: {\n    mode: {\n      type: String,\n      required: true,\n      default: null,\n    },\n    document: {\n      type: Object,\n      required: false,\n      default: null,\n    },\n  },\n  setup(props, { emit }) {\n    const documentProp = toRef(props, 'document')\n\n    const modulesList = [\n      'Purchase Order',\n      'Sales',\n      'Orders',\n      'Trip-ticket',\n      'Collection',\n      'Deposit',\n    ]\n\n    const documentData = ref({\n      document_name: null,\n      description: null,\n      module: null,\n      notes: null,\n      is_active: false,\n    })\n\n    if (props.mode === 'edit') {\n      documentData.value = documentProp.value\n\n      if (documentData.value.is_active === 'Inactive') {\n        documentData.value.is_active = 0\n      } else {\n        documentData.value.is_active = 1\n      }\n    }\n\n    watch(documentProp, () => {\n      if (props.mode === 'edit') {\n        documentData.value = documentProp.value\n\n        if (documentData.value.is_active === 'Inactive') {\n          documentData.value.is_active = 0\n        } else {\n          documentData.value.is_active = 1\n        }\n      } else {\n        documentData.value = {\n          document_name: null,\n          description: null,\n          module: null,\n          notes: null,\n          is_active: false,\n        }\n      }\n    })\n\n    const errors = computed(() => store.state.DocumentStore.errors)\n\n    const cancel = () => {\n      emit('clicked', false)\n    }\n\n    const submit = () => {\n      if (documentData.value.id === undefined) {\n        store.dispatch('DocumentStore/create', documentData.value).then(\n          response => {\n            if (response.status === undefined) {\n              emit('clicked', {\n                alertType: 'success',\n                alertMessage: 'Successfully Added a Document.',\n              })\n              store.dispatch('DocumentStore/list')\n            }\n          },\n        )\n      } else {\n        store.dispatch('DocumentStore/update', documentData.value).then(\n          response => {\n            if (response.status === undefined) {\n              emit('clicked', {\n                alertType: 'success',\n                alertMessage: 'Successfully updated a Document.',\n              })\n              store.dispatch('DocumentStore/list')\n            }\n          },\n        )\n      }\n    }\n\n    return {\n      cancel,\n      errors,\n      documentData,\n      submit,\n      modulesList,\n    }\n  },\n  computed: {\n  },\n  methods: {\n  },\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}