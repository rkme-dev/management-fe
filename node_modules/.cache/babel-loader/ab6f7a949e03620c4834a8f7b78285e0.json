{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/thread-loader/dist/cjs.js!/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js!/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/projects/enco-fe/src/views/pages/purchase-orders/component/PurchaseOrderAddSelector.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/views/pages/purchase-orders/component/PurchaseOrderAddSelector.vue","mtime":1660820879159},{"path":"/Users/mark/projects/enco-fe/babel.config.js","mtime":1655991784146},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/thread-loader/dist/cjs.js","mtime":1650363913040},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1652172763063},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js","mtime":1650363919730}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL21hcmsvcHJvamVjdHMvZW5jby1mZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IHJlZiwgd2F0Y2gsIHJlYWN0aXZlIH0gZnJvbSAnQHZ1ZS9jb21wb3NpdGlvbi1hcGkvZGlzdC92dWUtY29tcG9zaXRpb24tYXBpJzsKaW1wb3J0IHsgbWRpUGx1cyB9IGZyb20gJ0BtZGkvanMnOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIGl0ZW1OdW1iZXI6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAwCiAgICB9LAogICAgcHJvZHVjdERyb3Bkb3duOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0KICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cChwcm9wcywgX3JlZikgewogICAgdmFyIGVtaXQgPSBfcmVmLmVtaXQ7CiAgICB2YXIgcHJvZHVjdCA9IHJlYWN0aXZlKHsKICAgICAgcHJvZHVjdF9pZDogJycsCiAgICAgIHF1YW50aXR5OiAnJwogICAgfSk7CiAgICB2YXIgcHJvZHVjdFNlbGVjdGlvbiA9IHJlZihbXSk7CiAgICB2YXIgaXNEaXNhYmxlZCA9IHJlZih0cnVlKTsKCiAgICB2YXIgaGFuZGxlSXNOdW1iZXIgPSBmdW5jdGlvbiBoYW5kbGVJc051bWJlcihldnQpIHsKICAgICAgZXZ0ID0gZXZ0ID8gZXZ0IDogd2luZG93LmV2ZW50OwogICAgICB2YXIgY29kZSA9IGV2dC53aGljaCA/IGV2dC53aGljaCA6IGV2dC5rZXlDb2RlOwoKICAgICAgaWYgKGNvZGUgPiAzMSAmJiAoY29kZSA8IDQ4IHx8IGNvZGUgPiA1NykgJiYgY29kZSAhPT0gNDYpIHsKICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgfTsgLy8gZGlzYWJsZSBpdGVtIGluIGRyb3Bkb3duCgoKICAgIHZhciBoYW5kbGVEaXNhYmxlZEl0ZW0gPSBmdW5jdGlvbiBoYW5kbGVEaXNhYmxlZEl0ZW0oaXRlbSkgewogICAgICByZXR1cm4gaXRlbS5kaXNhYmxlZCA/IHRydWUgOiBmYWxzZTsKICAgIH07CgogICAgd2F0Y2gocHJvZHVjdCwgZnVuY3Rpb24gKCkgewogICAgICBpZiAocHJvZHVjdC5wcm9kdWN0X2lkICYmIHByb2R1Y3QucXVhbnRpdHkpIGlzRGlzYWJsZWQudmFsdWUgPSBmYWxzZTtlbHNlIGlzRGlzYWJsZWQudmFsdWUgPSB0cnVlOwogICAgICBlbWl0KCdzZWxlY3RlZFByb2R1Y3QnLCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHByb2R1Y3QpLCB7fSwgewogICAgICAgIHF1YW50aXR5OiBOdW1iZXIocHJvZHVjdC5xdWFudGl0eSkKICAgICAgfSksIHByb3BzLml0ZW1OdW1iZXIpOwogICAgfSk7CiAgICByZXR1cm4gewogICAgICBwcm9kdWN0OiBwcm9kdWN0LAogICAgICBwcm9kdWN0U2VsZWN0aW9uOiBwcm9kdWN0U2VsZWN0aW9uLAogICAgICBpc0Rpc2FibGVkOiBpc0Rpc2FibGVkLAogICAgICBpY29uczogewogICAgICAgIG1kaVBsdXM6IG1kaVBsdXMKICAgICAgfSwKICAgICAgaGFuZGxlSXNOdW1iZXI6IGhhbmRsZUlzTnVtYmVyLAogICAgICBoYW5kbGVEaXNhYmxlZEl0ZW06IGhhbmRsZURpc2FibGVkSXRlbQogICAgfTsKICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;AAEA,SACAA,OADA,QAEA,SAFA;AAIA;EACAC;IACAC;MACAC,YADA;MAEAC;IAFA,CADA;IAKAC;MACAF,WADA;MAEAC;QAAA;MAAA;IAFA;EALA,CADA;EAWAE,KAXA,iBAWAL,KAXA,QAWA;IAAA;IACA;MAAAM;MAAAC;IAAA;IACA;IACA;;IAEA;MACAC;MACA;;MACA;QACAA;MACA,CAFA,MAEA;QACA;MACA;IACA,CARA,CALA,CAeA;;;IACA;MACA;IACA,CAFA;;IAIAC,MACAC,OADA,EAEA;MACA,0EACAC;MAEAC;QAAAL;MAAA;IACA,CAPA;IAUA;MACAG,gBADA;MAEAG,kCAFA;MAGAF,sBAHA;MAIAG;QACAf;MADA,CAJA;MAOAgB,8BAPA;MAQAC;IARA;EAUA;AAnDA","names":["mdiPlus","props","itemNumber","type","default","productDropdown","setup","product_id","quantity","evt","watch","product","isDisabled","emit","productSelection","icons","handleIsNumber","handleDisabledItem"],"sourceRoot":"src/views/pages/purchase-orders/component","sources":["PurchaseOrderAddSelector.vue"],"sourcesContent":["<template>\n  <v-card>\n    <v-row>\n      <v-col cols=\"7\">\n        <v-select\n          v-model=\"product.product_id\"\n          label=\"Select a Product\"\n          item-text=\"name\"\n          item-value=\"id\"\n          dense\n          :items=\"productDropdown\"\n          :item-disabled=\"handleDisabledItem\"\n        ></v-select>\n      </v-col>\n\n      <v-col cols=\"4\">\n        <v-text-field\n          v-model=\"product.quantity\"\n          label=\"Quantity\"\n          hide-details=\"auto\"\n          dense\n          @keypress=\"handleIsNumber\"\n        />\n      </v-col>\n\n      <v-col cols=\"1\">\n        <v-btn\n          class=\"mx-2\"\n          x-small\n          fab\n          :disabled=\"isDisabled\"\n          @click=\"$emit('addProductRow')\"\n        >\n          <v-icon dark>\n            {{ icons.mdiPlus }}\n          </v-icon>\n        </v-btn>\n      </v-col>\n    </v-row>\n  </v-card>\n</template>\n\n<script>\nimport { ref, watch, reactive } from '@vue/composition-api/dist/vue-composition-api'\n\nimport {\n  mdiPlus\n} from '@mdi/js'\n\nexport default {\n  props: {\n    itemNumber: {\n      type: Number,\n      default: 0,\n    },\n    productDropdown: {\n      type: Array,\n      default: () => [],\n    }\n  },\n  setup(props, { emit }) {\n    const product = reactive({ product_id: '', quantity: '' })\n    const productSelection = ref([])\n    const isDisabled = ref(true)\n\n    const handleIsNumber = (evt) => {\n      evt = (evt) ? evt : window.event;\n      const code = (evt.which) ? evt.which : evt.keyCode;\n      if ((code > 31 && (code < 48 || code > 57)) && code !== 46) {\n        evt.preventDefault()\n      } else {\n        return true\n      }\n    }\n\n    // disable item in dropdown\n    const handleDisabledItem = item => {\n      return item.disabled ? true : false\n    }\n\n    watch(\n      product,\n      () => {\n        if (product.product_id && product.quantity) isDisabled.value = false\n        else isDisabled.value = true\n\n        emit('selectedProduct', { ...product, quantity: Number(product.quantity) }, props.itemNumber)\n      },\n    )\n\n    return {\n      product,\n      productSelection,\n      isDisabled,\n      icons: {\n        mdiPlus,\n      },\n      handleIsNumber,\n      handleDisabledItem,\n    }\n  }\n}\n</script>\n"]}]}