{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js!/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/projects/enco-fe/src/views/pages/products/product/ProductInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/views/pages/products/product/ProductInfo.vue","mtime":1661340655695},{"path":"/Users/mark/projects/enco-fe/babel.config.js","mtime":1655991784146},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1652172763063},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js","mtime":1650363919730}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgY29tcHV0ZWQsIHJlZiwgd2F0Y2ggfSBmcm9tICdAdnVlL2NvbXBvc2l0aW9uLWFwaSc7CmltcG9ydCByb3V0ZXIgZnJvbSAnQC9yb3V0ZXInOwppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZSc7CmltcG9ydCB7IENSRUFURV9QUk9EVUNULCBVUERBVEVfUFJPRFVDVCB9IGZyb20gJ0Avc3RvcmUvYWN0aW9ucy50eXBlJzsKaW1wb3J0IHsgU0VUX0VSUk9SIH0gZnJvbSAnQC9zdG9yZS9tdXRhdGlvbnMudHlwZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgaW5mb3JtYXRpb25EYXRhOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIG5hbWU6ICcnLAogICAgICAgICAgcHJvZHVjdF9udW1iZXI6ICcnLAogICAgICAgICAgc2t1OiAnJywKICAgICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICAgIGluX3N0b2NrOiAnJywKICAgICAgICAgIGl0ZW1zX3Blcl9ib3g6ICcnLAogICAgICAgICAgcmF3X21hdGVyaWFsX3R5cGU6ICcnCiAgICAgICAgfTsKICAgICAgfQogICAgfSwKICAgIG1vZGU6IHsKICAgICAgdHlwZTogU3RyaW5nCiAgICB9CiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAocHJvcHMpIHsKICAgIHZhciBlcnJvcnMgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBzdG9yZS5nZXR0ZXJzLmVycm9yczsKICAgIH0pOwogICAgdmFyIG9wdGlvbnNMb2NhbCA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHByb3BzLmluZm9ybWF0aW9uRGF0YTsKICAgIH0pOwogICAgdmFyIHNob3dBbGVydCA9IHJlZihmYWxzZSk7CiAgICB2YXIgYnV0dG9uTGFiZWwgPSBwcm9wcy5tb2RlID09PSAnY3JlYXRlJyA/ICdTYXZlJyA6ICdVcGRhdGUnOwogICAgdmFyIHJhd1R5cGVzID0gW3sKICAgICAgdmFsdWU6ICdwcmVmb3JtJywKICAgICAgbGFiZWw6ICdQcmVmb3JtJwogICAgfSwgewogICAgICB2YWx1ZTogJ2JvdHRsZV9jYXAnLAogICAgICBsYWJlbDogJ0JvdHRsZSBDYXAnCiAgICB9LCB7CiAgICAgIHZhbHVlOiAnYm90dGxlX2xhYmVsJywKICAgICAgbGFiZWw6ICdCb3R0bGUgTGFiZWwnCiAgICB9LCB7CiAgICAgIHZhbHVlOiAnYmxvd25fYm90dGxlJywKICAgICAgbGFiZWw6ICdCbG93biBCb3R0bGUnCiAgICB9XTsKCiAgICB2YXIgZ29CYWNrID0gZnVuY3Rpb24gZ29CYWNrKCkgewogICAgICByb3V0ZXIucHVzaCgnL3Byb2R1Y3RzJyk7CiAgICB9OwoKICAgIHZhciByZXNvbHZlRm9ybVN1Y2Nlc3MgPSBmdW5jdGlvbiByZXNvbHZlRm9ybVN1Y2Nlc3MoKSB7CiAgICAgIHNob3dBbGVydC52YWx1ZSA9IHRydWU7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIGdvQmFjaygpOwogICAgICB9LCAxNTAwKTsKICAgIH07CgogICAgdmFyIHNhdmUgPSBmdW5jdGlvbiBzYXZlKCkgewogICAgICBpZiAocHJvcHMubW9kZSA9PT0gJ3VwZGF0ZScpIHsKICAgICAgICBzdG9yZS5kaXNwYXRjaChVUERBVEVfUFJPRFVDVCwgb3B0aW9uc0xvY2FsLnZhbHVlKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICBpZiAoZGF0YSAhPSBudWxsKSB7CiAgICAgICAgICAgIHJlc29sdmVGb3JtU3VjY2VzcygpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CgogICAgICBpZiAocHJvcHMubW9kZSA9PT0gJ2NyZWF0ZScpIHsKICAgICAgICBvcHRpb25zTG9jYWwudmFsdWUudHlwZSA9ICdyYXdfbWF0ZXJpYWwnOwogICAgICAgIHN0b3JlLmRpc3BhdGNoKENSRUFURV9QUk9EVUNULCBvcHRpb25zTG9jYWwudmFsdWUpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgIGlmIChkYXRhICE9IG51bGwpIHsKICAgICAgICAgICAgcmVzb2x2ZUZvcm1TdWNjZXNzKCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH07CgogICAgcmV0dXJuIHsKICAgICAgb3B0aW9uc0xvY2FsOiBvcHRpb25zTG9jYWwsCiAgICAgIHJhd1R5cGVzOiByYXdUeXBlcywKICAgICAgZ29CYWNrOiBnb0JhY2ssCiAgICAgIHNhdmU6IHNhdmUsCiAgICAgIHNob3dBbGVydDogc2hvd0FsZXJ0LAogICAgICBlcnJvcnM6IGVycm9ycywKICAgICAgYnV0dG9uTGFiZWw6IGJ1dHRvbkxhYmVsCiAgICB9OwogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqHA;AACA;AACA;AACA;AACA;AAEA;EACAA;IACAC;MACAC,YADA;MAEAC;QAAA;UACAC,QADA;UAEAC,kBAFA;UAGAC,OAHA;UAIAC,eAJA;UAKAC,YALA;UAMAC,iBANA;UAOAC;QAPA;MAAA;IAFA,CADA;IAaAC;MACAT;IADA;EAbA,CADA;EAkBAU,KAlBA,iBAkBAZ,KAlBA,EAkBA;IACA;MAAA;IAAA;IACA;MAAA;IAAA;IACA;IACA;IACA,gBACA;MACAa,gBADA;MAEAC;IAFA,CADA,EAKA;MACAD,mBADA;MAEAC;IAFA,CALA,EASA;MACAD,qBADA;MAEAC;IAFA,CATA,EAaA;MACAD,qBADA;MAEAC;IAFA,CAbA;;IAmBA;MACAC;IACA,CAFA;;IAIA;MACAC;MACAC;QACAC;MACA,CAFA,EAEA,IAFA;IAGA,CALA;;IAOA;MACA;QACAC;UACA;YACAC;UACA;QACA,CAJA;MAKA;;MAEA;QACAC;QAEAF;UACA;YACAC;UACA;QACA,CAJA;MAKA;IACA,CAlBA;;IAoBA;MACAC,0BADA;MAEAC,kBAFA;MAGAJ,cAHA;MAIAK,UAJA;MAKAP,oBALA;MAMAQ,cANA;MAOAC;IAPA;EASA;AAlFA","names":["props","informationData","type","default","name","product_number","sku","description","in_stock","items_per_box","raw_material_type","mode","setup","value","label","router","showAlert","setTimeout","goBack","store","resolveFormSuccess","optionsLocal","rawTypes","save","errors","buttonLabel"],"sourceRoot":"src/views/pages/products/product","sources":["ProductInfo.vue"],"sourcesContent":["<template>\n  <v-card\n    flat\n    class=\"pa-3 mt-2\"\n  >\n    <v-alert\n      v-show=\"showAlert\"\n      dense\n      text\n      type=\"success\"\n    >\n      Successfully <strong>{{ mode }}d</strong> a raw material. You will be automatically\n      redirected in a bit.\n    </v-alert>\n    <v-form class=\"multi-col-validation\">\n      <v-card-text class=\"pt-5\">\n        <v-row>\n          <v-col\n            cols=\"4\"\n            md=\"12\"\n          >\n            <v-text-field\n              v-if=\"optionsLocal.product_number !== ''\"\n              v-model=\"optionsLocal.product_number\"\n              outlined\n              dense\n              label=\"Product Number\"\n              :readonly=\"true\"\n              :persistent-placeholder=\"mode === 'show'\"\n            ></v-text-field>\n          </v-col>\n          <v-col cols=\"6\">\n            <v-text-field\n              v-model=\"optionsLocal.name\"\n              outlined\n              dense\n              label=\"Name\"\n              :readonly=\"mode === 'show'\"\n              hide-details=\"auto\"\n              :error-messages=\"errors.name\"\n              :persistent-placeholder=\"mode === 'show'\"\n            ></v-text-field>\n          </v-col>\n\n          <v-col\n            cols=\"12\"\n            md=\"6\"\n          >\n            <v-text-field\n              v-model=\"optionsLocal.sku\"\n              outlined\n              dense\n              label=\"SKU\"\n              :readonly=\"mode === 'show'\"\n              hide-details=\"auto\"\n              :error-messages=\"errors.sku\"\n              :persistent-placeholder=\"mode === 'show'\"\n            ></v-text-field>\n          </v-col>\n          <v-col\n            cols=\"12\"\n          >\n            <v-text-field\n              v-model=\"optionsLocal.description\"\n              outlined\n              dense\n              label=\"Description\"\n              :readonly=\"mode === 'show'\"\n              hide-details=\"auto\"\n              :error-messages=\"errors.description\"\n              :persistent-placeholder=\"mode === 'show'\"\n            ></v-text-field>\n          </v-col>\n          <v-col\n            cols=\"4\"\n          >\n            <v-select\n              v-model=\"optionsLocal.raw_material_type\"\n              outlined\n              :items=\"rawTypes\"\n              item-value=\"value\"\n              item-text=\"label\"\n              label=\"Raw Material Type\"\n              dense\n              :readonly=\"mode === 'show'\"\n              hide-details=\"auto\"\n              :error-messages=\"errors.raw_material_type\"\n              :persistent-placeholder=\"mode === 'show'\"\n            ></v-select>\n          </v-col>\n        </v-row>\n      </v-card-text>\n\n      <v-card-text>\n        <v-btn\n          v-show=\"mode === 'create' || mode === 'update'\"\n          outlined\n          class=\"mt-3 mr-3\"\n          color=\"primary\"\n          @click=\"save\"\n        >\n          {{ buttonLabel }}\n        </v-btn>\n        <v-btn\n          outlined\n          class=\"mt-3\"\n          type=\"reset\"\n          @click.prevent=\"goBack\"\n        >\n          Back to List\n        </v-btn>\n      </v-card-text>\n    </v-form>\n  </v-card>\n</template>\n\n<script>\nimport { computed, ref, watch } from '@vue/composition-api'\nimport router from '@/router'\nimport store from '@/store'\nimport { CREATE_PRODUCT, UPDATE_PRODUCT } from '@/store/actions.type'\nimport { SET_ERROR } from '@/store/mutations.type'\n\nexport default {\n  props: {\n    informationData: {\n      type: Object,\n      default: () => ({\n        name: '',\n        product_number: '',\n        sku: '',\n        description: '',\n        in_stock: '',\n        items_per_box: '',\n        raw_material_type: '',\n      }),\n    },\n    mode: {\n      type: String,\n    },\n  },\n  setup(props) {\n    const errors = computed(() => store.getters.errors)\n    const optionsLocal = computed(() => props.informationData)\n    const showAlert = ref(false)\n    const buttonLabel = props.mode === 'create' ? 'Save' : 'Update'\n    const rawTypes = [\n      {\n        value: 'preform',\n        label: 'Preform',\n      },\n      {\n        value: 'bottle_cap',\n        label: 'Bottle Cap',\n      },\n      {\n        value: 'bottle_label',\n        label: 'Bottle Label',\n      },\n      {\n        value: 'blown_bottle',\n        label: 'Blown Bottle',\n      },\n    ]\n\n    const goBack = () => {\n      router.push('/products')\n    }\n\n    const resolveFormSuccess = () => {\n      showAlert.value = true\n      setTimeout(() => {\n        goBack()\n      }, 1500)\n    }\n\n    const save = () => {\n      if (props.mode === 'update') {\n        store.dispatch(UPDATE_PRODUCT, optionsLocal.value).then(data => {\n          if (data != null) {\n            resolveFormSuccess()\n          }\n        })\n      }\n\n      if (props.mode === 'create') {\n        optionsLocal.value.type = 'raw_material'\n\n        store.dispatch(CREATE_PRODUCT, optionsLocal.value).then(data => {\n          if (data != null) {\n            resolveFormSuccess()\n          }\n        })\n      }\n    }\n\n    return {\n      optionsLocal,\n      rawTypes,\n      goBack,\n      save,\n      showAlert,\n      errors,\n      buttonLabel,\n    }\n  },\n}\n</script>\n"]}]}