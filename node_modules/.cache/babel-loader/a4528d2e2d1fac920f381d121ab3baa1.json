{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js!/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/projects/enco-fe/src/views/pages/user-access-management/users/UserListTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/views/pages/user-access-management/users/UserListTable.vue","mtime":1661434407238},{"path":"/Users/mark/projects/enco-fe/babel.config.js","mtime":1655991784146},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1652172763063},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js","mtime":1650363919730}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL21hcmsvcHJvamVjdHMvZW5jby1mZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1kaUFjY291bnRFZGl0LCBtZGlEZWxldGVDaXJjbGUgfSBmcm9tICdAbWRpL2pzJzsKaW1wb3J0IHsgcmVmIH0gZnJvbSAnQHZ1ZS9jb21wb3NpdGlvbi1hcGknOwpleHBvcnQgZGVmYXVsdCB7CiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIHN0YXR1c0NvbG9yID0gewogICAgICBBY3RpdmU6ICdzdWNjZXNzJywKICAgICAgUGVuZGluZzogJ2luZm8nLAogICAgICBEZWxldGVkOiAnZXJyb3InLAogICAgICBEZWFjdGl2YXRlZDogJ3dhcm5pbmcnLAogICAgICBJbmFjdGl2ZTogJ2dyZXknCiAgICB9OwogICAgdmFyIHNlYXJjaCA9IHJlZigpOwogICAgcmV0dXJuIHsKICAgICAgYWxlcnQ6IGFsZXJ0LAogICAgICBpY29uczogewogICAgICAgIG1kaUFjY291bnRFZGl0OiBtZGlBY2NvdW50RWRpdCwKICAgICAgICBtZGlEZWxldGVDaXJjbGU6IG1kaURlbGV0ZUNpcmNsZQogICAgICB9LAogICAgICBzZWFyY2g6IHNlYXJjaCwKICAgICAgc3RhdHVzQ29sb3I6IHN0YXR1c0NvbG9yCiAgICB9OwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFsZXJ0OiB7CiAgICAgICAgbWVzc2FnZTogJycsCiAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgIHNob3c6IGZhbHNlCiAgICAgIH0sCiAgICAgIGRpYWxvZzogZmFsc2UsCiAgICAgIGRpYWxvZ0RlbGV0ZTogZmFsc2UsCiAgICAgIGhlYWRlcnM6IFt7CiAgICAgICAgdGV4dDogJ05hbWUnLAogICAgICAgIGFsaWduOiAnc3RhcnQnLAogICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgIHZhbHVlOiAnbmFtZScKICAgICAgfSwgewogICAgICAgIHRleHQ6ICdFbWFpbCcsCiAgICAgICAgdmFsdWU6ICdlbWFpbCcKICAgICAgfSwgewogICAgICAgIHRleHQ6ICdTdGF0dXMnLAogICAgICAgIHZhbHVlOiAnc3RhdHVzJywKICAgICAgICBhbGlnbjogJ2NlbnRlcicKICAgICAgfSwgewogICAgICAgIHRleHQ6ICdSb2xlJywKICAgICAgICB2YWx1ZTogJ3JvbGUnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAnQWN0aW9ucycsCiAgICAgICAgdmFsdWU6ICdhY3Rpb25zJywKICAgICAgICBzb3J0YWJsZTogZmFsc2UKICAgICAgfV0sCiAgICAgIGVkaXRlZEluZGV4OiAtMSwKICAgICAgZWRpdGVkSXRlbTogewogICAgICAgIG5hbWU6ICcnLAogICAgICAgIGVtYWlsOiAnJywKICAgICAgICBzdGF0dXM6ICcnLAogICAgICAgIGRhdGVfY3JlYXRlZDogJycsCiAgICAgICAgYWN0aW9uczogJycKICAgICAgfSwKICAgICAgZGVmYXVsdEl0ZW06IHsKICAgICAgICBuYW1lOiAnJywKICAgICAgICBlbWFpbDogJycsCiAgICAgICAgc3RhdHVzOiAnJywKICAgICAgICBkYXRlX2NyZWF0ZWQ6ICcnLAogICAgICAgIGFjdGlvbnM6ICcnCiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgZm9ybVRpdGxlOiBmdW5jdGlvbiBmb3JtVGl0bGUoKSB7CiAgICAgIHJldHVybiB0aGlzLmVkaXRlZEluZGV4ID09PSAtMSA/ICdOZXcgVXNlcicgOiAnRWRpdCBVc2VyJzsKICAgIH0sCiAgICB1c2VyczogZnVuY3Rpb24gdXNlcnMoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5Vc2VyQWNjZXNzTWFuYWdlbWVudFN0b3JlLnVzZXJzOwogICAgfSwKICAgIGxvYWRpbmc6IGZ1bmN0aW9uIGxvYWRpbmcoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5Vc2VyQWNjZXNzTWFuYWdlbWVudFN0b3JlLmxvYWRpbmc7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgZGlhbG9nOiBmdW5jdGlvbiBkaWFsb2codmFsKSB7CiAgICAgIHJldHVybiB2YWwgfHwgdGhpcy5jbG9zZSgpOwogICAgfSwKICAgIGRpYWxvZ0RlbGV0ZTogZnVuY3Rpb24gZGlhbG9nRGVsZXRlKHZhbCkgewogICAgICByZXR1cm4gdmFsIHx8IHRoaXMuY2xvc2VEZWxldGUoKTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnVXNlckFjY2Vzc01hbmFnZW1lbnRTdG9yZS9nZXRVc2VycycpOwogICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ1VzZXJBY2Nlc3NNYW5hZ2VtZW50U3RvcmUvcmVtb3ZlRXJyb3JzJyk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBjbG9zZVVzZXJDcmVhdGU6IGZ1bmN0aW9uIGNsb3NlVXNlckNyZWF0ZSh2YWx1ZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5kaWFsb2cgPSBmYWxzZTsKICAgICAgdGhpcy5hbGVydC5tZXNzYWdlID0gdmFsdWUuYWxlcnRNZXNzYWdlOwogICAgICB0aGlzLmFsZXJ0LnR5cGUgPSB2YWx1ZS5hbGVydFR5cGU7CiAgICAgIHRoaXMuYWxlcnQuc2hvdyA9IHRydWU7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLmFsZXJ0LnNob3cgPSBmYWxzZTsKICAgICAgfSwgMTUwMCk7CiAgICB9LAogICAgZWRpdEl0ZW06IGZ1bmN0aW9uIGVkaXRJdGVtKGl0ZW0pIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goInVzZXJzLyIuY29uY2F0KGl0ZW0uaWQpKTsKICAgIH0sCiAgICBkZWxldGVJdGVtOiBmdW5jdGlvbiBkZWxldGVJdGVtKGl0ZW0pIHsKICAgICAgdGhpcy5lZGl0ZWRJbmRleCA9IHRoaXMudXNlcnMuaW5kZXhPZihpdGVtKTsKICAgICAgdGhpcy5lZGl0ZWRJdGVtID0gX29iamVjdFNwcmVhZCh7fSwgaXRlbSk7CiAgICAgIHRoaXMuZGlhbG9nRGVsZXRlID0gdHJ1ZTsKICAgIH0sCiAgICBkZWxldGVJdGVtQ29uZmlybTogZnVuY3Rpb24gZGVsZXRlSXRlbUNvbmZpcm0oKSB7CiAgICAgIHRoaXMudXNlcnMuc3BsaWNlKHRoaXMuZWRpdGVkSW5kZXgsIDEpOwogICAgICB0aGlzLmNsb3NlRGVsZXRlKCk7CiAgICB9LAogICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuZGlhbG9nID0gZmFsc2U7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIuZWRpdGVkSXRlbSA9IF9vYmplY3RTcHJlYWQoe30sIF90aGlzMi5kZWZhdWx0SXRlbSk7CiAgICAgICAgX3RoaXMyLmVkaXRlZEluZGV4ID0gLTE7CiAgICAgIH0pOwogICAgfSwKICAgIGNsb3NlRGVsZXRlOiBmdW5jdGlvbiBjbG9zZURlbGV0ZSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLmRpYWxvZ0RlbGV0ZSA9IGZhbHNlOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMzLmVkaXRlZEl0ZW0gPSBfb2JqZWN0U3ByZWFkKHt9LCBfdGhpczMuZGVmYXVsdEl0ZW0pOwogICAgICAgIF90aGlzMy5lZGl0ZWRJbmRleCA9IC0xOwogICAgICB9KTsKICAgIH0sCiAgICBzYXZlOiBmdW5jdGlvbiBzYXZlKCkgewogICAgICBpZiAodGhpcy5lZGl0ZWRJbmRleCA+IC0xKSB7CiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLnVzZXJzW3RoaXMuZWRpdGVkSW5kZXhdLCB0aGlzLmVkaXRlZEl0ZW0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMudXNlcnMucHVzaCh0aGlzLmVkaXRlZEl0ZW0pOwogICAgICB9CgogICAgICB0aGlzLmNsb3NlKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiIA;AACA;AAEA;EACAA,KADA,mBACA;IACA;MACAC,iBADA;MAEAC,eAFA;MAGAC,gBAHA;MAIAC,sBAJA;MAKAC;IALA;IAQA;IAEA;MACAC,YADA;MAEAC;QACAC,8BADA;QAEAC;MAFA,CAFA;MAMAC,cANA;MAOAC;IAPA;EASA,CArBA;EAsBAC;IAAA;MACAN;QACAO,WADA;QAEAC,eAFA;QAGAC;MAHA,CADA;MAMAC,aANA;MAOAC,mBAPA;MAQAC,UACA;QACAC,YADA;QAEAC,cAFA;QAGAC,cAHA;QAIAC;MAJA,CADA,EAOA;QAAAH;QAAAG;MAAA,CAPA,EAQA;QAAAH;QAAAG;QAAAF;MAAA,CARA,EASA;QAAAD;QAAAG;MAAA,CATA,EAUA;QAAAH;QAAAG;QAAAD;MAAA,CAVA,CARA;MAoBAE,eApBA;MAqBAC;QACAC,QADA;QAEAC,SAFA;QAGAC,UAHA;QAIAC,gBAJA;QAKAC;MALA,CArBA;MA4BAC;QACAL,QADA;QAEAC,SAFA;QAGAC,UAHA;QAIAC,gBAJA;QAKAC;MALA;IA5BA;EAAA,CAtBA;EA2DAE;IACAC,SADA,uBACA;MACA;IACA,CAHA;IAIAC,KAJA,mBAIA;MACA;IACA,CANA;IAOAC,OAPA,qBAOA;MACA;IACA;EATA,CA3DA;EAuEAC;IACAnB,MADA,kBACAoB,GADA,EACA;MACA;IACA,CAHA;IAIAnB,YAJA,wBAIAmB,GAJA,EAIA;MACA;IACA;EANA,CAvEA;EA+EAC,OA/EA,qBA+EA;IACA;IACA;EACA,CAlFA;EAmFAC;IACAC,eADA,2BACAjB,KADA,EACA;MAAA;;MACA;MACA;MACA;MACA;MAEAkB;QAAA;MAAA;IACA,CARA;IAUAC,QAVA,oBAUAC,IAVA,EAUA;MACA;IACA,CAZA;IAcAC,UAdA,sBAcAD,IAdA,EAcA;MACA;MACA;MACA;IACA,CAlBA;IAoBAE,iBApBA,+BAoBA;MACA;MACA;IACA,CAvBA;IAyBAC,KAzBA,mBAyBA;MAAA;;MACA;MACA;QACA;QACA;MACA,CAHA;IAIA,CA/BA;IAiCAC,WAjCA,yBAiCA;MAAA;;MACA;MACA;QACA;QACA;MACA,CAHA;IAIA,CAvCA;IAyCAC,IAzCA,kBAyCA;MACA;QACAC;MACA,CAFA,MAEA;QACA;MACA;;MACA;IACA;EAhDA;AAnFA","names":["setup","Active","Pending","Deleted","Deactivated","Inactive","alert","icons","mdiAccountEdit","mdiDeleteCircle","search","statusColor","data","message","type","show","dialog","dialogDelete","headers","text","align","sortable","value","editedIndex","editedItem","name","email","status","date_created","actions","defaultItem","computed","formTitle","users","loading","watch","val","created","methods","closeUserCreate","setTimeout","editItem","item","deleteItem","deleteItemConfirm","close","closeDelete","save","Object"],"sourceRoot":"src/views/pages/user-access-management/users","sources":["UserListTable.vue"],"sourcesContent":["<template>\n  <div>\n    <v-alert\n      :type=\"alert.type\"\n      dismissible\n      :value=\"alert.show\"\n    >\n      {{ alert.message }}\n    </v-alert>\n    <v-data-table\n      :headers=\"headers\"\n      :items=\"users\"\n      :search=\"search\"\n      class=\"elevation-1 font-weight-light\"\n      :loading=\"loading\"\n      sort-by=\"name\"\n      fixed-header\n    >\n      <!-- status -->\n      <template #[`item.status`]=\"{item}\">\n        <div class=\"d-flex justify-center\">\n          <v-chip\n            small\n            :class=\"`${statusColor[item.status]}--text`\"\n            class=\"v-chip-light-bg text-center\"\n          >\n            {{ item.status.toUpperCase() }}\n          </v-chip>\n        </div>\n      </template>\n      <template v-slot:top>\n        <v-toolbar\n          flat\n        >\n          <v-col\n            cols=\"12\"\n            offset-md=\"12\"\n            md=\"2\"\n          >\n            <v-toolbar-title>Users</v-toolbar-title>\n          </v-col>\n          <v-divider\n            class=\"mx-2\"\n            inset\n            vertical\n          ></v-divider>\n          <v-card-text>\n            <v-row>\n              <v-col\n                cols=\"8\"\n                offset-md=\"8\"\n                md=\"4\"\n              >\n                <v-text-field\n                  v-model=\"search\"\n                  :append-icon=\"icons.mdiMagnify\"\n                  label=\"Search\"\n                  single-line\n                  hide-details\n                ></v-text-field>\n              </v-col>\n            </v-row>\n          </v-card-text>\n          <router-link :to=\"{ name: 'user-create' }\">\n            <v-btn\n              color=\"primary\"\n              dark\n              class=\"mb-2\"\n            >\n              Create User\n            </v-btn>\n          </router-link>\n          <v-dialog\n            v-model=\"dialogDelete\"\n            max-width=\"500px\"\n          >\n            <v-card>\n              <v-card-title>\n                Are you sure you want to delete this item?\n              </v-card-title>\n              <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn\n                  color=\"error\"\n                  text\n                  @click=\"closeDelete\"\n                >\n                  Cancel\n                </v-btn>\n                <v-btn\n                  color=\"success\"\n                  text\n                  @click=\"deleteItemConfirm\"\n                >\n                  OK\n                </v-btn>\n                <v-spacer></v-spacer>\n              </v-card-actions>\n            </v-card>\n          </v-dialog>\n        </v-toolbar>\n      </template>\n      <template v-slot:item.actions=\"{ item }\">\n        <v-icon\n          medium\n          class=\"mr-2\"\n          @click=\"editItem(item)\"\n        >\n          {{ icons.mdiAccountEdit }}\n        </v-icon>\n        <!--      <v-icon-->\n        <!--        small-->\n        <!--        @click=\"deleteItem(item)\"-->\n        <!--      >-->\n        <!--        {{ icons.mdiDeleteCircle }}-->\n        <!--      </v-icon>-->\n      </template>\n      <template v-slot:no-data>\n        <v-btn\n          color=\"primary\"\n        >\n          Refresh\n        </v-btn>\n      </template>\n    </v-data-table>\n  </div>\n</template>\n\n<script>\nimport { mdiAccountEdit, mdiDeleteCircle } from '@mdi/js'\nimport { ref } from '@vue/composition-api'\n\nexport default {\n  setup() {\n    const statusColor = {\n      Active: 'success',\n      Pending: 'info',\n      Deleted: 'error',\n      Deactivated: 'warning',\n      Inactive: 'grey',\n    }\n\n    const search = ref()\n\n    return {\n      alert,\n      icons: {\n        mdiAccountEdit,\n        mdiDeleteCircle,\n      },\n      search,\n      statusColor,\n    }\n  },\n  data: () => ({\n    alert: {\n      message: '',\n      type: 'success',\n      show: false,\n    },\n    dialog: false,\n    dialogDelete: false,\n    headers: [\n      {\n        text: 'Name',\n        align: 'start',\n        sortable: true,\n        value: 'name',\n      },\n      { text: 'Email', value: 'email' },\n      { text: 'Status', value: 'status', align: 'center' },\n      { text: 'Role', value: 'role' },\n      { text: 'Actions', value: 'actions', sortable: false },\n    ],\n    editedIndex: -1,\n    editedItem: {\n      name: '',\n      email: '',\n      status: '',\n      date_created: '',\n      actions: '',\n    },\n    defaultItem: {\n      name: '',\n      email: '',\n      status: '',\n      date_created: '',\n      actions: '',\n    },\n  }),\n\n  computed: {\n    formTitle() {\n      return this.editedIndex === -1 ? 'New User' : 'Edit User'\n    },\n    users() {\n      return this.$store.state.UserAccessManagementStore.users\n    },\n    loading() {\n      return this.$store.state.UserAccessManagementStore.loading\n    },\n  },\n\n  watch: {\n    dialog(val) {\n      return val || this.close()\n    },\n    dialogDelete(val) {\n      return val || this.closeDelete()\n    },\n  },\n  created() {\n    this.$store.dispatch('UserAccessManagementStore/getUsers')\n    this.$store.dispatch('UserAccessManagementStore/removeErrors')\n  },\n  methods: {\n    closeUserCreate(value) {\n      this.dialog = false\n      this.alert.message = value.alertMessage\n      this.alert.type = value.alertType\n      this.alert.show = true\n\n      setTimeout(() => { this.alert.show = false }, 1500)\n    },\n\n    editItem(item) {\n      this.$router.push(`users/${item.id}`)\n    },\n\n    deleteItem(item) {\n      this.editedIndex = this.users.indexOf(item)\n      this.editedItem = { ...item }\n      this.dialogDelete = true\n    },\n\n    deleteItemConfirm() {\n      this.users.splice(this.editedIndex, 1)\n      this.closeDelete()\n    },\n\n    close() {\n      this.dialog = false\n      this.$nextTick(() => {\n        this.editedItem = { ...this.defaultItem }\n        this.editedIndex = -1\n      })\n    },\n\n    closeDelete() {\n      this.dialogDelete = false\n      this.$nextTick(() => {\n        this.editedItem = { ...this.defaultItem }\n        this.editedIndex = -1\n      })\n    },\n\n    save() {\n      if (this.editedIndex > -1) {\n        Object.assign(this.users[this.editedIndex], this.editedItem)\n      } else {\n        this.users.push(this.editedItem)\n      }\n      this.close()\n    },\n  },\n}\n</script>\n"]}]}