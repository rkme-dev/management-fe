{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js!/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/projects/enco-fe/src/views/pages/logistics/trip-tickets/ListTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/views/pages/logistics/trip-tickets/ListTable.vue","mtime":1665297406712},{"path":"/Users/mark/projects/enco-fe/babel.config.js","mtime":1655991784146},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1665368576185},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1665368576151},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1665368576185},{"path":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js","mtime":1665368593779}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWRpQWNjb3VudEVkaXQsIG1kaURlbGV0ZUNpcmNsZSB9IGZyb20gJ0BtZGkvanMnOwppbXBvcnQgeyByZWYsIGNvbXB1dGVkLCBvbk1vdW50ZWQgfSBmcm9tICdAdnVlL2NvbXBvc2l0aW9uLWFwaSc7CmltcG9ydCBzdG9yZSBmcm9tICdAL3N0b3JlJzsKaW1wb3J0IHsgZGF0ZUZvcm1hdDEgfSBmcm9tICdAL3V0aWxzL3RpbWUnOwppbXBvcnQgVHJpcFRpY2tldEZvcm0gZnJvbSAnLi9UcmlwVGlja2V0Rm9ybS52dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0xpc3RUYWJsZScsCiAgY29tcG9uZW50czogewogICAgVHJpcFRpY2tldEZvcm06IFRyaXBUaWNrZXRGb3JtCiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICB2YXIgc3RhdHVzQ29sb3IgPSB7CiAgICAgICdJbiBUcmFuc2l0JzogJ3ByaW1hcnknLAogICAgICAnRm9yIFRyYW5zaXQnOiAnaW5mbycsCiAgICAgIERlbGl2ZXJlZDogJ3N1Y2Nlc3MnCiAgICB9OwogICAgdmFyIG1vZGVEYXRhID0gcmVmKCdDcmVhdGUnKTsKICAgIHZhciB0cmlwVGlja2V0RGlhbG9nID0gcmVmKGZhbHNlKTsKICAgIHZhciBzZWFyY2ggPSByZWYoJycpOwogICAgdmFyIGhlYWRlcnMgPSBbewogICAgICB0ZXh0OiAnRGF0ZScsCiAgICAgIGFsaWduOiAnc3RhcnQnLAogICAgICBzb3J0YWJsZTogZmFsc2UsCiAgICAgIHZhbHVlOiAnZGF0ZV9wb3N0ZWQnCiAgICB9LCB7CiAgICAgIHRleHQ6ICdUcmlwIFRpY2tldCBOdW1iZXInLAogICAgICB2YWx1ZTogJ3RyaXBfdGlja2V0X251bWJlcicKICAgIH0sIHsKICAgICAgdGV4dDogJ0RvY3VtZW50JywKICAgICAgdmFsdWU6ICdkb2N1bWVudC5kb2N1bWVudF9uYW1lJwogICAgfSwgewogICAgICB0ZXh0OiAnUm91dGUnLAogICAgICB2YWx1ZTogJ2FyZWEnCiAgICB9LCB7CiAgICAgIHRleHQ6ICdEcml2ZXInLAogICAgICB2YWx1ZTogJ2RyaXZlcicKICAgIH0sIHsKICAgICAgdGV4dDogJ1RydWNrJywKICAgICAgdmFsdWU6ICd0cnVjaycKICAgIH0sIHsKICAgICAgdGV4dDogJ1BsYXRlICMnLAogICAgICB2YWx1ZTogJ3BsYXRlX251bWJlcicKICAgIH0sIHsKICAgICAgdGV4dDogJ1N0YXR1cycsCiAgICAgIHZhbHVlOiAnc3RhdHVzJwogICAgfSwgewogICAgICB0ZXh0OiAnQWN0aW9ucycsCiAgICAgIHZhbHVlOiAnYWN0aW9ucycsCiAgICAgIHNvcnRhYmxlOiBmYWxzZQogICAgfV07CiAgICB2YXIgZGVmYXVsdEl0ZW0gPSByZWYoewogICAgICBuYW1lOiAnJywKICAgICAgY29udGFjdF9wZXJzb246ICcnLAogICAgICBlbWFpbDogJycsCiAgICAgIHRpbjogJycsCiAgICAgIGNvbnRhY3Rfbm86ICcnLAogICAgICBkZWxpdmVyeV9hZGRyZXNzOiAnJwogICAgfSk7CiAgICB2YXIgdHJpcFRpY2tldERhdGEgPSByZWYoewogICAgICBkYXRlTW9kYWw6IGZhbHNlLAogICAgICBkYXRlX3Bvc3RlZDogbnVsbCwKICAgICAgY29sbGVjdGlvbl9vcmRlcl9udW1iZXI6IG51bGwsCiAgICAgIGRvY3VtZW50X2lkOiBudWxsLAogICAgICBhZGRyZXNzOiBudWxsLAogICAgICByZW1hcmtzOiBudWxsLAogICAgICBhcmVhOiBudWxsCiAgICB9KTsKICAgIHZhciB0cmlwVGlja2V0RGF0YXMgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBzdG9yZS5zdGF0ZS5UcmlwVGlja2V0U3RvcmUubGlzdDsKICAgIH0pOwogICAgdmFyIGVycm9ycyA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHN0b3JlLmdldHRlcnMuZXJyb3JzOwogICAgfSk7CiAgICB2YXIgbG9hZGluZyA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHN0b3JlLnN0YXRlLlRyaXBUaWNrZXRTdG9yZS5sb2FkaW5nOwogICAgfSk7CgogICAgdmFyIGluaXRpYWxpemUgPSBmdW5jdGlvbiBpbml0aWFsaXplKCkgewogICAgICB0cmlwVGlja2V0RGlhbG9nLnZhbHVlID0gZmFsc2U7CiAgICAgIHN0b3JlLmRpc3BhdGNoKCdUcmlwVGlja2V0U3RvcmUvbGlzdCcpOwogICAgfTsKCiAgICB2YXIgY3JlYXRlQ29sbGVjdGlvbiA9IGZ1bmN0aW9uIGNyZWF0ZUNvbGxlY3Rpb24oKSB7CiAgICAgIG1vZGVEYXRhLnZhbHVlID0gJ0NyZWF0ZSc7CiAgICAgIHRyaXBUaWNrZXREaWFsb2cudmFsdWUgPSB0cnVlOwogICAgICB0cmlwVGlja2V0RGF0YS52YWx1ZSA9IHsKICAgICAgICBkYXRlTW9kYWw6IGZhbHNlLAogICAgICAgIGN1c3RvbWVyX25hbWU6IG51bGwsCiAgICAgICAgY3VzdG9tZXJfaWQ6IG51bGwsCiAgICAgICAgZGF0ZV9wb3N0ZWQ6IG51bGwsCiAgICAgICAgY29sbGVjdGlvbl9vcmRlcl9udW1iZXI6IG51bGwsCiAgICAgICAgZG9jdW1lbnRfaWQ6IG51bGwsCiAgICAgICAgYWRkcmVzczogbnVsbCwKICAgICAgICByZW1hcmtzOiBudWxsLAogICAgICAgIGFyZWE6IG51bGwsCiAgICAgICAgc2FsZXNtYW5faWRfMTogbnVsbCwKICAgICAgICBzYWxlc21hbl9pZF8yOiBudWxsLAogICAgICAgIHRlcm1faWQ6IG51bGwsCiAgICAgICAgdmF0X2lkOiBudWxsCiAgICAgIH07CiAgICB9OwoKICAgIHZhciBlZGl0SXRlbSA9IGZ1bmN0aW9uIGVkaXRJdGVtKGl0ZW0pIHsKICAgICAgdHJpcFRpY2tldERhdGEudmFsdWUgPSBpdGVtOwogICAgICBtb2RlRGF0YS52YWx1ZSA9ICdFZGl0JzsKICAgICAgdHJpcFRpY2tldERpYWxvZy52YWx1ZSA9IHRydWU7CiAgICB9OwoKICAgIG9uTW91bnRlZChmdW5jdGlvbiAoKSB7CiAgICAgIGluaXRpYWxpemUoKTsKICAgIH0pOwogICAgcmV0dXJuIHsKICAgICAgc3RhdHVzQ29sb3I6IHN0YXR1c0NvbG9yLAogICAgICBlZGl0SXRlbTogZWRpdEl0ZW0sCiAgICAgIHRyaXBUaWNrZXREYXRhOiB0cmlwVGlja2V0RGF0YSwKICAgICAgY3JlYXRlQ29sbGVjdGlvbjogY3JlYXRlQ29sbGVjdGlvbiwKICAgICAgbW9kZURhdGE6IG1vZGVEYXRhLAogICAgICB0cmlwVGlja2V0RGlhbG9nOiB0cmlwVGlja2V0RGlhbG9nLAogICAgICBtZGlBY2NvdW50RWRpdDogbWRpQWNjb3VudEVkaXQsCiAgICAgIG1kaURlbGV0ZUNpcmNsZTogbWRpRGVsZXRlQ2lyY2xlLAogICAgICBkZWZhdWx0SXRlbTogZGVmYXVsdEl0ZW0sCiAgICAgIGhlYWRlcnM6IGhlYWRlcnMsCiAgICAgIHNlYXJjaDogc2VhcmNoLAogICAgICB0cmlwVGlja2V0RGF0YXM6IHRyaXBUaWNrZXREYXRhcywKICAgICAgZXJyb3JzOiBlcnJvcnMsCiAgICAgIGluaXRpYWxpemU6IGluaXRpYWxpemUsCiAgICAgIGxvYWRpbmc6IGxvYWRpbmcsCiAgICAgIGRhdGVGb3JtYXQxOiBkYXRlRm9ybWF0MSwKICAgICAgaWNvbnM6IHsKICAgICAgICBtZGlBY2NvdW50RWRpdDogbWRpQWNjb3VudEVkaXQsCiAgICAgICAgbWRpRGVsZXRlQ2lyY2xlOiBtZGlEZWxldGVDaXJjbGUKICAgICAgfQogICAgfTsKICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4GA;AACA,SACAA,GADA,EACAC,QADA,EACAC,SADA,QAEA,sBAFA;AAGA;AACA;AACA;AAEA;EACAC,iBADA;EAEAC;IACAC;EADA,CAFA;EAKAC,KALA,mBAKA;IACA;MACA,uBADA;MAEA,qBAFA;MAGAC;IAHA;IAMA;IACA;IACA;IACA,eACA;MACAC,YADA;MAEAC,cAFA;MAGAC,eAHA;MAIAC;IAJA,CADA,EAOA;MAAAH;MAAAG;IAAA,CAPA,EAQA;MAAAH;MAAAG;IAAA,CARA,EASA;MAAAH;MAAAG;IAAA,CATA,EAUA;MAAAH;MAAAG;IAAA,CAVA,EAWA;MAAAH;MAAAG;IAAA,CAXA,EAYA;MAAAH;MAAAG;IAAA,CAZA,EAaA;MAAAH;MAAAG;IAAA,CAbA,EAcA;MAAAH;MAAAG;MAAAD;IAAA,CAdA;IAiBA;MACAP,QADA;MAEAS,kBAFA;MAGAC,SAHA;MAIAC,OAJA;MAKAC,cALA;MAMAC;IANA;IAQA;MACAC,gBADA;MAEAC,iBAFA;MAGAC,6BAHA;MAIAC,iBAJA;MAKAC,aALA;MAMAC,aANA;MAOAC;IAPA;IAUA;MAAA;IAAA;IACA;MAAA;IAAA;IACA;MAAA;IAAA;;IAEA;MACAC;MACAC;IACA,CAHA;;IAKA;MACAC;MACAF;MACAG;QACAV,gBADA;QAEAW,mBAFA;QAGAC,iBAHA;QAIAX,iBAJA;QAKAC,6BALA;QAMAC,iBANA;QAOAC,aAPA;QAQAC,aARA;QASAC,UATA;QAUAO,mBAVA;QAWAC,mBAXA;QAYAC,aAZA;QAaAC;MAbA;IAeA,CAlBA;;IAoBA;MACAN;MACAD;MACAF;IACA,CAJA;;IAMAtB;MACAgC;IACA,CAFA;IAIA;MACAC,wBADA;MAEAC,kBAFA;MAGAT,8BAHA;MAIAU,kCAJA;MAKAX,kBALA;MAMAF,kCANA;MAOAc,8BAPA;MAQAC,gCARA;MASAC,wBATA;MAUAC,gBAVA;MAWAC,cAXA;MAYAC,gCAZA;MAaAC,cAbA;MAcAV,sBAdA;MAeAW,gBAfA;MAgBAC,wBAhBA;MAiBAC;QACAT,8BADA;QAEAC;MAFA;IAjBA;EAsBA;AA/GA","names":["ref","computed","onMounted","name","components","TripTicketForm","setup","Delivered","text","align","sortable","value","contact_person","email","tin","contact_no","delivery_address","dateModal","date_posted","collection_order_number","document_id","address","remarks","area","tripTicketDialog","store","modeData","tripTicketData","customer_name","customer_id","salesman_id_1","salesman_id_2","term_id","vat_id","initialize","statusColor","editItem","createCollection","mdiAccountEdit","mdiDeleteCircle","defaultItem","headers","search","tripTicketDatas","errors","loading","dateFormat1","icons"],"sourceRoot":"src/views/pages/logistics/trip-tickets","sources":["ListTable.vue"],"sourcesContent":["<template>\n  <div>\n    <v-data-table\n      :headers=\"headers\"\n      :items=\"tripTicketDatas\"\n      sort-by=\"name\"\n      class=\"elevation-1\"\n      :search=\"search\"\n      :loading=\"loading\"\n    >\n      <template #item.created_at=\"{ item }\">\n        {{ dateFormat1(item.created_at) }}\n      </template>\n      <template #item.amount=\"{ item }\">\n        <v-currency-field\n          v-model=\"item.amount\"\n          prefix=\"PHP\"\n          class=\"text-green\"\n          disabled\n        >\n        </v-currency-field>\n      </template>\n      <template v-slot:top>\n        <v-toolbar\n          color=\"teal\"\n          outlined\n        >\n          <v-toolbar-title>Trip Tickets</v-toolbar-title>\n          <v-divider\n            class=\"mx-4\"\n            inset\n            vertical\n          ></v-divider>\n          <v-spacer></v-spacer>\n          <v-text-field\n            v-model=\"search\"\n            append-icon=\"mdi-magnify\"\n            label=\"Search\"\n            single-line\n            hide-details\n            class=\"mr-4\"\n          ></v-text-field>\n          <v-btn\n            color=\"primary\"\n            dark\n            class=\"mb-2\"\n            @click=\"createCollection\"\n          >\n            Create Trip Ticket\n          </v-btn>\n          <v-dialog\n            v-model=\"tripTicketDialog\"\n            width=\"900px\"\n            fullscreen\n            max-width=\"900px\"\n            max-height=\"900px\"\n            height=\"500px\"\n            transition=\"dialog-bottom-transition\"\n          >\n            <trip-ticket-form\n              :mode=\"modeData\"\n              :data=\"tripTicketData\"\n              @submit=\"initialize\"\n            >\n            </trip-ticket-form>\n          </v-dialog>\n        </v-toolbar>\n      </template>\n      <template #[`item.status`]=\"{item}\">\n        <div class=\"d-flex justify-center\">\n          <v-chip\n            :class=\"`${statusColor[item.status]}--text`\"\n            class=\"v-chip-light-bg text-center\"\n          >\n            {{ item.status }}\n          </v-chip>\n        </div>\n      </template>\n\n      <template v-slot:item.actions=\"{ item }\">\n        <v-icon\n          medium\n          class=\"mr-2\"\n          @click=\"editItem(item)\"\n        >\n          {{ icons.mdiAccountEdit }}\n        </v-icon>\n        <v-icon\n          v-if=\"item.is_active === 'Active'\"\n          small\n          @click=\"deleteItem(item)\"\n        >\n          {{ icons.mdiDeleteCircle }}\n        </v-icon>\n      </template>\n      <template v-slot:no-data>\n        <v-btn\n          color=\"primary\"\n          @click=\"initialize\"\n        >\n          Reset\n        </v-btn>\n      </template>\n    </v-data-table>\n  </div>\n</template>\n\n<script>\nimport { mdiAccountEdit, mdiDeleteCircle } from '@mdi/js'\nimport {\n  ref, computed, onMounted,\n} from '@vue/composition-api'\nimport store from '@/store'\nimport { dateFormat1 } from '@/utils/time'\nimport TripTicketForm from './TripTicketForm.vue'\n\nexport default {\n  name: 'ListTable',\n  components: {\n    TripTicketForm,\n  },\n  setup() {\n    const statusColor = {\n      'In Transit': 'primary',\n      'For Transit': 'info',\n      Delivered: 'success',\n    }\n\n    const modeData = ref('Create')\n    const tripTicketDialog = ref(false)\n    const search = ref('')\n    const headers = [\n      {\n        text: 'Date',\n        align: 'start',\n        sortable: false,\n        value: 'date_posted',\n      },\n      { text: 'Trip Ticket Number', value: 'trip_ticket_number' },\n      { text: 'Document', value: 'document.document_name' },\n      { text: 'Route', value: 'area' },\n      { text: 'Driver', value: 'driver' },\n      { text: 'Truck', value: 'truck' },\n      { text: 'Plate #', value: 'plate_number' },\n      { text: 'Status', value: 'status' },\n      { text: 'Actions', value: 'actions', sortable: false },\n    ]\n\n    const defaultItem = ref({\n      name: '',\n      contact_person: '',\n      email: '',\n      tin: '',\n      contact_no: '',\n      delivery_address: '',\n    })\n    const tripTicketData = ref({\n      dateModal: false,\n      date_posted: null,\n      collection_order_number: null,\n      document_id: null,\n      address: null,\n      remarks: null,\n      area: null,\n    })\n\n    const tripTicketDatas = computed(() => store.state.TripTicketStore.list)\n    const errors = computed(() => store.getters.errors)\n    const loading = computed(() => store.state.TripTicketStore.loading)\n\n    const initialize = () => {\n      tripTicketDialog.value = false\n      store.dispatch('TripTicketStore/list')\n    }\n\n    const createCollection = () => {\n      modeData.value = 'Create'\n      tripTicketDialog.value = true\n      tripTicketData.value = {\n        dateModal: false,\n        customer_name: null,\n        customer_id: null,\n        date_posted: null,\n        collection_order_number: null,\n        document_id: null,\n        address: null,\n        remarks: null,\n        area: null,\n        salesman_id_1: null,\n        salesman_id_2: null,\n        term_id: null,\n        vat_id: null,\n      }\n    }\n\n    const editItem = item => {\n      tripTicketData.value = item\n      modeData.value = 'Edit'\n      tripTicketDialog.value = true\n    }\n\n    onMounted(() => {\n      initialize()\n    })\n\n    return {\n      statusColor,\n      editItem,\n      tripTicketData,\n      createCollection,\n      modeData,\n      tripTicketDialog,\n      mdiAccountEdit,\n      mdiDeleteCircle,\n      defaultItem,\n      headers,\n      search,\n      tripTicketDatas,\n      errors,\n      initialize,\n      loading,\n      dateFormat1,\n      icons: {\n        mdiAccountEdit,\n        mdiDeleteCircle,\n      },\n    }\n  },\n}\n</script>\n<style>\n.text-green input {\n  color: chartreuse !important;\n}\n\n</style>\n"]}]}