{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/thread-loader/dist/cjs.js!/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js!/Users/mark/projects/enco-fe/src/store/UserAccessManagementStore.js","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/store/UserAccessManagementStore.js","mtime":1655973014238},{"path":"/Users/mark/projects/enco-fe/babel.config.js","mtime":1654585219618},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/thread-loader/dist/cjs.js","mtime":1650363913040},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1652172763063}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgVXNlckFjY2Vzc01hbmFnZW1lbnRTZXJ2aWNlIGZyb20gJ0Avc2VydmljZS9Vc2VyQWNjZXNzTWFuYWdlbWVudFNlcnZpY2UnOwp2YXIgdXNlckFjY2Vzc01hbmFnZW1lbnRTZXJ2aWNlID0gbmV3IFVzZXJBY2Nlc3NNYW5hZ2VtZW50U2VydmljZSgpOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L3ByZWZlci1kZWZhdWx0LWV4cG9ydAoKZXhwb3J0IHZhciBVc2VyQWNjZXNzTWFuYWdlbWVudFN0b3JlID0gewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IHsKICAgIGFiaWxpdGllczogW10sCiAgICByb2xlczogW10sCiAgICBtb2R1bGVzOiBbXQogIH0sCiAgYWN0aW9uczogewogICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNoYWRvdwogICAgY3JlYXRlQWJpbGl0eTogZnVuY3Rpb24gY3JlYXRlQWJpbGl0eShfcmVmLCBhYmlsaXR5KSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgcmV0dXJuIHVzZXJBY2Nlc3NNYW5hZ2VtZW50U2VydmljZS5jcmVhdGVBYmlsaXR5KGFiaWxpdHkpLnRoZW4oIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zaGFkb3cKICAgICAgZnVuY3Rpb24gKGFiaWxpdHkpIHsKICAgICAgICBjb21taXQoJ2FkZEFiaWxpdHlTdWNjZXNzJywgYWJpbGl0eS5kYXRhKTsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGFiaWxpdHkpOwogICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnMKICAgIGRlbGV0ZUFiaWxpdHk6IGZ1bmN0aW9uIGRlbGV0ZUFiaWxpdHkoX3JlZjIsIGFiaWxpdHkpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgcmV0dXJuIHVzZXJBY2Nlc3NNYW5hZ2VtZW50U2VydmljZS5kZWxldGVBYmlsaXR5KGFiaWxpdHkpLnRoZW4oKTsKICAgIH0sCiAgICBnZXRBYmlsaXRpZXM6IGZ1bmN0aW9uIGdldEFiaWxpdGllcyhfcmVmMykgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogICAgICByZXR1cm4gdXNlckFjY2Vzc01hbmFnZW1lbnRTZXJ2aWNlLmdldEFiaWxpdGllcyhmYWxzZSkudGhlbihmdW5jdGlvbiAoYWJpbGl0aWVzKSB7CiAgICAgICAgY29tbWl0KCdmZXRjaEFiaWxpdGllc1N1Y2Nlc3MnLCBhYmlsaXRpZXMuZGF0YSk7CiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShhYmlsaXRpZXMpOwogICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICB1cGRhdGVBYmlsaXR5OiBmdW5jdGlvbiB1cGRhdGVBYmlsaXR5KF9yZWY0LCBhYmlsaXR5KSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmNC5jb21taXQ7CiAgICAgIHJldHVybiB1c2VyQWNjZXNzTWFuYWdlbWVudFNlcnZpY2UudXBkYXRlQWJpbGl0eShhYmlsaXR5KS50aGVuKCAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2hhZG93CiAgICAgIGZ1bmN0aW9uIChhYmlsaXR5KSB7CiAgICAgICAgY29tbWl0KCd1cGRhdGVBYmlsaXR5U3VjY2VzcycsIGFiaWxpdHkuZGF0YSk7CiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShhYmlsaXR5KTsKICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgdXBkYXRlUm9sZTogZnVuY3Rpb24gdXBkYXRlUm9sZShfcmVmNSwgcm9sZSkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjUuY29tbWl0OwogICAgICByZXR1cm4gdXNlckFjY2Vzc01hbmFnZW1lbnRTZXJ2aWNlLnVwZGF0ZVJvbGUocm9sZSkudGhlbiggLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNoYWRvdwogICAgICBmdW5jdGlvbiAocm9sZSkgewogICAgICAgIGNvbW1pdCgndXBkYXRlUm9sZVN1Y2Nlc3MnLCByb2xlLmRhdGEpOwogICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocm9sZSk7CiAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7CiAgICAgIH0pOwogICAgfQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2hhZG93CiAgICBhZGRBYmlsaXR5U3VjY2VzczogZnVuY3Rpb24gYWRkQWJpbGl0eVN1Y2Nlc3Moc3RhdGUsIGFiaWxpdHkpIHsKICAgICAgc3RhdGUuYWJpbGl0aWVzLnB1c2goYWJpbGl0eSk7CiAgICB9LAogICAgdXBkYXRlQWJpbGl0eVN1Y2Nlc3M6IGZ1bmN0aW9uIHVwZGF0ZUFiaWxpdHlTdWNjZXNzKHN0YXRlLCBhYmlsaXR5KSB7CiAgICAgIHZhciBpbmRleCA9IHN0YXRlLmFiaWxpdGllcy5maW5kSW5kZXgoZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgcmV0dXJuIHZhbHVlLmlkID09PSBhYmlsaXR5LmlkOwogICAgICB9KTsKICAgICAgc3RhdGUuYWJpbGl0aWVzW2luZGV4XSA9IGFiaWxpdHk7CiAgICB9LAogICAgdXBkYXRlUm9sZVN1Y2Nlc3M6IGZ1bmN0aW9uIHVwZGF0ZVJvbGVTdWNjZXNzKHN0YXRlLCByb2xlKSB7CiAgICAgIHZhciBpbmRleCA9IHN0YXRlLnJvbGVzLmZpbmRJbmRleChmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICByZXR1cm4gdmFsdWUuaWQgPT09IHJvbGUuaWQ7CiAgICAgIH0pOwogICAgICBzdGF0ZS5yb2xlc1tpbmRleF0gPSByb2xlOwogICAgfSwKICAgIGZldGNoQWJpbGl0aWVzU3VjY2VzczogZnVuY3Rpb24gZmV0Y2hBYmlsaXRpZXNTdWNjZXNzKHN0YXRlLCBhYmlsaXRpZXMpIHsKICAgICAgc3RhdGUuYWJpbGl0aWVzID0gYWJpbGl0aWVzOwogICAgfQogIH0KfTs="},{"version":3,"names":["UserAccessManagementService","userAccessManagementService","UserAccessManagementStore","namespaced","state","abilities","roles","modules","actions","createAbility","ability","commit","then","data","Promise","resolve","error","reject","deleteAbility","getAbilities","updateAbility","updateRole","role","mutations","addAbilitySuccess","push","updateAbilitySuccess","index","findIndex","value","id","updateRoleSuccess","fetchAbilitiesSuccess"],"sources":["/Users/mark/projects/enco-fe/src/store/UserAccessManagementStore.js"],"sourcesContent":["import UserAccessManagementService from '@/service/UserAccessManagementService'\n\nconst userAccessManagementService = new UserAccessManagementService()\n// eslint-disable-next-line import/prefer-default-export\nexport const UserAccessManagementStore = {\n  namespaced: true,\n  state: {\n    abilities: [],\n    roles: [],\n    modules: [],\n  },\n  actions: {\n    // eslint-disable-next-line no-shadow\n    createAbility({ commit }, ability) {\n      return userAccessManagementService.createAbility(ability)\n        .then(\n          // eslint-disable-next-line no-shadow\n          ability => {\n            commit('addAbilitySuccess', ability.data)\n\n            return Promise.resolve(ability)\n          },\n          error => Promise.reject(error),\n        )\n    },\n    // eslint-disable-next-line no-unused-vars\n    deleteAbility({ commit }, ability) {\n      return userAccessManagementService.deleteAbility(ability)\n        .then()\n    },\n    getAbilities({ commit }) {\n      return userAccessManagementService.getAbilities(false).then(\n        abilities => {\n          commit('fetchAbilitiesSuccess', abilities.data)\n\n          return Promise.resolve(abilities)\n        },\n        error => Promise.reject(error),\n      )\n    },\n    updateAbility({ commit }, ability) {\n      return userAccessManagementService.updateAbility(ability)\n        .then(\n          // eslint-disable-next-line no-shadow\n          ability => {\n            commit('updateAbilitySuccess', ability.data)\n\n            return Promise.resolve(ability)\n          },\n          error => Promise.reject(error),\n        )\n    },\n    updateRole({ commit }, role) {\n      return userAccessManagementService.updateRole(role)\n        .then(\n          // eslint-disable-next-line no-shadow\n          role => {\n            commit('updateRoleSuccess', role.data)\n\n            return Promise.resolve(role)\n          },\n          error => Promise.reject(error),\n        )\n    },\n  },\n  mutations: {\n    // eslint-disable-next-line no-shadow\n    addAbilitySuccess(state, ability) {\n      state.abilities.push(ability)\n    },\n    updateAbilitySuccess(state, ability) {\n      const index = state.abilities.findIndex(value => value.id === ability.id)\n      state.abilities[index] = ability\n    },\n    updateRoleSuccess(state, role) {\n      const index = state.roles.findIndex(value => value.id === role.id)\n      state.roles[index] = role\n    },\n    fetchAbilitiesSuccess(state, abilities) {\n      state.abilities = abilities\n    },\n  },\n}\n"],"mappings":"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"}]}