{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/thread-loader/dist/cjs.js!/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js!/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/projects/enco-fe/src/views/pages/user-access-management/abilities/AbilityForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/views/pages/user-access-management/abilities/AbilityForm.vue","mtime":1656067756866},{"path":"/Users/mark/projects/enco-fe/babel.config.js","mtime":1655991784146},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/thread-loader/dist/cjs.js","mtime":1650363913040},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1652172763063},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js","mtime":1650363919730}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL21hcmsvcHJvamVjdHMvZW5jby1mZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcmVnZW5lcmF0b3JSdW50aW1lLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9tYXJrL3Byb2plY3RzL2VuY28tZmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG9uTW91bnRlZCwgcmVmLCB0b1JlZiB9IGZyb20gJ0B2dWUvY29tcG9zaXRpb24tYXBpL2Rpc3QvdnVlLWNvbXBvc2l0aW9uLWFwaSc7CmltcG9ydCB7IG1kaUFjY291bnRPdXRsaW5lLCBtZGlDYXJLZXksIG1kaUNlbGxwaG9uZSwgbWRpRW1haWxPdXRsaW5lLCBtZGlMb2NrT3V0bGluZSwgbWRpVmlld01vZHVsZSB9IGZyb20gJ0BtZGkvanMnOwppbXBvcnQgVXNlckFjY2Vzc01hbmFnZW1lbnRTZXJ2aWNlIGZyb20gJ0Avc2VydmljZS9Vc2VyQWNjZXNzTWFuYWdlbWVudFNlcnZpY2UnOwppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgaWRQcm9wOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiAwCiAgICB9LAogICAgYWN0aW9uUHJvcDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogJycKICAgIH0sCiAgICBtb2R1bGVQcm9wOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiAnJwogICAgfSwKICAgIGlzRGlzYWJsZWRQcm9wOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICB0aXRsZVByb3A6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9CiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAocHJvcHMsIF9yZWYpIHsKICAgIHZhciBlbWl0ID0gX3JlZi5lbWl0OwogICAgdmFyIGlkID0gdG9SZWYocHJvcHMsICdpZFByb3AnKTsKICAgIHZhciBhY3Rpb24gPSB0b1JlZihwcm9wcywgJ2FjdGlvblByb3AnKTsKICAgIHZhciB0aXRsZSA9IHRvUmVmKHByb3BzLCAndGl0bGVQcm9wJyk7CiAgICB2YXIgbW9kdWxlID0gdG9SZWYocHJvcHMsICdtb2R1bGVQcm9wJyk7CiAgICB2YXIgaXNEaXNhYmxlZCA9IHRvUmVmKHByb3BzLCAnaXNEaXNhYmxlZFByb3AnKTsKICAgIHZhciBtb2R1bGVzID0gcmVmKFtdKTsKICAgIHZhciBzZXJ2aWNlID0gbmV3IFVzZXJBY2Nlc3NNYW5hZ2VtZW50U2VydmljZSgpOwogICAgb25Nb3VudGVkKCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIHNlcnZpY2UuZ2V0TW9kdWxlcygpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBtb2R1bGVzLnZhbHVlID0gcmVzcG9uc2UuZGF0YS5tYXAoZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHZhbHVlLnNsaWNlKDEpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKTsKCiAgICB2YXIgc3VibWl0ID0gZnVuY3Rpb24gc3VibWl0KCkgewogICAgICBpZiAoaWQudmFsdWUgPT09IDApIHsKICAgICAgICBzdG9yZS5kaXNwYXRjaCgnVXNlckFjY2Vzc01hbmFnZW1lbnRTdG9yZS9jcmVhdGVBYmlsaXR5JywgewogICAgICAgICAgYWN0aW9uOiBhY3Rpb24udmFsdWUsCiAgICAgICAgICBtb2R1bGU6IG1vZHVsZS52YWx1ZQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgZW1pdCgnY2xvc2VGb3JtJywgZmFsc2UpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHN0b3JlLmRpc3BhdGNoKCdVc2VyQWNjZXNzTWFuYWdlbWVudFN0b3JlL3VwZGF0ZUFiaWxpdHknLCB7CiAgICAgICAgICBhY3Rpb246IGFjdGlvbi52YWx1ZSwKICAgICAgICAgIG1vZHVsZTogbW9kdWxlLnZhbHVlLAogICAgICAgICAgaWQ6IGlkLnZhbHVlCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICBzdG9yZS5kaXNwYXRjaCgnVXNlckFjY2Vzc01hbmFnZW1lbnRTdG9yZS9nZXRBYmlsaXRpZXMnKTsKICAgICAgICAgIGVtaXQoJ2Nsb3NlRm9ybScsIGZhbHNlKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfTsKCiAgICB2YXIgY2FuY2VsID0gZnVuY3Rpb24gY2FuY2VsKCkgewogICAgICBlbWl0KCdjbG9zZUZvcm0nLCBmYWxzZSk7CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIGFjdGlvbjogYWN0aW9uLAogICAgICBjYW5jZWw6IGNhbmNlbCwKICAgICAgaWNvbnM6IHsKICAgICAgICBtZGlBY2NvdW50T3V0bGluZTogbWRpQWNjb3VudE91dGxpbmUsCiAgICAgICAgbWRpQ2FyS2V5OiBtZGlDYXJLZXksCiAgICAgICAgbWRpRW1haWxPdXRsaW5lOiBtZGlFbWFpbE91dGxpbmUsCiAgICAgICAgbWRpQ2VsbHBob25lOiBtZGlDZWxscGhvbmUsCiAgICAgICAgbWRpTG9ja091dGxpbmU6IG1kaUxvY2tPdXRsaW5lLAogICAgICAgIG1kaVZpZXdNb2R1bGU6IG1kaVZpZXdNb2R1bGUKICAgICAgfSwKICAgICAgaXNEaXNhYmxlZDogaXNEaXNhYmxlZCwKICAgICAgbW9kdWxlOiBtb2R1bGUsCiAgICAgIG1vZHVsZXM6IG1vZHVsZXMsCiAgICAgIHN1Ym1pdDogc3VibWl0LAogICAgICB0aXRsZTogdGl0bGUKICAgIH07CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA;AACA,SACAA,iBADA,EAEAC,SAFA,EAGAC,YAHA,EAIAC,eAJA,EAKAC,cALA,EAMAC,aANA,QAOA,SAPA;AAQA;AACA;AAEA;EACAC;IACAC;MACAC,YADA;MAEAC,eAFA;MAGAC;IAHA,CADA;IAMAC;MACAH,YADA;MAEAC,eAFA;MAGAC;IAHA,CANA;IAWAE;MACAJ,YADA;MAEAC,eAFA;MAGAC;IAHA,CAXA;IAgBAG;MACAL,aADA;MAEAC,eAFA;MAGAC;IAHA,CAhBA;IAqBAI;MACAN,YADA;MAEAC,eAFA;MAGAC;IAHA;EArBA,CADA;EA4BAK,KA5BA,iBA4BAT,KA5BA,QA4BA;IAAA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAEAU;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,OACAC,qBACAC,IADA,CACA;gBACAC;kBAAA;gBAAA;cACA,CAHA,CADA;;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;;IAOA;MACA;QACAC;UACAC,oBADA;UAEAC;QAFA,GAGAJ,IAHA,CAIA;UACAK;QACA,CANA;MAQA,CATA,MASA;QACAH;UACAC,oBADA;UAEAC,oBAFA;UAGAE;QAHA,GAIAN,IAJA,CAKA;UACAE;UACAG;QACA,CARA;MAUA;IACA,CAtBA;;IAwBA;MACAA;IACA,CAFA;;IAIA;MACAF,cADA;MAEAI,cAFA;MAGAC;QACA1B,oCADA;QAEAC,oBAFA;QAGAE,gCAHA;QAIAD,0BAJA;QAKAE,8BALA;QAMAC;MANA,CAHA;MAWAsB,sBAXA;MAYAL,cAZA;MAaAH,gBAbA;MAcAS,cAdA;MAeAC;IAfA;EAiBA;AAzFA","names":["mdiAccountOutline","mdiCarKey","mdiCellphone","mdiEmailOutline","mdiLockOutline","mdiViewModule","props","idProp","type","required","default","actionProp","moduleProp","isDisabledProp","titleProp","setup","onMounted","service","then","modules","store","action","module","emit","id","cancel","icons","isDisabled","submit","title"],"sourceRoot":"src/views/pages/user-access-management/abilities","sources":["AbilityForm.vue"],"sourcesContent":["<template>\n  <v-form>\n    <v-row>\n      <v-col\n        v-if=\"title\"\n        cols=\"12\"\n        md=\"3\"\n      >\n        <label for=\"firstnameHorizontalIcons\">Title</label>\n      </v-col>\n      <v-col\n        v-if=\"title\"\n        cols=\"12\"\n        md=\"9\"\n      >\n        <v-text-field\n          id=\"firstnameHorizontalIcons\"\n          v-model=\"title\"\n          disabled\n          :prepend-inner-icon=\"icons.mdiCarKey\"\n          outlined\n          dense\n          placeholder=\"Ability Name\"\n          hide-details\n        ></v-text-field>\n      </v-col>\n      <v-col\n        cols=\"12\"\n        md=\"3\"\n      >\n        <label for=\"firstnameHorizontalIcons\">Ability Name</label>\n      </v-col>\n      <v-col\n        cols=\"12\"\n        md=\"9\"\n      >\n        <v-text-field\n          id=\"firstnameHorizontalIcons\"\n          v-model=\"action\"\n          disabled\n          :prepend-inner-icon=\"icons.mdiCarKey\"\n          outlined\n          dense\n          placeholder=\"Ability Name\"\n          hide-details\n        ></v-text-field>\n      </v-col>\n      <v-col\n        cols=\"12\"\n        md=\"3\"\n      >\n        <label for=\"firstnameHorizontalIcons\">Module Name</label>\n      </v-col>\n      <v-col\n        cols=\"12\"\n        md=\"9\"\n      >\n        <v-select\n          v-model=\"module\"\n          disabled\n          outlined\n          dense\n          hide-details\n          :prepend-inner-icon=\"icons.mdiViewModule\"\n          placeholder=\"Module Name\"\n          :items=\"modules\"\n        ></v-select>\n      </v-col>\n\n      <v-col\n        offset-md=\"3\"\n        cols=\"12\"\n      >\n        <v-btn\n          disabled\n          color=\"primary\"\n          @click=\"submit\"\n        >\n          Submit\n        </v-btn>\n        <v-btn\n          type=\"cancel\"\n          outlined\n          class=\"mx-2\"\n          @click=\"cancel\"\n        >\n          Cancel\n        </v-btn>\n      </v-col>\n    </v-row>\n  </v-form>\n</template>\n\n<script>\nimport { onMounted, ref, toRef } from '@vue/composition-api/dist/vue-composition-api'\nimport {\n  mdiAccountOutline,\n  mdiCarKey,\n  mdiCellphone,\n  mdiEmailOutline,\n  mdiLockOutline,\n  mdiViewModule,\n} from '@mdi/js'\nimport UserAccessManagementService from '@/service/UserAccessManagementService'\nimport store from '@/store'\n\nexport default {\n  props: {\n    idProp: {\n      type: Number,\n      required: false,\n      default: 0,\n    },\n    actionProp: {\n      type: String,\n      required: false,\n      default: '',\n    },\n    moduleProp: {\n      type: String,\n      required: false,\n      default: '',\n    },\n    isDisabledProp: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n    titleProp: {\n      type: String,\n      required: false,\n      default: '',\n    },\n  },\n  setup(props, { emit }) {\n    const id = toRef(props, 'idProp')\n    const action = toRef(props, 'actionProp')\n    const title = toRef(props, 'titleProp')\n    const module = toRef(props, 'moduleProp')\n    const isDisabled = toRef(props, 'isDisabledProp')\n    const modules = ref([])\n    const service = new UserAccessManagementService()\n\n    onMounted(async () => {\n      await service.getModules()\n        .then(response => {\n          modules.value = response.data.map(value => value.charAt(0).toUpperCase() + value.slice(1))\n        })\n    })\n\n    const submit = () => {\n      if (id.value === 0) {\n        store.dispatch('UserAccessManagementStore/createAbility', {\n          action: action.value,\n          module: module.value,\n        }).then(\n          () => {\n            emit('closeForm', false)\n          },\n        )\n      } else {\n        store.dispatch('UserAccessManagementStore/updateAbility', {\n          action: action.value,\n          module: module.value,\n          id: id.value,\n        }).then(\n          () => {\n            store.dispatch('UserAccessManagementStore/getAbilities')\n            emit('closeForm', false)\n          },\n        )\n      }\n    }\n\n    const cancel = () => {\n      emit('closeForm', false)\n    }\n\n    return {\n      action,\n      cancel,\n      icons: {\n        mdiAccountOutline,\n        mdiCarKey,\n        mdiEmailOutline,\n        mdiCellphone,\n        mdiLockOutline,\n        mdiViewModule,\n      },\n      isDisabled,\n      module,\n      modules,\n      submit,\n      title,\n    }\n  },\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}