{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js!/Users/mark/projects/enco-fe/node_modules/vuetify/lib/components/VColorPicker/VColorPickerCanvas.js","dependencies":[{"path":"/Users/mark/projects/enco-fe/node_modules/vuetify/lib/components/VColorPicker/VColorPickerCanvas.js","mtime":1665368575004},{"path":"/Users/mark/projects/enco-fe/babel.config.js","mtime":1655991784146},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1665368576185},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1665368576151}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKLy8gU3R5bGVzCmltcG9ydCAiLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvVkNvbG9yUGlja2VyL1ZDb2xvclBpY2tlckNhbnZhcy5zYXNzIjsgLy8gSGVscGVycwoKaW1wb3J0IHsgY2xhbXAsIGNvbnZlcnRUb1VuaXQgfSBmcm9tICcuLi8uLi91dGlsL2hlbHBlcnMnOwppbXBvcnQgeyBmcm9tSFNWQSwgZnJvbVJHQkEgfSBmcm9tICcuL3V0aWwnOyAvLyBUeXBlcwoKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwpleHBvcnQgZGVmYXVsdCBWdWUuZXh0ZW5kKHsKICBuYW1lOiAndi1jb2xvci1waWNrZXItY2FudmFzJywKICBwcm9wczogewogICAgY29sb3I6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gZnJvbVJHQkEoewogICAgICAgICAgcjogMjU1LAogICAgICAgICAgZzogMCwKICAgICAgICAgIGI6IDAsCiAgICAgICAgICBhOiAxCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBkaXNhYmxlZDogQm9vbGVhbiwKICAgIGRvdFNpemU6IHsKICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSwKICAgICAgZGVmYXVsdDogMTAKICAgIH0sCiAgICBoZWlnaHQ6IHsKICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSwKICAgICAgZGVmYXVsdDogMTUwCiAgICB9LAogICAgd2lkdGg6IHsKICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSwKICAgICAgZGVmYXVsdDogMzAwCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYm91bmRpbmdSZWN0OiB7CiAgICAgICAgd2lkdGg6IDAsCiAgICAgICAgaGVpZ2h0OiAwLAogICAgICAgIGxlZnQ6IDAsCiAgICAgICAgdG9wOiAwCiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgZG90OiBmdW5jdGlvbiBkb3QoKSB7CiAgICAgIGlmICghdGhpcy5jb2xvcikgcmV0dXJuIHsKICAgICAgICB4OiAwLAogICAgICAgIHk6IDAKICAgICAgfTsKICAgICAgcmV0dXJuIHsKICAgICAgICB4OiB0aGlzLmNvbG9yLmhzdmEucyAqIHBhcnNlSW50KHRoaXMud2lkdGgsIDEwKSwKICAgICAgICB5OiAoMSAtIHRoaXMuY29sb3IuaHN2YS52KSAqIHBhcnNlSW50KHRoaXMuaGVpZ2h0LCAxMCkKICAgICAgfTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICAnY29sb3IuaHVlJzogJ3VwZGF0ZUNhbnZhcycKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLnVwZGF0ZUNhbnZhcygpOwogIH0sCiAgbWV0aG9kczogewogICAgZW1pdENvbG9yOiBmdW5jdGlvbiBlbWl0Q29sb3IoeCwgeSkgewogICAgICB2YXIgX3RoaXMkYm91bmRpbmdSZWN0ID0gdGhpcy5ib3VuZGluZ1JlY3QsCiAgICAgICAgICBsZWZ0ID0gX3RoaXMkYm91bmRpbmdSZWN0LmxlZnQsCiAgICAgICAgICB0b3AgPSBfdGhpcyRib3VuZGluZ1JlY3QudG9wLAogICAgICAgICAgd2lkdGggPSBfdGhpcyRib3VuZGluZ1JlY3Qud2lkdGgsCiAgICAgICAgICBoZWlnaHQgPSBfdGhpcyRib3VuZGluZ1JlY3QuaGVpZ2h0OwogICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6Y29sb3InLCBmcm9tSFNWQSh7CiAgICAgICAgaDogdGhpcy5jb2xvci5odWUsCiAgICAgICAgczogY2xhbXAoeCAtIGxlZnQsIDAsIHdpZHRoKSAvIHdpZHRoLAogICAgICAgIHY6IDEgLSBjbGFtcCh5IC0gdG9wLCAwLCBoZWlnaHQpIC8gaGVpZ2h0LAogICAgICAgIGE6IHRoaXMuY29sb3IuYWxwaGEKICAgICAgfSkpOwogICAgfSwKICAgIHVwZGF0ZUNhbnZhczogZnVuY3Rpb24gdXBkYXRlQ2FudmFzKCkgewogICAgICBpZiAoIXRoaXMuY29sb3IpIHJldHVybjsKICAgICAgdmFyIGNhbnZhcyA9IHRoaXMuJHJlZnMuY2FudmFzOwogICAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7CiAgICAgIGlmICghY3R4KSByZXR1cm47CiAgICAgIHZhciBzYXR1cmF0aW9uR3JhZGllbnQgPSBjdHguY3JlYXRlTGluZWFyR3JhZGllbnQoMCwgMCwgY2FudmFzLndpZHRoLCAwKTsKICAgICAgc2F0dXJhdGlvbkdyYWRpZW50LmFkZENvbG9yU3RvcCgwLCAnaHNsYSgwLCAwJSwgMTAwJSwgMSknKTsgLy8gd2hpdGUKCiAgICAgIHNhdHVyYXRpb25HcmFkaWVudC5hZGRDb2xvclN0b3AoMSwgImhzbGEoIi5jb25jYXQodGhpcy5jb2xvci5odWUsICIsIDEwMCUsIDUwJSwgMSkiKSk7CiAgICAgIGN0eC5maWxsU3R5bGUgPSBzYXR1cmF0aW9uR3JhZGllbnQ7CiAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpOwogICAgICB2YXIgdmFsdWVHcmFkaWVudCA9IGN0eC5jcmVhdGVMaW5lYXJHcmFkaWVudCgwLCAwLCAwLCBjYW52YXMuaGVpZ2h0KTsKICAgICAgdmFsdWVHcmFkaWVudC5hZGRDb2xvclN0b3AoMCwgJ2hzbGEoMCwgMCUsIDEwMCUsIDApJyk7IC8vIHRyYW5zcGFyZW50CgogICAgICB2YWx1ZUdyYWRpZW50LmFkZENvbG9yU3RvcCgxLCAnaHNsYSgwLCAwJSwgMCUsIDEpJyk7IC8vIGJsYWNrCgogICAgICBjdHguZmlsbFN0eWxlID0gdmFsdWVHcmFkaWVudDsKICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7CiAgICB9LAogICAgaGFuZGxlQ2xpY2s6IGZ1bmN0aW9uIGhhbmRsZUNsaWNrKGUpIHsKICAgICAgaWYgKHRoaXMuZGlzYWJsZWQpIHJldHVybjsKICAgICAgdGhpcy5ib3VuZGluZ1JlY3QgPSB0aGlzLiRlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgdGhpcy5lbWl0Q29sb3IoZS5jbGllbnRYLCBlLmNsaWVudFkpOwogICAgfSwKICAgIGhhbmRsZU1vdXNlRG93bjogZnVuY3Rpb24gaGFuZGxlTW91c2VEb3duKGUpIHsKICAgICAgLy8gVG8gcHJldmVudCBzZWxlY3Rpb24gd2hpbGUgbW92aW5nIGN1cnNvcgogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIGlmICh0aGlzLmRpc2FibGVkKSByZXR1cm47CiAgICAgIHRoaXMuYm91bmRpbmdSZWN0ID0gdGhpcy4kZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLmhhbmRsZU1vdXNlTW92ZSk7CiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5oYW5kbGVNb3VzZVVwKTsKICAgIH0sCiAgICBoYW5kbGVNb3VzZU1vdmU6IGZ1bmN0aW9uIGhhbmRsZU1vdXNlTW92ZShlKSB7CiAgICAgIGlmICh0aGlzLmRpc2FibGVkKSByZXR1cm47CiAgICAgIHRoaXMuZW1pdENvbG9yKGUuY2xpZW50WCwgZS5jbGllbnRZKTsKICAgIH0sCiAgICBoYW5kbGVNb3VzZVVwOiBmdW5jdGlvbiBoYW5kbGVNb3VzZVVwKCkgewogICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5oYW5kbGVNb3VzZU1vdmUpOwogICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuaGFuZGxlTW91c2VVcCk7CiAgICB9LAogICAgZ2VuQ2FudmFzOiBmdW5jdGlvbiBnZW5DYW52YXMoKSB7CiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdjYW52YXMnLCB7CiAgICAgICAgcmVmOiAnY2FudmFzJywKICAgICAgICBhdHRyczogewogICAgICAgICAgd2lkdGg6IHRoaXMud2lkdGgsCiAgICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBnZW5Eb3Q6IGZ1bmN0aW9uIGdlbkRvdCgpIHsKICAgICAgdmFyIHJhZGl1cyA9IHBhcnNlSW50KHRoaXMuZG90U2l6ZSwgMTApIC8gMjsKICAgICAgdmFyIHggPSBjb252ZXJ0VG9Vbml0KHRoaXMuZG90LnggLSByYWRpdXMpOwogICAgICB2YXIgeSA9IGNvbnZlcnRUb1VuaXQodGhpcy5kb3QueSAtIHJhZGl1cyk7CiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWNvbG9yLXBpY2tlcl9fY2FudmFzLWRvdCcsCiAgICAgICAgY2xhc3M6IHsKICAgICAgICAgICd2LWNvbG9yLXBpY2tlcl9fY2FudmFzLWRvdC0tZGlzYWJsZWQnOiB0aGlzLmRpc2FibGVkCiAgICAgICAgfSwKICAgICAgICBzdHlsZTogewogICAgICAgICAgd2lkdGg6IGNvbnZlcnRUb1VuaXQodGhpcy5kb3RTaXplKSwKICAgICAgICAgIGhlaWdodDogY29udmVydFRvVW5pdCh0aGlzLmRvdFNpemUpLAogICAgICAgICAgdHJhbnNmb3JtOiAidHJhbnNsYXRlKCIuY29uY2F0KHgsICIsICIpLmNvbmNhdCh5LCAiKSIpCiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LAogIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHsKICAgIHJldHVybiBoKCdkaXYnLCB7CiAgICAgIHN0YXRpY0NsYXNzOiAndi1jb2xvci1waWNrZXJfX2NhbnZhcycsCiAgICAgIHN0eWxlOiB7CiAgICAgICAgd2lkdGg6IGNvbnZlcnRUb1VuaXQodGhpcy53aWR0aCksCiAgICAgICAgaGVpZ2h0OiBjb252ZXJ0VG9Vbml0KHRoaXMuaGVpZ2h0KQogICAgICB9LAogICAgICBvbjogewogICAgICAgIGNsaWNrOiB0aGlzLmhhbmRsZUNsaWNrLAogICAgICAgIG1vdXNlZG93bjogdGhpcy5oYW5kbGVNb3VzZURvd24KICAgICAgfQogICAgfSwgW3RoaXMuZ2VuQ2FudmFzKCksIHRoaXMuZ2VuRG90KCldKTsKICB9Cn0pOw=="},{"version":3,"mappings":"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","names":["clamp","convertToUnit","fromHSVA","fromRGBA","Vue","extend","name","props","color","type","Object","default","r","g","b","a","disabled","Boolean","dotSize","Number","String","height","width","data","boundingRect","left","top","computed","dot","x","y","hsva","s","parseInt","v","watch","mounted","updateCanvas","methods","emitColor","$emit","h","hue","alpha","canvas","$refs","ctx","getContext","saturationGradient","createLinearGradient","addColorStop","fillStyle","fillRect","valueGradient","handleClick","e","$el","getBoundingClientRect","clientX","clientY","handleMouseDown","preventDefault","window","addEventListener","handleMouseMove","handleMouseUp","removeEventListener","genCanvas","$createElement","ref","attrs","genDot","radius","staticClass","class","style","transform","render","on","click","mousedown"],"sourceRoot":"","sources":["../../../src/components/VColorPicker/VColorPickerCanvas.ts"],"sourcesContent":["// Styles\nimport './VColorPickerCanvas.sass'\n\n// Helpers\nimport { clamp, convertToUnit } from '../../util/helpers'\nimport { fromHSVA, VColorPickerColor, fromRGBA } from './util'\n\n// Types\nimport Vue, { VNode, PropType } from 'vue'\n\nexport default Vue.extend({\n  name: 'v-color-picker-canvas',\n\n  props: {\n    color: {\n      type: Object as PropType<VColorPickerColor>,\n      default: () => fromRGBA({ r: 255, g: 0, b: 0, a: 1 }),\n    },\n    disabled: Boolean,\n    dotSize: {\n      type: [Number, String],\n      default: 10,\n    },\n    height: {\n      type: [Number, String],\n      default: 150,\n    },\n    width: {\n      type: [Number, String],\n      default: 300,\n    },\n  },\n\n  data () {\n    return {\n      boundingRect: {\n        width: 0,\n        height: 0,\n        left: 0,\n        top: 0,\n      } as ClientRect,\n    }\n  },\n\n  computed: {\n    dot (): { x: number, y: number} {\n      if (!this.color) return { x: 0, y: 0 }\n\n      return {\n        x: this.color.hsva.s * parseInt(this.width, 10),\n        y: (1 - this.color.hsva.v) * parseInt(this.height, 10),\n      }\n    },\n  },\n\n  watch: {\n    'color.hue': 'updateCanvas',\n  },\n\n  mounted () {\n    this.updateCanvas()\n  },\n\n  methods: {\n    emitColor (x: number, y: number) {\n      const { left, top, width, height } = this.boundingRect\n\n      this.$emit('update:color', fromHSVA({\n        h: this.color.hue,\n        s: clamp(x - left, 0, width) / width,\n        v: 1 - clamp(y - top, 0, height) / height,\n        a: this.color.alpha,\n      }))\n    },\n    updateCanvas () {\n      if (!this.color) return\n\n      const canvas = this.$refs.canvas as HTMLCanvasElement\n      const ctx = canvas.getContext('2d')\n\n      if (!ctx) return\n\n      const saturationGradient = ctx.createLinearGradient(0, 0, canvas.width, 0)\n      saturationGradient.addColorStop(0, 'hsla(0, 0%, 100%, 1)') // white\n      saturationGradient.addColorStop(1, `hsla(${this.color.hue}, 100%, 50%, 1)`)\n      ctx.fillStyle = saturationGradient\n      ctx.fillRect(0, 0, canvas.width, canvas.height)\n\n      const valueGradient = ctx.createLinearGradient(0, 0, 0, canvas.height)\n      valueGradient.addColorStop(0, 'hsla(0, 0%, 100%, 0)') // transparent\n      valueGradient.addColorStop(1, 'hsla(0, 0%, 0%, 1)') // black\n      ctx.fillStyle = valueGradient\n      ctx.fillRect(0, 0, canvas.width, canvas.height)\n    },\n    handleClick (e: MouseEvent) {\n      if (this.disabled) return\n\n      this.boundingRect = this.$el.getBoundingClientRect()\n      this.emitColor(e.clientX, e.clientY)\n    },\n    handleMouseDown (e: MouseEvent) {\n      // To prevent selection while moving cursor\n      e.preventDefault()\n\n      if (this.disabled) return\n\n      this.boundingRect = this.$el.getBoundingClientRect()\n\n      window.addEventListener('mousemove', this.handleMouseMove)\n      window.addEventListener('mouseup', this.handleMouseUp)\n    },\n    handleMouseMove (e: MouseEvent) {\n      if (this.disabled) return\n\n      this.emitColor(e.clientX, e.clientY)\n    },\n    handleMouseUp () {\n      window.removeEventListener('mousemove', this.handleMouseMove)\n      window.removeEventListener('mouseup', this.handleMouseUp)\n    },\n    genCanvas (): VNode {\n      return this.$createElement('canvas', {\n        ref: 'canvas',\n        attrs: {\n          width: this.width,\n          height: this.height,\n        },\n      })\n    },\n    genDot (): VNode {\n      const radius = parseInt(this.dotSize, 10) / 2\n      const x = convertToUnit(this.dot.x - radius)\n      const y = convertToUnit(this.dot.y - radius)\n\n      return this.$createElement('div', {\n        staticClass: 'v-color-picker__canvas-dot',\n        class: {\n          'v-color-picker__canvas-dot--disabled': this.disabled,\n        },\n        style: {\n          width: convertToUnit(this.dotSize),\n          height: convertToUnit(this.dotSize),\n          transform: `translate(${x}, ${y})`,\n        },\n      })\n    },\n  },\n\n  render (h): VNode {\n    return h('div', {\n      staticClass: 'v-color-picker__canvas',\n      style: {\n        width: convertToUnit(this.width),\n        height: convertToUnit(this.height),\n      },\n      on: {\n        click: this.handleClick,\n        mousedown: this.handleMouseDown,\n      },\n    }, [\n      this.genCanvas(),\n      this.genDot(),\n    ])\n  },\n})\n"]}]}