{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js!/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/projects/enco-fe/src/views/pages/purchase-orders/PurchaseOrderListTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/views/pages/purchase-orders/PurchaseOrderListTable.vue","mtime":1665818161975},{"path":"/Users/mark/projects/enco-fe/babel.config.js","mtime":1655991784146},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1665368576185},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1665368576151},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1665368576185},{"path":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js","mtime":1665368593779}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL21hcmsvcHJvamVjdHMvZW5jby1mZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1kaUJhbGxvdFJlY291bnRPdXRsaW5lLCBtZGlEZWxldGVDaXJjbGUsIG1kaVBhZ2VOZXh0T3V0bGluZSwgbWRpUHJpbnRlciB9IGZyb20gJ0BtZGkvanMnOwppbXBvcnQgeyBHRVRfUFVSQ0hBU0VfT1JERVJTLCBDTE9TRV9QVVJDSEFTRV9PUkRFUiB9IGZyb20gJ0Avc3RvcmUvYWN0aW9ucy50eXBlJzsKaW1wb3J0IHsgcmVmLCBuZXh0VGljaywgY29tcHV0ZWQsIG9uTW91bnRlZCB9IGZyb20gJ0B2dWUvY29tcG9zaXRpb24tYXBpJzsKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOwpleHBvcnQgZGVmYXVsdCB7CiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIHNlYXJjaCA9IHJlZignJyk7CiAgICB2YXIgZGlhbG9nRGVsZXRlID0gcmVmKGZhbHNlKTsKICAgIHZhciBoZWFkZXJzID0gcmVmKFt7CiAgICAgIHRleHQ6ICdOdW1iZXInLAogICAgICBhbGlnbjogJ3N0YXJ0JywKICAgICAgc29ydGFibGU6IGZhbHNlLAogICAgICB2YWx1ZTogJ2lkJwogICAgfSwgewogICAgICB0ZXh0OiAnRGVzY3JpcHRpb24nLAogICAgICB2YWx1ZTogJ2Rlc2NyaXB0aW9uJwogICAgfSwgewogICAgICB0ZXh0OiAnU3RhdHVzJywKICAgICAgdmFsdWU6ICdzdGF0dXMnLAogICAgICBhbGlnbjogJ2NlbnRlcicKICAgIH0sIHsKICAgICAgdGV4dDogJ0FjdGlvbnMnLAogICAgICB2YWx1ZTogJ2FjdGlvbnMnLAogICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgIHNvcnRhYmxlOiBmYWxzZQogICAgfV0pOwogICAgdmFyIHBlcm1pc3Npb25zID0gewogICAgICBjYW5DcmVhdGVQTzogc3RvcmUuZ2V0dGVyc1snQXV0aFN0b3JlL2hhc0FiaWxpdHknXSgnY3JlYXRlLXB1cmNoYXNlIG9yZGVyJyksCiAgICAgIGNhblZpZXdQZW5kaW5nUE86IHN0b3JlLmdldHRlcnNbJ0F1dGhTdG9yZS9oYXNBYmlsaXR5J10oJ3ZpZXcgZm9yIGFwcHJvdmFsLXB1cmNoYXNlIG9yZGVyJyksCiAgICAgIGNhblZpZXdJblRyYW5zaXRQTzogc3RvcmUuZ2V0dGVyc1snQXV0aFN0b3JlL2hhc0FiaWxpdHknXSgndmlldyBpbiB0cmFuc2l0LXB1cmNoYXNlIG9yZGVyJyksCiAgICAgIGNhblZpZXdQaWVyVG9XYXJlaG91c2VQTzogc3RvcmUuZ2V0dGVyc1snQXV0aFN0b3JlL2hhc0FiaWxpdHknXSgndmlldyBwaWVyIHRvIHdhcmVob3VzZS1wdXJjaGFzZSBvcmRlcicpLAogICAgICBjYW5WaWV3QXJyaXZhbFBPOiBzdG9yZS5nZXR0ZXJzWydBdXRoU3RvcmUvaGFzQWJpbGl0eSddKCd2aWV3IGFycml2YWwtcHVyY2hhc2Ugb3JkZXInKSwKICAgICAgY2FuUHJpbnRCYXJjb2RlOiBzdG9yZS5nZXR0ZXJzWydBdXRoU3RvcmUvaGFzQWJpbGl0eSddKCdwcmludCBiYXJjb2RlLXB1cmNoYXNlIG9yZGVyJykKICAgIH07CiAgICB2YXIgZGVmYXVsdEl0ZW0gPSByZWYoewogICAgICBudW1iZXI6ICcnLAogICAgICBjb250YWluZXJfbnVtYmVyOiAnJywKICAgICAgc3RhdHVzOiAnJywKICAgICAgcGFpZF9hbW91bnQ6ICcnLAogICAgICBhbW91bnQ6ICcnLAogICAgICBwYXltZW50X21ldGhvZDogJycsCiAgICAgIHJlZnVuZGVkX2F0OiAnJywKICAgICAgcGFpZF9hdDogJycKICAgIH0pOwogICAgdmFyIGRlbGV0ZWRJbmRleCA9IHJlZigtMSk7CiAgICB2YXIgZGVsZXRlZEl0ZW0gPSByZWYoewogICAgICBuYW1lOiAnJywKICAgICAgc2t1OiAnJywKICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICBpbl9zdG9jazogJycKICAgIH0pOwogICAgdmFyIHB1cmNoYXNlT3JkZXJzID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gc3RvcmUuZ2V0dGVycy5wdXJjaGFzZU9yZGVyczsKICAgIH0pOwogICAgdmFyIHB1cmNoYXNlT3JkZXIgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBzdG9yZS5nZXR0ZXJzLnB1cmNoYXNlT3JkZXI7CiAgICB9KTsKICAgIHZhciBlcnJvcnMgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBzdG9yZS5nZXR0ZXJzLmVycm9yczsKICAgIH0pOwogICAgdmFyIGxvYWRpbmcgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBzdG9yZS5nZXR0ZXJzLmxvYWRpbmc7CiAgICB9KTsKCiAgICB2YXIgaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uIGluaXRpYWxpemUoKSB7CiAgICAgIHN0b3JlLmRpc3BhdGNoKEdFVF9QVVJDSEFTRV9PUkRFUlMpOwogICAgfTsKCiAgICB2YXIgcmVkaXJlY3RQcmludCA9IGZ1bmN0aW9uIHJlZGlyZWN0UHJpbnQoaWQpIHsKICAgICAgd2luZG93Lm9wZW4oImh0dHBzOi8vZW5jby1hcGkuaGVyb2t1YXBwLmNvbS9wcmludC1wdXJjaGFzZS1vcmRlci8iLmNvbmNhdChpZCksICdfYmxhbmsnKTsKICAgIH07CgogICAgdmFyIHN0YXR1c0NvbG9yID0gewogICAgICAvKiBlc2xpbnQtZGlzYWJsZSBrZXktc3BhY2luZyAqLwogICAgICBwaWVyX3RvX3dhcmVob3VzZTogJ2luZm8nLAogICAgICBpbl90cmFuc2l0OiAncHJpbWFyeScsCiAgICAgIGFwcHJvdmVkOiAnc3VjY2VzcycsCiAgICAgIHJlY2VpdmVkOiAncHJpbWFyeScsCiAgICAgIHBlbmRpbmdfYXBwcm92YWw6ICdlcnJvcicsCiAgICAgIGFycml2ZWQ6ICdzdWNjZXNzJywKICAgICAgZm9yX2Fycml2YWw6ICdpbmZvJwogICAgICAvKiBlc2xpbnQtZW5hYmxlIGtleS1zcGFjaW5nICovCgogICAgfTsKICAgIHZhciBzdGF0dXMgPSB7CiAgICAgIHBlbmRpbmdfYXBwcm92YWw6ICdORUVEUyBBUFBST1ZBTCcsCiAgICAgIHBpZXJfdG9fd2FyZWhvdXNlOiAnUElFUiBUTyBXQVJFSE9VU0UnLAogICAgICBhcnJpdmVkOiAnQVJSSVZFRCBBVCBXQVJFSE9VU0UnLAogICAgICBhcHByb3ZlZDogJ1BPIEFQUFJPVkVEJywKICAgICAgZm9yX2Fycml2YWw6ICdBUlJJVklORyBUTyBXQVJFSE9VU0UnLAogICAgICBpbl90cmFuc2l0OiAnSU4gVFJBTlNJVCcKICAgIH07CgogICAgdmFyIGRlbGV0ZUl0ZW0gPSBmdW5jdGlvbiBkZWxldGVJdGVtKGl0ZW0pIHsKICAgICAgZGVsZXRlZEluZGV4LnZhbHVlID0gcHVyY2hhc2VPcmRlcnMudmFsdWUuaW5kZXhPZihpdGVtKTsKICAgICAgZGVsZXRlZEl0ZW0udmFsdWUgPSBfb2JqZWN0U3ByZWFkKHt9LCBpdGVtKTsKICAgICAgZGlhbG9nRGVsZXRlLnZhbHVlID0gdHJ1ZTsKICAgIH07CgogICAgdmFyIGNsb3NlRGVsZXRlID0gZnVuY3Rpb24gY2xvc2VEZWxldGUoKSB7CiAgICAgIGRpYWxvZ0RlbGV0ZS52YWx1ZSA9IGZhbHNlOwogICAgICBuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgZGVsZXRlZEl0ZW0udmFsdWUgPSBfb2JqZWN0U3ByZWFkKHt9LCBkZWZhdWx0SXRlbS52YWx1ZSk7CiAgICAgICAgZGVsZXRlZEluZGV4LnZhbHVlID0gLTE7CiAgICAgIH0pOwogICAgfTsKCiAgICB2YXIgZGVsZXRlSXRlbUNvbmZpcm0gPSBmdW5jdGlvbiBkZWxldGVJdGVtQ29uZmlybSgpIHsKICAgICAgc3RvcmUuZGlzcGF0Y2goQ0xPU0VfUFVSQ0hBU0VfT1JERVIsIGRlbGV0ZWRJdGVtLnZhbHVlKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBwdXJjaGFzZU9yZGVycy52YWx1ZS5zcGxpY2UoZGVsZXRlZEluZGV4LnZhbHVlLCAxKTsKICAgICAgICBjbG9zZURlbGV0ZSgpOwogICAgICB9KTsKICAgIH07CgogICAgb25Nb3VudGVkKGZ1bmN0aW9uICgpIHsKICAgICAgaW5pdGlhbGl6ZSgpOwogICAgfSk7CiAgICByZXR1cm4gewogICAgICBwZXJtaXNzaW9uczogcGVybWlzc2lvbnMsCiAgICAgIHN0YXR1c0NvbG9yOiBzdGF0dXNDb2xvciwKICAgICAgc3RhdHVzOiBzdGF0dXMsCiAgICAgIG1kaUJhbGxvdFJlY291bnRPdXRsaW5lOiBtZGlCYWxsb3RSZWNvdW50T3V0bGluZSwKICAgICAgbWRpRGVsZXRlQ2lyY2xlOiBtZGlEZWxldGVDaXJjbGUsCiAgICAgIG1kaVByaW50ZXI6IG1kaVByaW50ZXIsCiAgICAgIG1kaVBhZ2VOZXh0T3V0bGluZTogbWRpUGFnZU5leHRPdXRsaW5lLAogICAgICBkZWZhdWx0SXRlbTogZGVmYXVsdEl0ZW0sCiAgICAgIGhlYWRlcnM6IGhlYWRlcnMsCiAgICAgIGRpYWxvZ0RlbGV0ZTogZGlhbG9nRGVsZXRlLAogICAgICBzZWFyY2g6IHNlYXJjaCwKICAgICAgcHVyY2hhc2VPcmRlcnM6IHB1cmNoYXNlT3JkZXJzLAogICAgICBwdXJjaGFzZU9yZGVyOiBwdXJjaGFzZU9yZGVyLAogICAgICBlcnJvcnM6IGVycm9ycywKICAgICAgZGVsZXRlSXRlbTogZGVsZXRlSXRlbSwKICAgICAgZGVsZXRlSXRlbUNvbmZpcm06IGRlbGV0ZUl0ZW1Db25maXJtLAogICAgICBjbG9zZURlbGV0ZTogY2xvc2VEZWxldGUsCiAgICAgIGluaXRpYWxpemU6IGluaXRpYWxpemUsCiAgICAgIHJlZGlyZWN0UHJpbnQ6IHJlZGlyZWN0UHJpbnQsCiAgICAgIGRlbGV0ZWRJdGVtOiBkZWxldGVkSXRlbSwKICAgICAgZGVsZXRlZEluZGV4OiBkZWxldGVkSW5kZXgsCiAgICAgIGxvYWRpbmc6IGxvYWRpbmcKICAgIH07CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8JA,SACAA,uBADA,EACAC,eADA,EACAC,kBADA,EACAC,UADA,QAEA,SAFA;AAGA,SACAC,mBADA,EAEAC,oBAFA,QAGA,sBAHA;AAIA,SACAC,GADA,EACAC,QADA,EACAC,QADA,EACAC,SADA,QAEA,sBAFA;AAGA;AAEA;EACAC,KADA,mBACA;IACA;IACA;IACA,mBACA;MACAC,cADA;MAEAC,cAFA;MAGAC,eAHA;MAIAC;IAJA,CADA,EAOA;MAAAH;MAAAG;IAAA,CAPA,EAQA;MAAAH;MAAAG;MAAAF;IAAA,CARA,EASA;MACAD,eADA;MACAG,gBADA;MACAF,eADA;MACAC;IADA,CATA;IAaA;MACAE,2EADA;MAEAC,2FAFA;MAGAC,2FAHA;MAIAC,wGAJA;MAKAC,sFALA;MAMAC;IANA;IASA;MACAC,UADA;MAEAC,oBAFA;MAGAC,UAHA;MAIAC,eAJA;MAKAC,UALA;MAMAC,kBANA;MAOAC,eAPA;MAQAC;IARA;IAUA;IACA;MACAC,QADA;MAEAC,OAFA;MAGAC,eAHA;MAIAC;IAJA;IAOA;MAAA;IAAA;IACA;MAAA;IAAA;IACA;MAAA;IAAA;IACA;MAAA;IAAA;;IAEA;MACAC;IACA,CAFA;;IAIA;MACAC;IACA,CAFA;;IAIA;MACA;MACAC,yBAFA;MAGAC,qBAHA;MAIAC,mBAJA;MAKAC,mBALA;MAMAC,yBANA;MAOAC,kBAPA;MAQAC;MACA;;IATA;IAYA;MACAF,kCADA;MAEAJ,sCAFA;MAGAK,+BAHA;MAIAH,uBAJA;MAKAI,oCALA;MAMAL;IANA;;IASA;MACAM;MACAC;MACAC;IACA,CAJA;;IAMA;MACAA;MACArC;QACAoC;QACAD;MACA,CAHA;IAIA,CANA;;IAQA;MACAT;QACAY;QACAC;MACA,CAHA;IAIA,CALA;;IAOArC;MACAsC;IACA,CAFA;IAIA;MACAC,wBADA;MAEAC,wBAFA;MAGA1B,cAHA;MAIAvB,gDAJA;MAKAC,gCALA;MAMAE,sBANA;MAOAD,sCAPA;MAQAgD,wBARA;MASAC,gBATA;MAUAP,0BAVA;MAWAQ,cAXA;MAYAP,8BAZA;MAaAQ,4BAbA;MAcAC,cAdA;MAeAC,sBAfA;MAgBAC,oCAhBA;MAiBAV,wBAjBA;MAkBAC,sBAlBA;MAmBAU,4BAnBA;MAoBAd,wBApBA;MAqBAD,0BArBA;MAsBAgB;IAtBA;EAwBA;AA/HA","names":["mdiBallotRecountOutline","mdiDeleteCircle","mdiPageNextOutline","mdiPrinter","GET_PURCHASE_ORDERS","CLOSE_PURCHASE_ORDER","ref","nextTick","computed","onMounted","setup","text","align","sortable","value","canCreatePO","canViewPendingPO","canViewInTransitPO","canViewPierToWarehousePO","canViewArrivalPO","canPrintBarcode","number","container_number","status","paid_amount","amount","payment_method","refunded_at","paid_at","name","sku","description","in_stock","store","window","pier_to_warehouse","in_transit","approved","received","pending_approval","arrived","for_arrival","deletedIndex","deletedItem","dialogDelete","purchaseOrders","closeDelete","initialize","permissions","statusColor","defaultItem","headers","search","purchaseOrder","errors","deleteItem","deleteItemConfirm","redirectPrint","loading"],"sourceRoot":"src/views/pages/purchase-orders","sources":["PurchaseOrderListTable.vue"],"sourcesContent":["<template>\n  <div>\n    <v-data-table\n      :headers=\"headers\"\n      :items=\"purchaseOrders\"\n      sort-by=\"name\"\n      class=\"elevation-1 font-weight-black\"\n      :search=\"search\"\n      :loading=\"loading\"\n    >\n      <template #item.id=\"{ item }\">\n        100{{ item.id }}\n      </template>\n\n      <template v-slot:top>\n        <v-toolbar\n          color=\"teal\"\n          outlined\n        >\n          <v-toolbar-title class=\"font-weight-black text-uppercase\">\n            Purchase Orders\n          </v-toolbar-title>\n          <v-divider\n            class=\"mx-4\"\n            inset\n            vertical\n          ></v-divider>\n          <v-spacer></v-spacer>\n          <v-text-field\n            v-model=\"search\"\n            append-icon=\"mdi-magnify\"\n            label=\"Search\"\n            single-line\n            hide-details\n            class=\"mr-4\"\n          ></v-text-field>\n          <router-link :to=\"{ name: 'create-purchase-order' }\">\n            <v-btn\n              v-if=\"permissions.canCreatePO\"\n              color=\"primary\"\n              dark\n              class=\"mb-2 font-weight-black\"\n            >\n              Create a Purchase Order\n            </v-btn>\n          </router-link>\n          <v-dialog\n            v-model=\"dialogDelete\"\n            max-width=\"500px\"\n          >\n            <v-card>\n              <v-card-title class=\"text-h3\">\n                Are you sure you want to delete this Purchase Order?\n              </v-card-title>\n              <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn\n                  color=\"blue darken-1\"\n                  text\n                  @click=\"closeDelete\"\n                >\n                  Cancel\n                </v-btn>\n                <v-btn\n                  color=\"blue darken-1\"\n                  text\n                  @click=\"deleteItemConfirm\"\n                >\n                  OK\n                </v-btn>\n                <v-spacer></v-spacer>\n              </v-card-actions>\n            </v-card>\n          </v-dialog>\n        </v-toolbar>\n      </template>\n      <template #[`item.status`]=\"{item}\">\n        <div class=\"d-flex justify-center\">\n          <v-chip\n            small\n            :class=\"`${statusColor[item.status]}--text`\"\n            class=\"v-chip-light-bg text-center\"\n          >\n            {{ status[item.status] }}\n          </v-chip>\n        </div>\n      </template>\n      <template v-slot:item.actions=\"{ item }\">\n        <div class=\"d-flex justify-center\">\n          <router-link\n            v-if=\"item.status === 'pending_approval' && permissions.canViewPendingPO\"\n            :to=\"{ name: 'approve-purchase-order', params: { id: item.id } }\"\n          >\n            <v-icon\n              medium\n              class=\"mr-2\"\n            >\n              {{ mdiPageNextOutline }}\n            </v-icon>\n          </router-link>\n          <router-link\n            v-if=\"item.status === 'approved' && permissions.canViewInTransitPO\"\n            :to=\"{ name: 'in-transit-purchase-order', params: { id: item.id } }\"\n          >\n            <v-icon\n              medium\n              class=\"mr-2\"\n            >\n              {{ mdiPageNextOutline }}\n            </v-icon>\n          </router-link>\n          <router-link\n            v-if=\"item.status === 'in_transit' && permissions.canViewPierToWarehousePO\"\n            :to=\"{ name: 'pier-to-warehouse-purchase-order', params: { id: item.id } }\"\n          >\n            <v-icon\n              medium\n              class=\"mr-2\"\n            >\n              {{ mdiPageNextOutline }}\n            </v-icon>\n          </router-link>\n          <router-link\n            v-if=\"item.status === 'pier_to_warehouse' && permissions.canViewArrivalPO\"\n            :to=\"{ name: 'arrival-purchase-order', params: { id: item.id } }\"\n          >\n            <v-icon\n              medium\n              class=\"mr-2\"\n            >\n              {{ mdiPageNextOutline }}\n            </v-icon>\n          </router-link>\n          <v-icon\n            v-if=\"item.status === 'pier_to_warehouse' && permissions.canPrintBarcode\"\n            color=\"info\"\n            style=\"margin-left: 10px\"\n            medium\n            class=\"mr-2\"\n            @click=\"redirectPrint(item.id)\"\n          >\n            {{ mdiPrinter }}\n          </v-icon>\n        </div>\n      </template>\n      <template v-slot:no-data>\n        <v-btn\n          color=\"primary\"\n          @click=\"initialize\"\n        >\n          Reset\n        </v-btn>\n      </template>\n    </v-data-table>\n  </div>\n</template>\n\n<script>\nimport {\n  mdiBallotRecountOutline, mdiDeleteCircle, mdiPageNextOutline, mdiPrinter,\n} from '@mdi/js'\nimport {\n  GET_PURCHASE_ORDERS,\n  CLOSE_PURCHASE_ORDER,\n} from '@/store/actions.type'\nimport {\n  ref, nextTick, computed, onMounted,\n} from '@vue/composition-api'\nimport store from '@/store'\n\nexport default {\n  setup() {\n    const search = ref('')\n    const dialogDelete = ref(false)\n    const headers = ref([\n      {\n        text: 'Number',\n        align: 'start',\n        sortable: false,\n        value: 'id',\n      },\n      { text: 'Description', value: 'description' },\n      { text: 'Status', value: 'status', align: 'center' },\n      {\n        text: 'Actions', value: 'actions', align: 'center', sortable: false,\n      },\n    ])\n    const permissions = {\n      canCreatePO: store.getters['AuthStore/hasAbility']('create-purchase order'),\n      canViewPendingPO: store.getters['AuthStore/hasAbility']('view for approval-purchase order'),\n      canViewInTransitPO: store.getters['AuthStore/hasAbility']('view in transit-purchase order'),\n      canViewPierToWarehousePO: store.getters['AuthStore/hasAbility']('view pier to warehouse-purchase order'),\n      canViewArrivalPO: store.getters['AuthStore/hasAbility']('view arrival-purchase order'),\n      canPrintBarcode: store.getters['AuthStore/hasAbility']('print barcode-purchase order'),\n    }\n\n    const defaultItem = ref({\n      number: '',\n      container_number: '',\n      status: '',\n      paid_amount: '',\n      amount: '',\n      payment_method: '',\n      refunded_at: '',\n      paid_at: '',\n    })\n    const deletedIndex = ref(-1)\n    const deletedItem = ref({\n      name: '',\n      sku: '',\n      description: '',\n      in_stock: '',\n    })\n\n    const purchaseOrders = computed(() => store.getters.purchaseOrders)\n    const purchaseOrder = computed(() => store.getters.purchaseOrder)\n    const errors = computed(() => store.getters.errors)\n    const loading = computed(() => store.getters.loading)\n\n    const initialize = () => {\n      store.dispatch(GET_PURCHASE_ORDERS)\n    }\n\n    const redirectPrint = id => {\n      window.open(`https://enco-api.herokuapp.com/print-purchase-order/${id}`, '_blank')\n    }\n\n    const statusColor = {\n      /* eslint-disable key-spacing */\n      pier_to_warehouse: 'info',\n      in_transit: 'primary',\n      approved: 'success',\n      received: 'primary',\n      pending_approval: 'error',\n      arrived: 'success',\n      for_arrival: 'info',\n      /* eslint-enable key-spacing */\n    }\n\n    const status = {\n      pending_approval: 'NEEDS APPROVAL',\n      pier_to_warehouse: 'PIER TO WAREHOUSE',\n      arrived: 'ARRIVED AT WAREHOUSE',\n      approved: 'PO APPROVED',\n      for_arrival: 'ARRIVING TO WAREHOUSE',\n      in_transit: 'IN TRANSIT',\n    }\n\n    const deleteItem = item => {\n      deletedIndex.value = purchaseOrders.value.indexOf(item)\n      deletedItem.value = { ...item }\n      dialogDelete.value = true\n    }\n\n    const closeDelete = () => {\n      dialogDelete.value = false\n      nextTick(() => {\n        deletedItem.value = { ...defaultItem.value }\n        deletedIndex.value = -1\n      })\n    }\n\n    const deleteItemConfirm = () => {\n      store.dispatch(CLOSE_PURCHASE_ORDER, deletedItem.value).then(() => {\n        purchaseOrders.value.splice(deletedIndex.value, 1)\n        closeDelete()\n      })\n    }\n\n    onMounted(() => {\n      initialize()\n    })\n\n    return {\n      permissions,\n      statusColor,\n      status,\n      mdiBallotRecountOutline,\n      mdiDeleteCircle,\n      mdiPrinter,\n      mdiPageNextOutline,\n      defaultItem,\n      headers,\n      dialogDelete,\n      search,\n      purchaseOrders,\n      purchaseOrder,\n      errors,\n      deleteItem,\n      deleteItemConfirm,\n      closeDelete,\n      initialize,\n      redirectPrint,\n      deletedItem,\n      deletedIndex,\n      loading,\n    }\n  },\n}\n</script>\n"]}]}