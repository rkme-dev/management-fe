{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/thread-loader/dist/cjs.js!/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js!/Users/mark/projects/enco-fe/src/store/AuthStore.js","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/store/AuthStore.js","mtime":1656587346602},{"path":"/Users/mark/projects/enco-fe/babel.config.js","mtime":1655991784146},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/thread-loader/dist/cjs.js","mtime":1650363913040},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1652172763063}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL21hcmsvcHJvamVjdHMvZW5jby1mZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgQXV0aGVudGljYXRpb25TZXJ2aWNlIGZyb20gJy4uL3NlcnZpY2UvQXV0aGVudGljYXRpb25TZXJ2aWNlJzsKdmFyIGF1dGhlbnRpY2F0aW9uU2VydmljZSA9IG5ldyBBdXRoZW50aWNhdGlvblNlcnZpY2UoKTsKdmFyIHVzZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJykpOwp2YXIgaW5pdGlhbFN0YXRlID0gdXNlciA/IHsKICBzdGF0dXM6IHsKICAgIGxvZ2dlZEluOiB0cnVlCiAgfSwKICB1c2VyOiB1c2VyCn0gOiB7CiAgc3RhdHVzOiB7CiAgICBsb2dnZWRJbjogZmFsc2UKICB9LAogIHVzZXI6IG51bGwKfTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9wcmVmZXItZGVmYXVsdC1leHBvcnQKCmV4cG9ydCB2YXIgQXV0aFN0b3JlID0gewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IGluaXRpYWxTdGF0ZSwKICBhY3Rpb25zOiB7CiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2hhZG93CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oX3JlZiwgdXNlcikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgIHJldHVybiBhdXRoZW50aWNhdGlvblNlcnZpY2UubG9naW4odXNlcikudGhlbiggLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNoYWRvdwogICAgICBmdW5jdGlvbiAodXNlcikgewogICAgICAgIGNvbW1pdCgnbG9naW5TdWNjZXNzJywgdXNlcik7CiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh1c2VyKTsKICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29tbWl0KCdsb2dpbkZhaWx1cmUnKTsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IucmVzcG9uc2UpOwogICAgICB9KTsKICAgIH0sCiAgICByZWZyZXNoVG9rZW46IGZ1bmN0aW9uIHJlZnJlc2hUb2tlbihfcmVmMiwgYWNjZXNzVG9rZW4pIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgY29tbWl0KCdyZWZyZXNoVG9rZW4nLCBhY2Nlc3NUb2tlbik7CiAgICB9LAogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoX3JlZjMpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKICAgICAgYXV0aGVudGljYXRpb25TZXJ2aWNlLmxvZ291dCgpOwogICAgICBjb21taXQoJ2xvZ291dCcpOwogICAgfSAvLyByZWdpc3Rlcih7IGNvbW1pdCB9LCB1c2VyKSB7CiAgICAvLyAgICAgcmV0dXJuIEF1dGhTZXJ2aWNlLnJlZ2lzdGVyKHVzZXIpLnRoZW4oCiAgICAvLyAgICAgICAgIHJlc3BvbnNlID0+IHsKICAgIC8vICAgICAgICAgICAgIGNvbW1pdCgncmVnaXN0ZXJTdWNjZXNzJyk7CiAgICAvLyAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3BvbnNlLmRhdGEpOwogICAgLy8gICAgICAgICB9LAogICAgLy8gICAgICAgICBlcnJvciA9PiB7CiAgICAvLyAgICAgICAgICAgICBjb21taXQoJ3JlZ2lzdGVyRmFpbHVyZScpOwogICAgLy8gICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKICAgIC8vICAgICAgICAgfQogICAgLy8gICAgICk7CiAgICAvLyB9CgogIH0sCiAgbXV0YXRpb25zOiB7CiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2hhZG93CiAgICBsb2dpblN1Y2Nlc3M6IGZ1bmN0aW9uIGxvZ2luU3VjY2VzcyhzdGF0ZSwgdXNlcikgewogICAgICBzdGF0ZS5zdGF0dXMubG9nZ2VkSW4gPSB0cnVlOwogICAgICBzdGF0ZS51c2VyID0gdXNlcjsKICAgIH0sCiAgICBsb2dpbkZhaWx1cmU6IGZ1bmN0aW9uIGxvZ2luRmFpbHVyZShzdGF0ZSkgewogICAgICBzdGF0ZS5zdGF0dXMubG9nZ2VkSW4gPSBmYWxzZTsKICAgICAgc3RhdGUudXNlciA9IG51bGw7CiAgICB9LAogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoc3RhdGUpIHsKICAgICAgc3RhdGUuc3RhdHVzLmxvZ2dlZEluID0gZmFsc2U7CiAgICAgIHN0YXRlLnVzZXIgPSBudWxsOwogICAgfSwKICAgIHJlZnJlc2hUb2tlbjogZnVuY3Rpb24gcmVmcmVzaFRva2VuKHN0YXRlLCBhY2Nlc3NUb2tlbikgewogICAgICBzdGF0ZS5zdGF0dXMubG9nZ2VkSW4gPSB0cnVlOwogICAgICBzdGF0ZS51c2VyID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBzdGF0ZS51c2VyKSwge30sIHsKICAgICAgICBhY2Nlc3NfdG9rZW46IGFjY2Vzc1Rva2VuCiAgICAgIH0pOwogICAgfSwKICAgIHJlZ2lzdGVyU3VjY2VzczogZnVuY3Rpb24gcmVnaXN0ZXJTdWNjZXNzKHN0YXRlKSB7CiAgICAgIHN0YXRlLnN0YXR1cy5sb2dnZWRJbiA9IGZhbHNlOwogICAgfSwKICAgIHJlZ2lzdGVyRmFpbHVyZTogZnVuY3Rpb24gcmVnaXN0ZXJGYWlsdXJlKHN0YXRlKSB7CiAgICAgIHN0YXRlLnN0YXR1cy5sb2dnZWRJbiA9IGZhbHNlOwogICAgfQogIH0KfTs="},{"version":3,"names":["AuthenticationService","authenticationService","user","JSON","parse","localStorage","getItem","initialState","status","loggedIn","AuthStore","namespaced","state","actions","login","commit","then","Promise","resolve","error","reject","catch","response","refreshToken","accessToken","logout","mutations","loginSuccess","loginFailure","access_token","registerSuccess","registerFailure"],"sources":["/Users/mark/projects/enco-fe/src/store/AuthStore.js"],"sourcesContent":["import AuthenticationService from '../service/AuthenticationService'\n\nconst authenticationService = new AuthenticationService()\n\nconst user = JSON.parse(localStorage.getItem('user'))\n\nconst initialState = user\n  ? { status: { loggedIn: true }, user }\n  : { status: { loggedIn: false }, user: null }\n\n// eslint-disable-next-line import/prefer-default-export\nexport const AuthStore = {\n  namespaced: true,\n  state: initialState,\n  actions: {\n    // eslint-disable-next-line no-shadow\n    login({ commit }, user) {\n      return authenticationService.login(user)\n        .then(\n          // eslint-disable-next-line no-shadow\n          user => {\n            commit('loginSuccess', user)\n\n            return Promise.resolve(user)\n          },\n          error => {\n            commit('loginFailure')\n\n            return Promise.reject(error)\n          },\n        ).catch(error => Promise.reject(error.response))\n    },\n    refreshToken({ commit }, accessToken) {\n      commit('refreshToken', accessToken)\n    },\n    logout({ commit }) {\n      authenticationService.logout()\n      commit('logout')\n    },\n\n    // register({ commit }, user) {\n    //     return AuthService.register(user).then(\n    //         response => {\n    //             commit('registerSuccess');\n    //             return Promise.resolve(response.data);\n    //         },\n    //         error => {\n    //             commit('registerFailure');\n    //             return Promise.reject(error);\n    //         }\n    //     );\n    // }\n  },\n  mutations: {\n    // eslint-disable-next-line no-shadow\n    loginSuccess(state, user) {\n      state.status.loggedIn = true\n      state.user = user\n    },\n    loginFailure(state) {\n      state.status.loggedIn = false\n      state.user = null\n    },\n    logout(state) {\n      state.status.loggedIn = false\n      state.user = null\n    },\n    refreshToken(state, accessToken) {\n      state.status.loggedIn = true\n      state.user = { ...state.user, access_token: accessToken }\n    },\n    registerSuccess(state) {\n      state.status.loggedIn = false\n    },\n    registerFailure(state) {\n      state.status.loggedIn = false\n    },\n  },\n}\n"],"mappings":";;AAAA,OAAOA,qBAAP,MAAkC,kCAAlC;AAEA,IAAMC,qBAAqB,GAAG,IAAID,qBAAJ,EAA9B;AAEA,IAAME,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb;AAEA,IAAMC,YAAY,GAAGL,IAAI,GACrB;EAAEM,MAAM,EAAE;IAAEC,QAAQ,EAAE;EAAZ,CAAV;EAA8BP,IAAI,EAAJA;AAA9B,CADqB,GAErB;EAAEM,MAAM,EAAE;IAAEC,QAAQ,EAAE;EAAZ,CAAV;EAA+BP,IAAI,EAAE;AAArC,CAFJ,C,CAIA;;AACA,OAAO,IAAMQ,SAAS,GAAG;EACvBC,UAAU,EAAE,IADW;EAEvBC,KAAK,EAAEL,YAFgB;EAGvBM,OAAO,EAAE;IACP;IACAC,KAFO,uBAEWZ,IAFX,EAEiB;MAAA,IAAhBa,MAAgB,QAAhBA,MAAgB;MACtB,OAAOd,qBAAqB,CAACa,KAAtB,CAA4BZ,IAA5B,EACJc,IADI,EAEH;MACA,UAAAd,IAAI,EAAI;QACNa,MAAM,CAAC,cAAD,EAAiBb,IAAjB,CAAN;QAEA,OAAOe,OAAO,CAACC,OAAR,CAAgBhB,IAAhB,CAAP;MACD,CAPE,EAQH,UAAAiB,KAAK,EAAI;QACPJ,MAAM,CAAC,cAAD,CAAN;QAEA,OAAOE,OAAO,CAACG,MAAR,CAAeD,KAAf,CAAP;MACD,CAZE,EAaHE,KAbG,CAaG,UAAAF,KAAK;QAAA,OAAIF,OAAO,CAACG,MAAR,CAAeD,KAAK,CAACG,QAArB,CAAJ;MAAA,CAbR,CAAP;IAcD,CAjBM;IAkBPC,YAlBO,+BAkBkBC,WAlBlB,EAkB+B;MAAA,IAAvBT,MAAuB,SAAvBA,MAAuB;MACpCA,MAAM,CAAC,cAAD,EAAiBS,WAAjB,CAAN;IACD,CApBM;IAqBPC,MArBO,yBAqBY;MAAA,IAAVV,MAAU,SAAVA,MAAU;MACjBd,qBAAqB,CAACwB,MAAtB;MACAV,MAAM,CAAC,QAAD,CAAN;IACD,CAxBM,CA0BP;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;EArCO,CAHc;EA0CvBW,SAAS,EAAE;IACT;IACAC,YAFS,wBAEIf,KAFJ,EAEWV,IAFX,EAEiB;MACxBU,KAAK,CAACJ,MAAN,CAAaC,QAAb,GAAwB,IAAxB;MACAG,KAAK,CAACV,IAAN,GAAaA,IAAb;IACD,CALQ;IAMT0B,YANS,wBAMIhB,KANJ,EAMW;MAClBA,KAAK,CAACJ,MAAN,CAAaC,QAAb,GAAwB,KAAxB;MACAG,KAAK,CAACV,IAAN,GAAa,IAAb;IACD,CATQ;IAUTuB,MAVS,kBAUFb,KAVE,EAUK;MACZA,KAAK,CAACJ,MAAN,CAAaC,QAAb,GAAwB,KAAxB;MACAG,KAAK,CAACV,IAAN,GAAa,IAAb;IACD,CAbQ;IAcTqB,YAdS,wBAcIX,KAdJ,EAcWY,WAdX,EAcwB;MAC/BZ,KAAK,CAACJ,MAAN,CAAaC,QAAb,GAAwB,IAAxB;MACAG,KAAK,CAACV,IAAN,mCAAkBU,KAAK,CAACV,IAAxB;QAA8B2B,YAAY,EAAEL;MAA5C;IACD,CAjBQ;IAkBTM,eAlBS,2BAkBOlB,KAlBP,EAkBc;MACrBA,KAAK,CAACJ,MAAN,CAAaC,QAAb,GAAwB,KAAxB;IACD,CApBQ;IAqBTsB,eArBS,2BAqBOnB,KArBP,EAqBc;MACrBA,KAAK,CAACJ,MAAN,CAAaC,QAAb,GAAwB,KAAxB;IACD;EAvBQ;AA1CY,CAAlB"}]}