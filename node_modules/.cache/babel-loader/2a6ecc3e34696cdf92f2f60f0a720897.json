{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js!/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/projects/enco-fe/src/views/pages/logistics/trip-tickets/TripTicketForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/views/pages/logistics/trip-tickets/TripTicketForm.vue","mtime":1665378135696},{"path":"/Users/mark/projects/enco-fe/babel.config.js","mtime":1655991784146},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1665368576185},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1665368576151},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1665368576185},{"path":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js","mtime":1665368593779}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL21hcmsvcHJvamVjdHMvZW5jby1mZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcmVnZW5lcmF0b3JSdW50aW1lLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9tYXJrL3Byb2plY3RzL2VuY28tZmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBjb21wdXRlZCwgcmVmLCB0b1JlZiwgb25Nb3VudGVkLCB3YXRjaCB9IGZyb20gJ0B2dWUvY29tcG9zaXRpb24tYXBpJzsKaW1wb3J0IHsgbWRpQWNjb3VudFBsdXNPdXRsaW5lLCBtZGlDYXJkT2ZmLCBtZGlDdXJyZW5jeVNpZ24sIG1kaUluZm9ybWF0aW9uIH0gZnJvbSAnQG1kaS9qcyc7CmltcG9ydCBzdG9yZSBmcm9tICdAL3N0b3JlJzsKaW1wb3J0IFNhbGVzRHJJdGVtU2VsZWN0aW9uIGZyb20gJy4vU2FsZXNEckl0ZW1TZWxlY3Rpb24udnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdUcmlwVGlja2V0Rm9ybScsCiAgY29tcG9uZW50czogewogICAgU2FsZXNEckl0ZW1TZWxlY3Rpb246IFNhbGVzRHJJdGVtU2VsZWN0aW9uCiAgfSwKICBwcm9wczogewogICAgbW9kZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gJ0NyZWF0ZSc7CiAgICAgIH0KICAgIH0sCiAgICBkYXRhOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgYXJlYTogbnVsbAogICAgICAgIH07CiAgICAgIH0KICAgIH0KICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cChwcm9wcywgX3JlZikgewogICAgdmFyIGVtaXQgPSBfcmVmLmVtaXQ7CiAgICB2YXIgYXJlYXMgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBzdG9yZS5zdGF0ZS5TYWxlc0RyU3RvcmUuYXJlYXM7CiAgICB9KTsKICAgIHZhciBlcnJvcnMgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBzdG9yZS5zdGF0ZS5UcmlwVGlja2V0U3RvcmUuZXJyb3JzOwogICAgfSk7CiAgICB2YXIgZGF0YVByb3AgPSB0b1JlZihwcm9wcywgJ2RhdGEnKTsKICAgIHZhciBkb2N1bWVudHMgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBzdG9yZS5zdGF0ZS5Eb2N1bWVudFN0b3JlLmRvY3VtZW50cy5maWx0ZXIoZnVuY3Rpb24gKGRvY3VtZW50SXRlbSkgewogICAgICAgIGlmIChkb2N1bWVudEl0ZW0ubW9kdWxlID09PSAnVHJpcC10aWNrZXQnKSB7CiAgICAgICAgICBkb2N1bWVudEl0ZW0udGl0bGUgPSAiIi5jb25jYXQoZG9jdW1lbnRJdGVtLmRvY3VtZW50X25hbWUpOwogICAgICAgICAgcmV0dXJuIGRvY3VtZW50SXRlbTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSk7CiAgICB2YXIgZHJMaXN0RGlhbG9nID0gcmVmKGZhbHNlKTsKICAgIHZhciBmb3JtRGF0YSA9IHJlZih7CiAgICAgIGFyZWE6IG51bGwKICAgIH0pOwogICAgdmFyIHNlbGVjdGVkRHJJdGVtcyA9IHJlZihbXSk7CiAgICB2YXIgZHJJdGVtc1NlbGVjdGlvbiA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHN0b3JlLnN0YXRlLlNhbGVzRHJTdG9yZS5pdGVtczsKICAgIH0pOwogICAgdmFyIGRhdGVQb3N0ZWQgPSByZWYobmV3IERhdGUoKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCkpOwogICAgdmFyIG1vZGVEYXRhID0gdG9SZWYocHJvcHMsICdtb2RlJyk7CiAgICB2YXIgaGVhZGVycyA9IFt7CiAgICAgIHRleHQ6ICdEYXRlJywKICAgICAgYWxpZ246ICdzdGFydCcsCiAgICAgIHNvcnRhYmxlOiBmYWxzZSwKICAgICAgdmFsdWU6ICdzYWxlc19kcl9pdGVtLnNhbGVzX2RyLmRhdGVfcG9zdGVkJwogICAgfSwgewogICAgICB0ZXh0OiAnRFIgTnVtYmVyJywKICAgICAgdmFsdWU6ICdzYWxlc19kcl9pdGVtLnNhbGVzX2RyLnNhbGVzX2RyX251bWJlcicKICAgIH0sIHsKICAgICAgdGV4dDogJ0N1c3RvbWVyJywKICAgICAgdmFsdWU6ICdzYWxlc19kcl9pdGVtLnNhbGVzX2RyLmN1c3RvbWVyLm5hbWUnCiAgICB9LCB7CiAgICAgIHRleHQ6ICdBcmVhJywKICAgICAgdmFsdWU6ICdzYWxlc19kcl9pdGVtLnNhbGVzX2RyLmFyZWEnCiAgICB9LCB7CiAgICAgIHRleHQ6ICdJdGVtIE5hbWUnLAogICAgICB2YWx1ZTogJ3Byb2R1Y3QubmFtZScKICAgIH0sIHsKICAgICAgdGV4dDogJ1F1YW50aXR5JywKICAgICAgdmFsdWU6ICdxdWFudGl0eScKICAgIH0sIHsKICAgICAgdGV4dDogJ1VuaXQnLAogICAgICB2YWx1ZTogJ3VuaXQnCiAgICB9XTsKCiAgICB2YXIgcmVJbml0aWFsaXplU2VsZWN0ZWRJdGVtID0gZnVuY3Rpb24gcmVJbml0aWFsaXplU2VsZWN0ZWRJdGVtKCkgewogICAgICB2YXIgX2RhdGFQcm9wJHZhbHVlJG9yZGVyOwoKICAgICAgc2VsZWN0ZWREckl0ZW1zLnZhbHVlID0gW107IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtZXhwcmVzc2lvbnMKCiAgICAgIChfZGF0YVByb3AkdmFsdWUkb3JkZXIgPSBkYXRhUHJvcC52YWx1ZS5vcmRlcl9pdGVtcykgPT09IG51bGwgfHwgX2RhdGFQcm9wJHZhbHVlJG9yZGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZGF0YVByb3AkdmFsdWUkb3JkZXIuZm9yRWFjaChmdW5jdGlvbiAob3JkZXJJdGVtKSB7CiAgICAgICAgdmFyIF9kckl0ZW1zU2VsZWN0aW9uJHZhbDsKCiAgICAgICAgaWYgKGRySXRlbXNTZWxlY3Rpb24udmFsdWUubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICB2YXIgZXhpc3QgPSAoX2RySXRlbXNTZWxlY3Rpb24kdmFsID0gZHJJdGVtc1NlbGVjdGlvbi52YWx1ZSkgPT09IG51bGwgfHwgX2RySXRlbXNTZWxlY3Rpb24kdmFsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZHJJdGVtc1NlbGVjdGlvbiR2YWwuZmluZChmdW5jdGlvbiAoaXRlbVNlbGVjdGlvbikgewogICAgICAgICAgcmV0dXJuIGl0ZW1TZWxlY3Rpb24uaWQgPT09IG9yZGVySXRlbS5pZDsKICAgICAgICB9KTsKCiAgICAgICAgaWYgKGV4aXN0KSB7CiAgICAgICAgICBzZWxlY3RlZERySXRlbXMudmFsdWUucHVzaChleGlzdCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH07CgogICAgdmFyIGluaXRpYWxpemUgPSBmdW5jdGlvbiBpbml0aWFsaXplKCkgewogICAgICB2YXIgX2RhdGFQcm9wJHZhbHVlOwoKICAgICAgc3RvcmUuZGlzcGF0Y2goJ1NhbGVzRHJTdG9yZS9nZXRBcmVhcycpOwogICAgICBzdG9yZS5kaXNwYXRjaCgnRG9jdW1lbnRTdG9yZS9saXN0Jyk7CiAgICAgIGZvcm1EYXRhLnZhbHVlID0gKF9kYXRhUHJvcCR2YWx1ZSA9IGRhdGFQcm9wLnZhbHVlKSAhPT0gbnVsbCAmJiBfZGF0YVByb3AkdmFsdWUgIT09IHZvaWQgMCA/IF9kYXRhUHJvcCR2YWx1ZSA6IGZvcm1EYXRhLnZhbHVlOwoKICAgICAgaWYgKGRhdGFQcm9wLnZhbHVlLmFyZWEgJiYgZGF0YVByb3AudmFsdWUuaWQpIHsKICAgICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAgIGFyZWE6IGRhdGFQcm9wLnZhbHVlLmFyZWEsCiAgICAgICAgICBpZDogZGF0YVByb3AudmFsdWUuaWQKICAgICAgICB9OwogICAgICAgIHN0b3JlLmRpc3BhdGNoKCdTYWxlc0RyU3RvcmUvZ2V0VW5saW5rSXRlbXMnLCBkYXRhKTsKICAgICAgfQogICAgfTsKCiAgICBvbk1vdW50ZWQoIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBpbml0aWFsaXplKCk7CgogICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKTsKCiAgICB2YXIgY2FuY2VsID0gZnVuY3Rpb24gY2FuY2VsKCkgewogICAgICBlbWl0KCdzdWJtaXQnKTsKICAgIH07CgogICAgdmFyIGFkZE9yVXBkYXRlSXRlbXMgPSBmdW5jdGlvbiBhZGRPclVwZGF0ZUl0ZW1zKGl0ZW1zKSB7CiAgICAgIHNlbGVjdGVkRHJJdGVtcy52YWx1ZSA9IGl0ZW1zOwogICAgICBkckxpc3REaWFsb2cudmFsdWUgPSBmYWxzZTsKICAgIH07CgogICAgdmFyIHN1Ym1pdCA9IGZ1bmN0aW9uIHN1Ym1pdCgpIHsKICAgICAgdmFyIHBheWxvYWQgPSBmb3JtRGF0YS52YWx1ZTsKICAgICAgcGF5bG9hZC5kYXRlX3Bvc3RlZCA9IGRhdGVQb3N0ZWQudmFsdWU7CiAgICAgIHBheWxvYWQuZHJfaXRlbXMgPSBzZWxlY3RlZERySXRlbXMudmFsdWUubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uaWQ7CiAgICAgIH0pOwoKICAgICAgaWYgKG1vZGVEYXRhLnZhbHVlID09PSAnQ3JlYXRlJykgewogICAgICAgIHN0b3JlLmRpc3BhdGNoKCdUcmlwVGlja2V0U3RvcmUvY3JlYXRlJywgcGF5bG9hZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICBlbWl0KCdzdWJtaXQnLCByZXNwb25zZS5kYXRhKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBzdG9yZS5kaXNwYXRjaCgnVHJpcFRpY2tldFN0b3JlL3VwZGF0ZScsIHBheWxvYWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgZW1pdCgnc3VibWl0JywgcmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH07CgogICAgdmFyIGFyZWFDaGFuZ2VkID0gZnVuY3Rpb24gYXJlYUNoYW5nZWQoKSB7CiAgICAgIHNlbGVjdGVkRHJJdGVtcy52YWx1ZSA9IFtdOwogICAgfTsKCiAgICB2YXIgdXBkYXRlVG9JblRyYW5zaXQgPSBmdW5jdGlvbiB1cGRhdGVUb0luVHJhbnNpdCgpIHsKICAgICAgc3RvcmUuZGlzcGF0Y2goJ1RyaXBUaWNrZXRTdG9yZS91cGRhdGVUb0luVHJhbnNpdCcsIGZvcm1EYXRhLnZhbHVlKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgZW1pdCgnc3VibWl0JywgcmVzcG9uc2UuZGF0YSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH07CgogICAgdmFyIHVwZGF0ZVRvRGVsaXZlcmVkID0gZnVuY3Rpb24gdXBkYXRlVG9EZWxpdmVyZWQoKSB7CiAgICAgIHN0b3JlLmRpc3BhdGNoKCdUcmlwVGlja2V0U3RvcmUvdXBkYXRlVG9EZWxpdmVyZWQnLCBmb3JtRGF0YS52YWx1ZSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIGVtaXQoJ3N1Ym1pdCcsIHJlc3BvbnNlLmRhdGEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9OwoKICAgIHdhdGNoKGRySXRlbXNTZWxlY3Rpb24sIGZ1bmN0aW9uICgpIHsKICAgICAgcmVJbml0aWFsaXplU2VsZWN0ZWRJdGVtKCk7CiAgICB9KTsKICAgIHdhdGNoKGRhdGFQcm9wLCBmdW5jdGlvbiAoKSB7CiAgICAgIGluaXRpYWxpemUoKTsKICAgIH0pOwogICAgcmV0dXJuIHsKICAgICAgYXJlYUNoYW5nZWQ6IGFyZWFDaGFuZ2VkLAogICAgICBhZGRPclVwZGF0ZUl0ZW1zOiBhZGRPclVwZGF0ZUl0ZW1zLAogICAgICBhcmVhczogYXJlYXMsCiAgICAgIGNhbmNlbDogY2FuY2VsLAogICAgICB1cGRhdGVUb0luVHJhbnNpdDogdXBkYXRlVG9JblRyYW5zaXQsCiAgICAgIHVwZGF0ZVRvRGVsaXZlcmVkOiB1cGRhdGVUb0RlbGl2ZXJlZCwKICAgICAgZGF0ZVBvc3RlZDogZGF0ZVBvc3RlZCwKICAgICAgZG9jdW1lbnRzOiBkb2N1bWVudHMsCiAgICAgIGRyTGlzdERpYWxvZzogZHJMaXN0RGlhbG9nLAogICAgICBlcnJvcnM6IGVycm9ycywKICAgICAgZm9ybURhdGE6IGZvcm1EYXRhLAogICAgICBoZWFkZXJzOiBoZWFkZXJzLAogICAgICBpY29uczogewogICAgICAgIG1kaUluZm9ybWF0aW9uOiBtZGlJbmZvcm1hdGlvbiwKICAgICAgICBtZGlBY2NvdW50UGx1c091dGxpbmU6IG1kaUFjY291bnRQbHVzT3V0bGluZSwKICAgICAgICBtZGlDYXJkT2ZmOiBtZGlDYXJkT2ZmLAogICAgICAgIG1kaUN1cnJlbmN5U2lnbjogbWRpQ3VycmVuY3lTaWduCiAgICAgIH0sCiAgICAgIHNlbGVjdGVkRHJJdGVtczogc2VsZWN0ZWREckl0ZW1zLAogICAgICBzdWJtaXQ6IHN1Ym1pdAogICAgfTsKICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqSA,SACAA,QADA,EACAC,GADA,EACAC,KADA,EACAC,SADA,EACAC,KADA,QAEA,sBAFA;AAGA,SACAC,qBADA,EACAC,UADA,EACAC,eADA,EAEAC,cAFA,QAGA,SAHA;AAIA;AACA;AAEA;EACAC,sBADA;EAEAC;IACAC;EADA,CAFA;EAKAC;IACAC;MACAC,YADA;MAEAC,cAFA;MAGAC;QAAA;MAAA;IAHA,CADA;IAMAC;MACAH,YADA;MAEAC,eAFA;MAGAC;QAAA;UACAE;QADA;MAAA;IAHA;EANA,CALA;EAmBAC,KAnBA,iBAmBAP,KAnBA,QAmBA;IAAA;IACA;MAAA;IAAA;IACA;MAAA;IAAA;IACA;IACA;MAAA;QACA;UACAQ;UAEA;QACA;MACA,CANA;IAAA;IAOA;IACA;MACAF;IADA;IAGA;IACA;MAAA;IAAA;IACA;IACA;IACA,eACA;MACAG,YADA;MAEAC,cAFA;MAGAC,eAHA;MAIAC;IAJA,CADA,EAOA;MAAAH;MAAAG;IAAA,CAPA,EAQA;MAAAH;MAAAG;IAAA,CARA,EASA;MAAAH;MAAAG;IAAA,CATA,EAUA;MAAAH;MAAAG;IAAA,CAVA,EAWA;MAAAH;MAAAG;IAAA,CAXA,EAYA;MAAAH;MAAAG;IAAA,CAZA;;IAeA;MAAA;;MACAC,2BADA,CAGA;;MACA;QAAA;;QACA;UACA;QACA;;QAEA;UAAA;QAAA;;QAEA;UACAA;QACA;MACA,CAVA;IAWA,CAfA;;IAiBA;MAAA;;MACAC;MACAA;MAEAC;;MAEA;QACA;UACAT,yBADA;UAEAU;QAFA;QAKAF;MACA;IACA,CAdA;;IAgBAvB;MAAA;QAAA;UAAA;YAAA;cACA0B;;YADA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;;IAIA;MACAC;IACA,CAFA;;IAIA;MACAL;MACAM;IACA,CAHA;;IAKA;MACA;MACAC;MACAA;QAAA;MAAA;;MAEA;QACAN,uDACA;UACA;YACAI;UACA;QACA,CALA;MAOA,CARA,MAQA;QACAJ,uDACA;UACA;YACAI;UACA;QACA,CALA;MAOA;IACA,CAtBA;;IAwBA;MACAL;IACA,CAFA;;IAIA;MACAC,yEACA;QACA;UACAI;QACA;MACA,CALA;IAOA,CARA;;IAUA;MACAJ,yEACA;QACA;UACAI;QACA;MACA,CALA;IAOA,CARA;;IAUA1B;MACA6B;IACA,CAFA;IAIA7B;MACAyB;IACA,CAFA;IAIA;MACAK,wBADA;MAEAC,kCAFA;MAGAC,YAHA;MAIAC,cAJA;MAKAC,oCALA;MAMAC,oCANA;MAOAC,sBAPA;MAQAC,oBARA;MASAV,0BATA;MAUAW,cAVA;MAWAf,kBAXA;MAYAgB,gBAZA;MAaAC;QACApC,8BADA;QAEAH,4CAFA;QAGAC,sBAHA;QAIAC;MAJA,CAbA;MAmBAkB,gCAnBA;MAoBAoB;IApBA;EAsBA;AAjLA","names":["computed","ref","toRef","onMounted","watch","mdiAccountPlusOutline","mdiCardOff","mdiCurrencySign","mdiInformation","name","components","SalesDrItemSelection","props","mode","type","required","default","data","area","setup","documentItem","text","align","sortable","value","selectedDrItems","store","formData","id","initialize","emit","drListDialog","payload","reInitializeSelectedItem","areaChanged","addOrUpdateItems","areas","cancel","updateToInTransit","updateToDelivered","datePosted","documents","errors","headers","icons","submit"],"sourceRoot":"src/views/pages/logistics/trip-tickets","sources":["TripTicketForm.vue"],"sourcesContent":["<template>\n  <v-card>\n    <v-card-title class=\"pa-6\">\n      {{ mode }} Trip Ticket\n    </v-card-title>\n    <v-card-text>\n      <v-form>\n        <v-row>\n          <v-col cols=\"12\">\n            <v-alert\n              color=\"primary\"\n              text\n              style=\"margin-bottom: -10px\"\n            >\n              <div class=\"d-flex align-start\">\n                <v-icon color=\"primary\">\n                  {{ icons.mdiInformation }}\n                </v-icon>\n                <div class=\"ms-3\">\n                  <p class=\"text-base font-weight-medium mb-1\">\n                    Information\n                  </p>\n                </div>\n              </div>\n            </v-alert>\n          </v-col>\n          <v-col\n            cols=\"6\"\n            class=\"pr-8 pl-8\"\n          >\n            <v-menu\n              v-model=\"formData.dateModal\"\n              :close-on-content-click=\"false\"\n              transition=\"scale-transition\"\n              offset-y\n              :disabled=\"formData.status === 'In Transit'\"\n              max-width=\"290px\"\n              min-width=\"auto\"\n            >\n              <template v-slot:activator=\"{ on, attrs }\">\n                <v-text-field\n                  v-model=\"datePosted\"\n                  label=\"Date\"\n                  persistent-hint\n                  :prepend-icon=\"icons.mdiCalendar\"\n                  readonly\n                  v-bind=\"attrs\"\n                  v-on=\"on\"\n                ></v-text-field>\n              </template>\n\n              <v-date-picker\n                v-model=\"datePosted\"\n                no-title\n                color=\"primary\"\n                @input=\"formData.dateModal = false\"\n              ></v-date-picker>\n            </v-menu>\n          </v-col>\n          <v-col\n            cols=\"3\"\n            class=\"pr-8 pl-8\"\n          >\n            <v-text-field\n              v-model=\"formData.trip_ticket_number\"\n              outlined\n              :disabled=\"formData.status === 'In Transit'\"\n              :error-messages=\"errors.trip_ticket_number\"\n              dense\n              hide-details=\"auto\"\n              label=\"Trip Ticket Order Number\"\n            ></v-text-field>\n          </v-col>\n          <v-col\n            cols=\"3\"\n            class=\"pr-8 pl-8\"\n          >\n          </v-col>\n          <v-col cols=\"4\">\n            <v-select\n              v-model=\"formData.area\"\n              :items=\"areas\"\n              label=\"Area\"\n              :disabled=\"formData.status === 'In Transit'\"\n              :error-messages=\"errors.area\"\n              outlined\n              dense\n              hide-details=\"auto\"\n              @change=\"areaChanged\"\n            >\n            </v-select>\n          </v-col>\n          <v-col cols=\"1\"></v-col>\n          <v-col cols=\"4\">\n            <v-select\n              v-model=\"formData.document_id\"\n              :items=\"documents\"\n              item-text=\"title\"\n              item-value=\"id\"\n              label=\"Document\"\n              :disabled=\"formData.status === 'In Transit'\"\n              :error-messages=\"errors.document_id\"\n              outlined\n              dense\n              hide-details=\"auto\"\n            ></v-select>\n          </v-col>\n          <v-col cols=\"\"></v-col>\n          <v-col cols=\"4\">\n            <v-text-field\n              v-model=\"formData.driver\"\n              outlined\n              :error-messages=\"errors.driver\"\n              dense\n              :disabled=\"formData.status === 'In Transit'\"\n              hide-details=\"auto\"\n              label=\"Driver\"\n            ></v-text-field>\n          </v-col>\n          <v-col cols=\"6\"></v-col>\n          <v-col cols=\"4\">\n            <v-text-field\n              v-model=\"formData.assistant\"\n              outlined\n              :disabled=\"formData.status === 'In Transit'\"\n              :error-messages=\"errors.assistant\"\n              dense\n              hide-details=\"auto\"\n              label=\"Assistant\"\n            ></v-text-field>\n          </v-col>\n          <v-col cols=\"6\"></v-col>\n          <v-col cols=\"4\">\n            <v-text-field\n              v-model=\"formData.truck\"\n              outlined\n              :disabled=\"formData.status === 'In Transit'\"\n              :error-messages=\"errors.truck\"\n              dense\n              hide-details=\"auto\"\n              label=\"Truck\"\n            ></v-text-field>\n          </v-col>\n          <v-col cols=\"1\"></v-col>\n          <v-col\n            cols=\"6\"\n            class=\"mt-n16\"\n          >\n            <v-textarea\n              v-model=\"formData.remarks\"\n              outlined\n              dense\n              :disabled=\"formData.status === 'In Transit'\"\n              label=\"Remarks\"\n            ></v-textarea>\n          </v-col>\n          <v-col\n            cols=\"4\"\n            class=\"mt-n16\"\n          >\n            <v-text-field\n              v-model=\"formData.plate_number\"\n              outlined\n              :disabled=\"formData.status === 'In Transit'\"\n              :error-messages=\"errors.plate_number\"\n              dense\n              hide-details=\"auto\"\n              label=\"Plate Number\"\n            ></v-text-field>\n          </v-col>\n        </v-row>\n        <v-row\n          v-if=\"formData.area\"\n          class=\"mt-8\"\n        >\n          <v-col cols=\"12\">\n            <v-alert\n              color=\"success\"\n              text\n              style=\"margin-bottom: -10px\"\n            >\n              <div class=\"d-flex align-start\">\n                <v-icon color=\"success\">\n                  {{ icons.mdiInformation }}\n                </v-icon>\n                <div class=\"ms-3\">\n                  <p class=\"text-base font-weight-medium mb-1\">\n                    Sales DR Items\n                  </p>\n                </div>\n              </div>\n            </v-alert>\n          </v-col>\n          <v-col cols=\"10\"></v-col>\n          <v-col\n            cols=\"2\"\n            class=\"ml-n4\"\n          >\n            <v-btn\n              v-if=\"formData.status !== 'In Transit'\"\n              dense\n              color=\"success\"\n              @click=\"drListDialog=true\"\n            >\n              Add Sales DR Items\n            </v-btn>\n          </v-col>\n          <v-col cols=\"12\">\n            <v-data-table\n              :headers=\"headers\"\n              :items=\"selectedDrItems\"\n            >\n            </v-data-table>\n          </v-col>\n        </v-row>\n        <v-row>\n          <v-col\n            cols=\"auto\"\n            class=\"d-flex\"\n          >\n            <v-btn\n              v-if=\"selectedDrItems.length > 0 && formData.status !== 'In Transit'\"\n              color=\"primary\"\n              class=\"me-3 mt-4\"\n              @click=\"submit\"\n            >\n              <v-icon>\n                {{ icons.mdiContentSave }}\n              </v-icon>\n              {{ mode == 'Create' ? 'Create' : 'Update' }}\n            </v-btn>\n            <v-btn\n              v-if=\"formData.status === 'For Transit'\"\n              color=\"success\"\n              class=\"me-3 mt-4\"\n              @click=\"updateToInTransit\"\n            >\n              <v-icon>\n                {{ icons.mdiFinance }}\n              </v-icon>\n              In Transit\n            </v-btn>\n            <v-btn\n              v-if=\"formData.status === 'In Transit'\"\n              color=\"primary\"\n              class=\"me-3 mt-4\"\n              @click=\"updateToDelivered\"\n            >\n              <v-icon>\n                {{ icons.mdiFinance }}\n              </v-icon>\n              Delivered\n            </v-btn>\n            <v-btn\n              outlined\n              class=\"me-3 mt-4\"\n              type=\"reset\"\n              color=\"info\"\n              @click.prevent=\"cancel\"\n            >\n              <v-icon>\n                {{ icons.mdiProgressClose }}\n              </v-icon>\n              Close\n            </v-btn>\n          </v-col>\n        </v-row>\n      </v-form>\n      <v-dialog\n        v-model=\"drListDialog\"\n        hide-overlay\n        width=\"1100px\"\n        height=\"700px\"\n        transition=\"dialog-bottom-transition\"\n      >\n        <v-card class=\"elevation-13\">\n          <v-card-text class=\"pa-10\">\n            <sales-dr-item-selection\n              :id=\"formData.id\"\n              :area=\"formData.area\"\n              :selected-items=\"selectedDrItems\"\n              @cancel=\"drListDialog=false\"\n              @addOrUpdateItems=\"addOrUpdateItems\"\n            >\n            </sales-dr-item-selection>\n          </v-card-text>\n        </v-card>\n      </v-dialog>\n    </v-card-text>\n  </v-card>\n</template>\n\n<script>\nimport {\n  computed, ref, toRef, onMounted, watch,\n} from '@vue/composition-api'\nimport {\n  mdiAccountPlusOutline, mdiCardOff, mdiCurrencySign,\n  mdiInformation,\n} from '@mdi/js'\nimport store from '@/store'\nimport SalesDrItemSelection from './SalesDrItemSelection.vue'\n\nexport default {\n  name: 'TripTicketForm',\n  components: {\n    SalesDrItemSelection,\n  },\n  props: {\n    mode: {\n      type: String,\n      required: true,\n      default: (() => 'Create'),\n    },\n    data: {\n      type: Object,\n      required: false,\n      default: (() => ({\n        area: null,\n      })),\n    },\n  },\n  setup(props, { emit }) {\n    const areas = computed(() => store.state.SalesDrStore.areas)\n    const errors = computed(() => store.state.TripTicketStore.errors)\n    const dataProp = toRef(props, 'data')\n    const documents = computed(() => store.state.DocumentStore.documents.filter(documentItem => {\n      if (documentItem.module === 'Trip-ticket') {\n        documentItem.title = `${documentItem.document_name}`\n\n        return documentItem\n      }\n    }))\n    const drListDialog = ref(false)\n    const formData = ref({\n      area: null,\n    })\n    const selectedDrItems = ref([])\n    const drItemsSelection = computed(() => store.state.SalesDrStore.items)\n    const datePosted = ref(new Date().toISOString().substr(0, 10))\n    const modeData = toRef(props, 'mode')\n    const headers = [\n      {\n        text: 'Date',\n        align: 'start',\n        sortable: false,\n        value: 'sales_dr_item.sales_dr.date_posted',\n      },\n      { text: 'DR Number', value: 'sales_dr_item.sales_dr.sales_dr_number' },\n      { text: 'Customer', value: 'sales_dr_item.sales_dr.customer.name' },\n      { text: 'Area', value: 'sales_dr_item.sales_dr.area' },\n      { text: 'Item Name', value: 'product.name' },\n      { text: 'Quantity', value: 'quantity' },\n      { text: 'Unit', value: 'unit' },\n    ]\n\n    const reInitializeSelectedItem = () => {\n      selectedDrItems.value = []\n\n      // eslint-disable-next-line no-unused-expressions\n      dataProp.value.order_items?.forEach(orderItem => {\n        if (drItemsSelection.value.length === 0) {\n          return\n        }\n\n        const exist = drItemsSelection.value?.find(itemSelection => itemSelection.id === orderItem.id)\n\n        if (exist) {\n          selectedDrItems.value.push(exist)\n        }\n      })\n    }\n\n    const initialize = () => {\n      store.dispatch('SalesDrStore/getAreas')\n      store.dispatch('DocumentStore/list')\n\n      formData.value = dataProp.value ?? formData.value\n\n      if (dataProp.value.area && dataProp.value.id) {\n        const data = {\n          area: dataProp.value.area,\n          id: dataProp.value.id,\n        }\n\n        store.dispatch('SalesDrStore/getUnlinkItems', data)\n      }\n    }\n\n    onMounted(async () => {\n      initialize()\n    })\n\n    const cancel = () => {\n      emit('submit')\n    }\n\n    const addOrUpdateItems = items => {\n      selectedDrItems.value = items\n      drListDialog.value = false\n    }\n\n    const submit = () => {\n      const payload = formData.value\n      payload.date_posted = datePosted.value\n      payload.dr_items = selectedDrItems.value.map(item => item.id)\n\n      if (modeData.value === 'Create') {\n        store.dispatch('TripTicketStore/create', payload).then(\n          response => {\n            if (response.status === undefined) {\n              emit('submit', response.data)\n            }\n          },\n        )\n      } else {\n        store.dispatch('TripTicketStore/update', payload).then(\n          response => {\n            if (response.status === undefined) {\n              emit('submit', response.data)\n            }\n          },\n        )\n      }\n    }\n\n    const areaChanged = () => {\n      selectedDrItems.value = []\n    }\n\n    const updateToInTransit = () => {\n      store.dispatch('TripTicketStore/updateToInTransit', formData.value).then(\n        response => {\n          if (response.status === undefined) {\n            emit('submit', response.data)\n          }\n        },\n      )\n    }\n\n    const updateToDelivered = () => {\n      store.dispatch('TripTicketStore/updateToDelivered', formData.value).then(\n        response => {\n          if (response.status === undefined) {\n            emit('submit', response.data)\n          }\n        },\n      )\n    }\n\n    watch(drItemsSelection, () => {\n      reInitializeSelectedItem()\n    })\n\n    watch(dataProp, () => {\n      initialize()\n    })\n\n    return {\n      areaChanged,\n      addOrUpdateItems,\n      areas,\n      cancel,\n      updateToInTransit,\n      updateToDelivered,\n      datePosted,\n      documents,\n      drListDialog,\n      errors,\n      formData,\n      headers,\n      icons: {\n        mdiInformation,\n        mdiAccountPlusOutline,\n        mdiCardOff,\n        mdiCurrencySign,\n      },\n      selectedDrItems,\n      submit,\n    }\n  },\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}