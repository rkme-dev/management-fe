{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js!/Users/mark/projects/enco-fe/src/store/AuthStore.js","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/store/AuthStore.js","mtime":1655105658962},{"path":"/Users/mark/projects/enco-fe/babel.config.js","mtime":1654585219618},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1652172763063}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL21hcmsvcHJvamVjdHMvZW5jby1mZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgQXV0aGVudGljYXRpb25TZXJ2aWNlIGZyb20gJy4uL3NlcnZpY2UvQXV0aGVudGljYXRpb25TZXJ2aWNlJzsKdmFyIGF1dGhlbnRpY2F0aW9uU2VydmljZSA9IG5ldyBBdXRoZW50aWNhdGlvblNlcnZpY2UoKTsKdmFyIHVzZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJykpOwp2YXIgaW5pdGlhbFN0YXRlID0gdXNlciA/IHsKICBzdGF0dXM6IHsKICAgIGxvZ2dlZEluOiB0cnVlCiAgfSwKICB1c2VyOiB1c2VyCn0gOiB7CiAgc3RhdHVzOiB7CiAgICBsb2dnZWRJbjogZmFsc2UKICB9LAogIHVzZXI6IG51bGwKfTsKZXhwb3J0IHZhciBBdXRoU3RvcmUgPSB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogaW5pdGlhbFN0YXRlLAogIGFjdGlvbnM6IHsKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbihfcmVmLCB1c2VyKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgcmV0dXJuIGF1dGhlbnRpY2F0aW9uU2VydmljZS5hZG1pbkxvZ2luKHVzZXIpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHsKICAgICAgICBjb21taXQoJ2xvZ2luU3VjY2VzcycsIHVzZXIpOwogICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodXNlcik7CiAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbW1pdCgnbG9naW5GYWlsdXJlJyk7CiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgcmVmcmVzaFRva2VuOiBmdW5jdGlvbiByZWZyZXNoVG9rZW4oX3JlZjIsIGFjY2Vzc1Rva2VuKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMi5jb21taXQ7CiAgICAgIGNvbW1pdCgncmVmcmVzaFRva2VuJywgYWNjZXNzVG9rZW4pOwogICAgfSwKICAgIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KF9yZWYzKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICAgIGF1dGhlbnRpY2F0aW9uU2VydmljZS5sb2dvdXQoKTsKICAgICAgY29tbWl0KCdsb2dvdXQnKTsKICAgIH0gLy8gcmVnaXN0ZXIoeyBjb21taXQgfSwgdXNlcikgewogICAgLy8gICAgIHJldHVybiBBdXRoU2VydmljZS5yZWdpc3Rlcih1c2VyKS50aGVuKAogICAgLy8gICAgICAgICByZXNwb25zZSA9PiB7CiAgICAvLyAgICAgICAgICAgICBjb21taXQoJ3JlZ2lzdGVyU3VjY2VzcycpOwogICAgLy8gICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXNwb25zZS5kYXRhKTsKICAgIC8vICAgICAgICAgfSwKICAgIC8vICAgICAgICAgZXJyb3IgPT4gewogICAgLy8gICAgICAgICAgICAgY29tbWl0KCdyZWdpc3RlckZhaWx1cmUnKTsKICAgIC8vICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7CiAgICAvLyAgICAgICAgIH0KICAgIC8vICAgICApOwogICAgLy8gfQoKICB9LAogIG11dGF0aW9uczogewogICAgbG9naW5TdWNjZXNzOiBmdW5jdGlvbiBsb2dpblN1Y2Nlc3Moc3RhdGUsIHVzZXIpIHsKICAgICAgc3RhdGUuc3RhdHVzLmxvZ2dlZEluID0gdHJ1ZTsKICAgICAgc3RhdGUudXNlciA9IHVzZXI7CiAgICB9LAogICAgbG9naW5GYWlsdXJlOiBmdW5jdGlvbiBsb2dpbkZhaWx1cmUoc3RhdGUpIHsKICAgICAgc3RhdGUuc3RhdHVzLmxvZ2dlZEluID0gZmFsc2U7CiAgICAgIHN0YXRlLnVzZXIgPSBudWxsOwogICAgfSwKICAgIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KHN0YXRlKSB7CiAgICAgIHN0YXRlLnN0YXR1cy5sb2dnZWRJbiA9IGZhbHNlOwogICAgICBzdGF0ZS51c2VyID0gbnVsbDsKICAgIH0sCiAgICByZWZyZXNoVG9rZW46IGZ1bmN0aW9uIHJlZnJlc2hUb2tlbihzdGF0ZSwgYWNjZXNzVG9rZW4pIHsKICAgICAgc3RhdGUuc3RhdHVzLmxvZ2dlZEluID0gdHJ1ZTsKICAgICAgc3RhdGUudXNlciA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgc3RhdGUudXNlciksIHt9LCB7CiAgICAgICAgYWNjZXNzX3Rva2VuOiBhY2Nlc3NUb2tlbgogICAgICB9KTsKICAgIH0sCiAgICByZWdpc3RlclN1Y2Nlc3M6IGZ1bmN0aW9uIHJlZ2lzdGVyU3VjY2VzcyhzdGF0ZSkgewogICAgICBzdGF0ZS5zdGF0dXMubG9nZ2VkSW4gPSBmYWxzZTsKICAgIH0sCiAgICByZWdpc3RlckZhaWx1cmU6IGZ1bmN0aW9uIHJlZ2lzdGVyRmFpbHVyZShzdGF0ZSkgewogICAgICBzdGF0ZS5zdGF0dXMubG9nZ2VkSW4gPSBmYWxzZTsKICAgIH0KICB9Cn07"},{"version":3,"names":["AuthenticationService","authenticationService","user","JSON","parse","localStorage","getItem","initialState","status","loggedIn","AuthStore","namespaced","state","actions","login","commit","adminLogin","then","Promise","resolve","error","reject","refreshToken","accessToken","logout","mutations","loginSuccess","loginFailure","access_token","registerSuccess","registerFailure"],"sources":["/Users/mark/projects/enco-fe/src/store/AuthStore.js"],"sourcesContent":["import AuthenticationService from '../service/AuthenticationService'\n\nconst authenticationService = new AuthenticationService()\n\nconst user = JSON.parse(localStorage.getItem('user'))\n\nconst initialState = user\n  ? { status: { loggedIn: true }, user }\n  : { status: { loggedIn: false }, user: null }\n\nexport const AuthStore = {\n  namespaced: true,\n  state: initialState,\n  actions: {\n    login({ commit }, user) {\n      return authenticationService.adminLogin(user).then(\n        user => {\n          commit('loginSuccess', user)\n\n          return Promise.resolve(user)\n        },\n        error => {\n          commit('loginFailure')\n\n          return Promise.reject(error)\n        },\n      )\n    },\n    refreshToken({ commit }, accessToken) {\n      commit('refreshToken', accessToken)\n    },\n    logout({ commit }) {\n      authenticationService.logout()\n      commit('logout')\n    },\n\n    // register({ commit }, user) {\n    //     return AuthService.register(user).then(\n    //         response => {\n    //             commit('registerSuccess');\n    //             return Promise.resolve(response.data);\n    //         },\n    //         error => {\n    //             commit('registerFailure');\n    //             return Promise.reject(error);\n    //         }\n    //     );\n    // }\n  },\n  mutations: {\n    loginSuccess(state, user) {\n      state.status.loggedIn = true\n      state.user = user\n    },\n    loginFailure(state) {\n      state.status.loggedIn = false\n      state.user = null\n    },\n    logout(state) {\n      state.status.loggedIn = false\n      state.user = null\n    },\n    refreshToken(state, accessToken) {\n      state.status.loggedIn = true\n      state.user = { ...state.user, access_token: accessToken }\n    },\n    registerSuccess(state) {\n      state.status.loggedIn = false\n    },\n    registerFailure(state) {\n      state.status.loggedIn = false\n    },\n  },\n}\n"],"mappings":";;AAAA,OAAOA,qBAAP,MAAkC,kCAAlC;AAEA,IAAMC,qBAAqB,GAAG,IAAID,qBAAJ,EAA9B;AAEA,IAAME,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb;AAEA,IAAMC,YAAY,GAAGL,IAAI,GACrB;EAAEM,MAAM,EAAE;IAAEC,QAAQ,EAAE;EAAZ,CAAV;EAA8BP,IAAI,EAAJA;AAA9B,CADqB,GAErB;EAAEM,MAAM,EAAE;IAAEC,QAAQ,EAAE;EAAZ,CAAV;EAA+BP,IAAI,EAAE;AAArC,CAFJ;AAIA,OAAO,IAAMQ,SAAS,GAAG;EACvBC,UAAU,EAAE,IADW;EAEvBC,KAAK,EAAEL,YAFgB;EAGvBM,OAAO,EAAE;IACPC,KADO,uBACWZ,IADX,EACiB;MAAA,IAAhBa,MAAgB,QAAhBA,MAAgB;MACtB,OAAOd,qBAAqB,CAACe,UAAtB,CAAiCd,IAAjC,EAAuCe,IAAvC,CACL,UAAAf,IAAI,EAAI;QACNa,MAAM,CAAC,cAAD,EAAiBb,IAAjB,CAAN;QAEA,OAAOgB,OAAO,CAACC,OAAR,CAAgBjB,IAAhB,CAAP;MACD,CALI,EAML,UAAAkB,KAAK,EAAI;QACPL,MAAM,CAAC,cAAD,CAAN;QAEA,OAAOG,OAAO,CAACG,MAAR,CAAeD,KAAf,CAAP;MACD,CAVI,CAAP;IAYD,CAdM;IAePE,YAfO,+BAekBC,WAflB,EAe+B;MAAA,IAAvBR,MAAuB,SAAvBA,MAAuB;MACpCA,MAAM,CAAC,cAAD,EAAiBQ,WAAjB,CAAN;IACD,CAjBM;IAkBPC,MAlBO,yBAkBY;MAAA,IAAVT,MAAU,SAAVA,MAAU;MACjBd,qBAAqB,CAACuB,MAAtB;MACAT,MAAM,CAAC,QAAD,CAAN;IACD,CArBM,CAuBP;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;EAlCO,CAHc;EAuCvBU,SAAS,EAAE;IACTC,YADS,wBACId,KADJ,EACWV,IADX,EACiB;MACxBU,KAAK,CAACJ,MAAN,CAAaC,QAAb,GAAwB,IAAxB;MACAG,KAAK,CAACV,IAAN,GAAaA,IAAb;IACD,CAJQ;IAKTyB,YALS,wBAKIf,KALJ,EAKW;MAClBA,KAAK,CAACJ,MAAN,CAAaC,QAAb,GAAwB,KAAxB;MACAG,KAAK,CAACV,IAAN,GAAa,IAAb;IACD,CARQ;IASTsB,MATS,kBASFZ,KATE,EASK;MACZA,KAAK,CAACJ,MAAN,CAAaC,QAAb,GAAwB,KAAxB;MACAG,KAAK,CAACV,IAAN,GAAa,IAAb;IACD,CAZQ;IAaToB,YAbS,wBAaIV,KAbJ,EAaWW,WAbX,EAawB;MAC/BX,KAAK,CAACJ,MAAN,CAAaC,QAAb,GAAwB,IAAxB;MACAG,KAAK,CAACV,IAAN,mCAAkBU,KAAK,CAACV,IAAxB;QAA8B0B,YAAY,EAAEL;MAA5C;IACD,CAhBQ;IAiBTM,eAjBS,2BAiBOjB,KAjBP,EAiBc;MACrBA,KAAK,CAACJ,MAAN,CAAaC,QAAb,GAAwB,KAAxB;IACD,CAnBQ;IAoBTqB,eApBS,2BAoBOlB,KApBP,EAoBc;MACrBA,KAAK,CAACJ,MAAN,CAAaC,QAAb,GAAwB,KAAxB;IACD;EAtBQ;AAvCY,CAAlB"}]}