{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/thread-loader/dist/cjs.js!/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js!/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/projects/enco-fe/src/views/pages/user-access-management/roles/RoleForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/views/pages/user-access-management/roles/RoleForm.vue","mtime":1655980842235},{"path":"/Users/mark/projects/enco-fe/babel.config.js","mtime":1654585219618},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/thread-loader/dist/cjs.js","mtime":1650363913040},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1652172763063},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js","mtime":1650363919730}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL21hcmsvcHJvamVjdHMvZW5jby1mZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcmVnZW5lcmF0b3JSdW50aW1lLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9tYXJrL3Byb2plY3RzL2VuY28tZmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBjb21wdXRlZCwgb25Nb3VudGVkLCByZWYsIHRvUmVmIH0gZnJvbSAnQHZ1ZS9jb21wb3NpdGlvbi1hcGkvZGlzdC92dWUtY29tcG9zaXRpb24tYXBpJzsKaW1wb3J0IHsgbWRpQWNjb3VudE91dGxpbmUsIG1kaUNlbGxwaG9uZSwgbWRpRW1haWxPdXRsaW5lLCBtZGlMb2NrT3V0bGluZSB9IGZyb20gJ0BtZGkvanMnOwppbXBvcnQgVXNlckFjY2Vzc01hbmFnZW1lbnRTZXJ2aWNlIGZyb20gJ0Avc2VydmljZS9Vc2VyQWNjZXNzTWFuYWdlbWVudFNlcnZpY2UnOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIHJvbGU6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0KICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cChwcm9wcywgX3JlZikgewogICAgdmFyIF9jb21wdXRlZDsKCiAgICB2YXIgZW1pdCA9IF9yZWYuZW1pdDsKICAgIHZhciBzZXJ2aWNlID0gbmV3IFVzZXJBY2Nlc3NNYW5hZ2VtZW50U2VydmljZSgpOwogICAgdmFyIHJvbGVEYXRhID0gdG9SZWYocHJvcHMsICdyb2xlJyk7CiAgICB2YXIgYWJpbGl0aWVzT3B0aW9ucyA9IHJlZihbXSk7CiAgICB2YXIgYWJpbGl0aWVzU2VsZWN0ZWQgPSAoX2NvbXB1dGVkID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JvbGVEYXRhJHZhbHVlJGFiaWxpOwoKICAgICAgcmV0dXJuIChfcm9sZURhdGEkdmFsdWUkYWJpbGkgPSByb2xlRGF0YS52YWx1ZS5hYmlsaXRpZXMpID09PSBudWxsIHx8IF9yb2xlRGF0YSR2YWx1ZSRhYmlsaSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3JvbGVEYXRhJHZhbHVlJGFiaWxpLm1hcChmdW5jdGlvbiAoYWJpbGl0eSkgewogICAgICAgIHJldHVybiBhYmlsaXR5LmlkOwogICAgICB9KTsKICAgIH0pKSAhPT0gbnVsbCAmJiBfY29tcHV0ZWQgIT09IHZvaWQgMCA/IF9jb21wdXRlZCA6IFtdOwogICAgb25Nb3VudGVkKCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIHNlcnZpY2UuZ2V0QWJpbGl0aWVzKHRydWUpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBhYmlsaXRpZXNPcHRpb25zLnZhbHVlID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkpOwoKICAgIHZhciBjYW5jZWwgPSBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgIGVtaXQoJ2NsaWNrZWQnLCBmYWxzZSk7CiAgICB9OwoKICAgIHZhciBzdWJtaXQgPSBmdW5jdGlvbiBzdWJtaXQoKSB7CiAgICAgIGNvbnNvbGUubG9nKGFiaWxpdGllc1NlbGVjdGVkLnZhbHVlKTsKICAgIH07CgogICAgcmV0dXJuIHsKICAgICAgYWJpbGl0aWVzU2VsZWN0ZWQ6IGFiaWxpdGllc1NlbGVjdGVkLAogICAgICBhYmlsaXRpZXNPcHRpb25zOiBhYmlsaXRpZXNPcHRpb25zLAogICAgICBjYW5jZWw6IGNhbmNlbCwKICAgICAgaWNvbnM6IHsKICAgICAgICBtZGlBY2NvdW50T3V0bGluZTogbWRpQWNjb3VudE91dGxpbmUsCiAgICAgICAgbWRpRW1haWxPdXRsaW5lOiBtZGlFbWFpbE91dGxpbmUsCiAgICAgICAgbWRpQ2VsbHBob25lOiBtZGlDZWxscGhvbmUsCiAgICAgICAgbWRpTG9ja091dGxpbmU6IG1kaUxvY2tPdXRsaW5lCiAgICAgIH0sCiAgICAgIHJvbGVEYXRhOiByb2xlRGF0YSwKICAgICAgc3VibWl0OiBzdWJtaXQKICAgIH07CiAgfSwKICBjb21wdXRlZDoge30sCiAgbWV0aG9kczoge30KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA,SACAA,QADA,EAEAC,SAFA,EAGAC,GAHA,EAIAC,KAJA,QAKA,+CALA;AAMA,SACAC,iBADA,EAEAC,YAFA,EAGAC,eAHA,EAIAC,cAJA,QAKA,SALA;AAMA;AAEA;EACAC;IACAC;MACAC,YADA;MAEAC,eAFA;MAGAC;IAHA;EADA,CADA;EAQAC,KARA,iBAQAL,KARA,QAQA;IAAA;;IAAA;IACA;IACA;IACA;IACA;MAAA;;MAAA;QAAA;MAAA;IAAA;IAEAP;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,OACAa,2BACAC,IADA,CACA;gBACAC;cACA,CAHA,CADA;;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;;IAOA;MACAC;IACA,CAFA;;IAIA;MACAC;IACA,CAFA;;IAIA;MACAC,oCADA;MAEAH,kCAFA;MAGAI,cAHA;MAIAC;QACAjB,oCADA;QAEAE,gCAFA;QAGAD,0BAHA;QAIAE;MAJA,CAJA;MAUAe,kBAVA;MAWAC;IAXA;EAaA,CA1CA;EA2CAvB,YA3CA;EA6CAwB;AA7CA","names":["computed","onMounted","ref","toRef","mdiAccountOutline","mdiCellphone","mdiEmailOutline","mdiLockOutline","props","role","type","required","default","setup","service","then","abilitiesOptions","emit","console","abilitiesSelected","cancel","icons","roleData","submit","methods"],"sourceRoot":"src/views/pages/user-access-management/roles","sources":["RoleForm.vue"],"sourcesContent":["<template>\n  <v-form>\n    <v-row>\n      <v-col\n        cols=\"12\"\n        md=\"3\"\n      >\n        <label for=\"firstnameHorizontalIcons\">Role Name</label>\n      </v-col>\n\n      <v-col\n        cols=\"12\"\n        md=\"9\"\n      >\n        <v-text-field\n          id=\"firstnameHorizontalIcons\"\n          v-model=\"roleData.title\"\n          disabled\n          :prepend-inner-icon=\"icons.mdiAccountOutline\"\n          outlined\n          dense\n          placeholder=\"Role Name\"\n          hide-details\n        ></v-text-field>\n      </v-col>\n      <v-col\n        cols=\"12\"\n        md=\"3\"\n      >\n        <label for=\"firstnameHorizontalIcons\">Abilities</label>\n      </v-col>\n\n      <v-col\n        cols=\"12\"\n        md=\"9\"\n      >\n        <v-treeview\n          v-model=\"abilitiesSelected\"\n          selectable\n          selected-color=\"primary\"\n          item-disabled=\"locked\"\n          item-key=\"id\"\n          item-text=\"name\"\n          item-children=\"abilities\"\n          :items=\"abilitiesOptions\"\n        ></v-treeview>\n      </v-col>\n      <v-col\n        offset-md=\"3\"\n        cols=\"12\"\n      >\n        <v-btn\n          color=\"primary\"\n          @click=\"submit\"\n        >\n          Submit\n        </v-btn>\n        <v-btn\n          type=\"reset\"\n          outlined\n          class=\"mx-2\"\n          @click=\"cancel\"\n        >\n          Cancel\n        </v-btn>\n      </v-col>\n    </v-row>\n  </v-form>\n</template>\n\n<script>\nimport {\n  computed,\n  onMounted,\n  ref,\n  toRef,\n} from '@vue/composition-api/dist/vue-composition-api'\nimport {\n  mdiAccountOutline,\n  mdiCellphone,\n  mdiEmailOutline,\n  mdiLockOutline,\n} from '@mdi/js'\nimport UserAccessManagementService from '@/service/UserAccessManagementService'\n\nexport default {\n  props: {\n    role: {\n      type: Object,\n      required: false,\n      default: null,\n    },\n  },\n  setup(props, { emit }) {\n    const service = new UserAccessManagementService()\n    const roleData = toRef(props, 'role')\n    const abilitiesOptions = ref([])\n    const abilitiesSelected = computed(() => roleData.value.abilities?.map(ability => ability.id)) ?? []\n\n    onMounted(async () => {\n      await service.getAbilities(true)\n        .then(response => {\n          abilitiesOptions.value = response.data\n        })\n    })\n\n    const cancel = () => {\n      emit('clicked', false)\n    }\n\n    const submit = () => {\n      console.log(abilitiesSelected.value)\n    }\n\n    return {\n      abilitiesSelected,\n      abilitiesOptions,\n      cancel,\n      icons: {\n        mdiAccountOutline,\n        mdiEmailOutline,\n        mdiCellphone,\n        mdiLockOutline,\n      },\n      roleData,\n      submit,\n    }\n  },\n  computed: {\n  },\n  methods: {\n  },\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}