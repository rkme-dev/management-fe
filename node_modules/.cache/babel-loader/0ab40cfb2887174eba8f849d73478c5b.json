{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js!/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/projects/enco-fe/src/views/pages/purchase-orders/purchase-order/PurchaseOrderApprove.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/views/pages/purchase-orders/purchase-order/PurchaseOrderApprove.vue","mtime":1662257626120},{"path":"/Users/mark/projects/enco-fe/babel.config.js","mtime":1655991784146},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1665368576185},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1665368576151},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1665368576185},{"path":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js","mtime":1665368593779}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL21hcmsvcHJvamVjdHMvZW5jby1mZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIi9Vc2Vycy9tYXJrL3Byb2plY3RzL2VuY28tZmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvbWFyay9wcm9qZWN0cy9lbmNvLWZlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGNvbXB1dGVkLCByZWYsIG9uTW91bnRlZCB9IGZyb20gJ0B2dWUvY29tcG9zaXRpb24tYXBpJzsKaW1wb3J0IHJvdXRlciBmcm9tICdAL3JvdXRlcic7CmltcG9ydCBzdG9yZSBmcm9tICdAL3N0b3JlJzsKaW1wb3J0IHsgQVBQUk9WRV9QVVJDSEFTRV9PUkRFUiwgR0VUX1BST0RVQ1RTLCBHRVRfU1VQUExJRVJTIH0gZnJvbSAnQC9zdG9yZS9hY3Rpb25zLnR5cGUnOwppbXBvcnQgUHVyY2hhc2VPcmRlcnNTZXJ2aWNlIGZyb20gJ0AvdXRpbHMvc2VydmljZXMvcHVyY2hhc2Utb3JkZXJzLnNlcnZpY2UnOwppbXBvcnQgeyBtZGlCb29rSW5mb3JtYXRpb25WYXJpYW50LCBtZGlDbGlwYm9hcmRMaXN0T3V0bGluZSB9IGZyb20gJ0BtZGkvanMnOwppbXBvcnQgUHVyY2hhc2VPcmRlckxvZ3MgZnJvbSAnQC92aWV3cy9wYWdlcy9wdXJjaGFzZS1vcmRlcnMvcHVyY2hhc2Utb3JkZXIvbG9ncy9QdXJjaGFzZU9yZGVyTG9ncy52dWUnOwppbXBvcnQgQ2FyZFN1cHBsaWVyRGV0YWlscyBmcm9tICdAL3ZpZXdzL3BhZ2VzL3B1cmNoYXNlLW9yZGVycy9jb21wb25lbnQvQ2FyZFN1cHBsaWVyRGV0YWlscy52dWUnOwppbXBvcnQgQ2FyZERvd25wYXltZW50RGV0YWlscyBmcm9tICdAL3ZpZXdzL3BhZ2VzL3B1cmNoYXNlLW9yZGVycy9jb21wb25lbnQvQ2FyZERvd25wYXltZW50RGV0YWlscy52dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgUHVyY2hhc2VPcmRlckxvZ3M6IFB1cmNoYXNlT3JkZXJMb2dzLAogICAgQ2FyZFN1cHBsaWVyRGV0YWlsczogQ2FyZFN1cHBsaWVyRGV0YWlscywKICAgIENhcmREb3ducGF5bWVudERldGFpbHM6IENhcmREb3ducGF5bWVudERldGFpbHMKICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdmFyIGlkID0gcm91dGVyLmhpc3RvcnkuY3VycmVudC5wYXJhbXMuaWQ7CiAgICB2YXIgZXJyb3JzID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gc3RvcmUuZ2V0dGVycy5lcnJvcnM7CiAgICB9KTsKICAgIHZhciBwcm9kdWN0cyA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHN0b3JlLmdldHRlcnMucHJvZHVjdHM7CiAgICB9KTsKICAgIHZhciBzdXBwbGllcnMgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBzdG9yZS5nZXR0ZXJzLnN1cHBsaWVyczsKICAgIH0pOwogICAgdmFyIHNlbGVjdGVkSXRlbVRyaWdnZXIgPSByZWYoW10pOwogICAgdmFyIG9yZGVySXRlbXMgPSByZWYoW10pOwogICAgdmFyIHNob3dBbGVydCA9IHJlZihmYWxzZSk7CiAgICB2YXIgb3B0aW9uc0xvY2FsID0gcmVmKHsKICAgICAgZnhfbnVtYmVyOiAnJywKICAgICAgZXRhOiAnJywKICAgICAgaXRlbXM6IHt9LAogICAgICB0b3RhbDogMCwKICAgICAgcGVyY2VudGFnZTogMCwKICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICBwYWlkX2Ftb3VudDogJycsCiAgICAgIGJhbGFuY2U6IDAsCiAgICAgIHN1cHBsaWVyOiB7fQogICAgfSk7CiAgICB2YXIgdGFiID0gcmVmKCcnKTsKICAgIHZhciBkb2xsYXJQZXJjZW50YWdlVG9QYXkgPSByZWYoJycpOwogICAgdmFyIHBlc29QZXJjZW50YWdlVG9QYXkgPSByZWYoJycpOwogICAgdmFyIGNhbkFwcHJvdmVQTyA9IHN0b3JlLmdldHRlcnNbJ0F1dGhTdG9yZS9oYXNBYmlsaXR5J10oJ2FwcHJvdmUtcHVyY2hhc2Ugb3JkZXInKTsKCiAgICB2YXIgZ2V0U3VwcGxpZXIgPSBmdW5jdGlvbiBnZXRTdXBwbGllcihzdXBwbGllcikgewogICAgICBvcHRpb25zTG9jYWwudmFsdWUuc3VwcGxpZXIuaWQgPSBzdXBwbGllci5zdXBwbGllcl9pZDsKICAgIH07CgogICAgdmFyIGRvd25wYXltZW50RGV0YWlsRm9ybSA9IHJlZih7fSk7CgogICAgdmFyIGdldERvd25wYXltZW50ID0gZnVuY3Rpb24gZ2V0RG93bnBheW1lbnQoZG93bnBheW1lbnREZXRhaWxzKSB7CiAgICAgIGRvd25wYXltZW50RGV0YWlsRm9ybS52YWx1ZSA9IGRvd25wYXltZW50RGV0YWlsczsKICAgIH07CgogICAgb25Nb3VudGVkKCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIFB1cmNoYXNlT3JkZXJzU2VydmljZS5maW5kKGlkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgdmFyIGRhdGEgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICBvcHRpb25zTG9jYWwudmFsdWUgPSB7CiAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBkYXRhLm9yZGVyLmRlc2NyaXB0aW9uLAogICAgICAgICAgICAgICAgICBmeF9udW1iZXI6IGRhdGEub3JkZXIuZnhfaWQsCiAgICAgICAgICAgICAgICAgIHN1cHBsaWVyOiB7fSwKICAgICAgICAgICAgICAgICAgaXRlbXM6IHt9CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgb3JkZXJJdGVtcy52YWx1ZSA9IGRhdGEuaXRlbXM7CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKTsKICAgIHN0b3JlLmRpc3BhdGNoKEdFVF9QUk9EVUNUUyk7CiAgICBzdG9yZS5kaXNwYXRjaChHRVRfU1VQUExJRVJTKTsKCiAgICB2YXIgZ29CYWNrID0gZnVuY3Rpb24gZ29CYWNrKCkgewogICAgICByb3V0ZXIucHVzaCgnL3B1cmNoYXNlLW9yZGVycycpOwogICAgfTsKCiAgICB2YXIgcmVzb2x2ZUZvcm1TdWNjZXNzID0gZnVuY3Rpb24gcmVzb2x2ZUZvcm1TdWNjZXNzKCkgewogICAgICBzaG93QWxlcnQudmFsdWUgPSB0cnVlOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBnb0JhY2soKTsKICAgICAgfSwgMTAwMCk7CiAgICB9OwoKICAgIHZhciBkZWJvdW5jZSA9IGZ1bmN0aW9uIGRlYm91bmNlKGZ1bmMpIHsKICAgICAgdmFyIHRpbWVvdXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDUwMDsKICAgICAgdmFyIHRpbWVyOwogICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykgewogICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTsKICAgICAgICB9CgogICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7CiAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGZ1bmMuYXBwbHkoX3RoaXMsIGFyZ3MpOwogICAgICAgIH0sIHRpbWVvdXQpOwogICAgICB9OwogICAgfTsKCiAgICB2YXIgbW9uZXlGb3JtYXQgPSBkZWJvdW5jZShmdW5jdGlvbiAoZmllbGQpIHsKICAgICAgaWYgKGZpZWxkKSB7CiAgICAgICAgb3B0aW9uc0xvY2FsLnZhbHVlW2ZpZWxkXSA9IHBhcnNlRmxvYXQob3B0aW9uc0xvY2FsLnZhbHVlW2ZpZWxkXSkudG9GaXhlZCgyKS5yZXBsYWNlKC9cZCg/PShcZHszfSkrXC4pL2csICckJiwnKTsKICAgICAgfQogICAgfSk7CgogICAgdmFyIHNhdmUgPSBmdW5jdGlvbiBzYXZlKCkgewogICAgICB2YXIgY3VycmVudEZvcm0gPSBvcHRpb25zTG9jYWwudmFsdWU7CiAgICAgIGN1cnJlbnRGb3JtLmlkID0gcm91dGVyLmhpc3RvcnkuY3VycmVudC5wYXJhbXMuaWQ7CiAgICAgIGN1cnJlbnRGb3JtLnN1cHBsaWVyX2lkID0gY3VycmVudEZvcm0uc3VwcGxpZXIuaWQ7CiAgICAgIGN1cnJlbnRGb3JtLnJhd19tYXRlcmlhbHMgPSBbXTsKICAgICAgb3JkZXJJdGVtcy52YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgY3VycmVudEZvcm0ucmF3X21hdGVyaWFscy5wdXNoKHsKICAgICAgICAgIGlkOiBpdGVtLmlkLAogICAgICAgICAgcXVhbnRpdHk6IGl0ZW0ucXVhbnRpdHkKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIGN1cnJlbnRGb3JtID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBjdXJyZW50Rm9ybSksIGRvd25wYXltZW50RGV0YWlsRm9ybS52YWx1ZSk7CiAgICAgIHN0b3JlLmRpc3BhdGNoKEFQUFJPVkVfUFVSQ0hBU0VfT1JERVIsIGN1cnJlbnRGb3JtKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgaWYgKGRhdGEgIT0gbnVsbCkgewogICAgICAgICAgcmVzb2x2ZUZvcm1TdWNjZXNzKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH07CgogICAgdmFyIHRhYnMgPSBbewogICAgICB0aXRsZTogJ0luZm9ybWF0aW9uJywKICAgICAgaWNvbjogbWRpQm9va0luZm9ybWF0aW9uVmFyaWFudAogICAgfSwgewogICAgICB0aXRsZTogJ0xvZ3MnLAogICAgICBpY29uOiBtZGlDbGlwYm9hcmRMaXN0T3V0bGluZQogICAgfV07CiAgICByZXR1cm4gewogICAgICBnZXREb3ducGF5bWVudDogZ2V0RG93bnBheW1lbnQsCiAgICAgIGdldFN1cHBsaWVyOiBnZXRTdXBwbGllciwKICAgICAgY2FuQXBwcm92ZVBPOiBjYW5BcHByb3ZlUE8sCiAgICAgIGlkOiBpZCwKICAgICAgdGFiOiB0YWIsCiAgICAgIHRhYnM6IHRhYnMsCiAgICAgIHNlbGVjdGVkSXRlbVRyaWdnZXI6IHNlbGVjdGVkSXRlbVRyaWdnZXIsCiAgICAgIHByb2R1Y3RzOiBwcm9kdWN0cywKICAgICAgb3B0aW9uc0xvY2FsOiBvcHRpb25zTG9jYWwsCiAgICAgIGdvQmFjazogZ29CYWNrLAogICAgICBzYXZlOiBzYXZlLAogICAgICBzaG93QWxlcnQ6IHNob3dBbGVydCwKICAgICAgZXJyb3JzOiBlcnJvcnMsCiAgICAgIG9yZGVySXRlbXM6IG9yZGVySXRlbXMsCiAgICAgIGRvbGxhclBlcmNlbnRhZ2VUb1BheTogZG9sbGFyUGVyY2VudGFnZVRvUGF5LAogICAgICBwZXNvUGVyY2VudGFnZVRvUGF5OiBwZXNvUGVyY2VudGFnZVRvUGF5LAogICAgICBzdXBwbGllcnM6IHN1cHBsaWVycywKICAgICAgbW9uZXlGb3JtYXQ6IG1vbmV5Rm9ybWF0CiAgICB9OwogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2LA,SACAA,QADA,EACAC,GADA,EACAC,SADA,QAEA,sBAFA;AAGA;AACA;AACA,SACAC,sBADA,EAEAC,YAFA,EAGAC,aAHA,QAIA,sBAJA;AAKA;AACA;AACA;AACA;AACA;AAEA;EACAC;IACAC,oCADA;IAEAC,wCAFA;IAGAC;EAHA,CADA;EAMAC,KANA,mBAMA;IAAA;;IACA;IACA;MAAA;IAAA;IACA;MAAA;IAAA;IACA;MAAA;IAAA;IACA;IACA;IACA;IACA;MACAC,aADA;MAEAC,OAFA;MAGAC,SAHA;MAIAC,QAJA;MAKAC,aALA;MAMAC,eANA;MAOAC,eAPA;MAQAC,UARA;MASAC;IATA;IAWA;IACA;IACA;IAEA;;IAEA;MACAC;IACA,CAFA;;IAIA;;IAEA;MACAC;IACA,CAFA;;IAIAnB;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,OACAoB,+BACAC,IADA,CACA;gBACA;gBACAH;kBACAJ,mCADA;kBAEAL,2BAFA;kBAGAQ,YAHA;kBAIAN;gBAJA;gBAOAW;cACA,CAXA,CADA;;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;IAeAC;IACAA;;IAEA;MACAC;IACA,CAFA;;IAIA;MACAC;MACAC;QACAC;MACA,CAFA,EAEA,IAFA;IAGA,CALA;;IAOA;MAAA;MACA;MAEA;QAAA;UAAAC;QAAA;;QACAC;QACAC;UACAC;QACA,CAFA,EAEAC,OAFA;MAGA,CALA;IAMA,CATA;;IAWA;MACA;QACAd;MACA;IACA,CAJA;;IAMA;MACA;MACAe;MACAA;MACAA;MAEAX;QACAW;UACAC,WADA;UAEAC;QAFA;MAIA,CALA;MAOAF;MAEAV;QACA;UACAa;QACA;MACA,CAJA;IAKA,CApBA;;IAsBA,YACA;MAAAC;MAAAC;IAAA,CADA,EAEA;MAAAD;MAAAC;IAAA,CAFA;IAKA;MACAC,8BADA;MAEAC,wBAFA;MAGAC,0BAHA;MAIAP,MAJA;MAKAQ,QALA;MAMAC,UANA;MAOAC,wCAPA;MAQAC,kBARA;MASA3B,0BATA;MAUAS,cAVA;MAWAmB,UAXA;MAYArB,oBAZA;MAaAsB,cAbA;MAcAzB,sBAdA;MAeA0B,4CAfA;MAgBAC,wCAhBA;MAiBAC,oBAjBA;MAkBAC;IAlBA;EAoBA;AAtIA","names":["computed","ref","onMounted","APPROVE_PURCHASE_ORDER","GET_PRODUCTS","GET_SUPPLIERS","components","PurchaseOrderLogs","CardSupplierDetails","CardDownpaymentDetails","setup","fx_number","eta","items","total","percentage","description","paid_amount","balance","supplier","optionsLocal","downpaymentDetailForm","PurchaseOrdersService","then","orderItems","store","router","showAlert","setTimeout","goBack","args","clearTimeout","timer","func","timeout","currentForm","id","quantity","resolveFormSuccess","title","icon","getDownpayment","getSupplier","canApprovePO","tab","tabs","selectedItemTrigger","products","save","errors","dollarPercentageToPay","pesoPercentageToPay","suppliers","moneyFormat"],"sourceRoot":"src/views/pages/purchase-orders/purchase-order","sources":["PurchaseOrderApprove.vue"],"sourcesContent":["<template>\n  <v-card\n    flat\n    class=\"\"\n  >\n    <!-- tabs -->\n    <v-tabs\n      v-model=\"tab\"\n      show-arrows\n      grow\n    >\n      <v-tab\n        v-for=\"tab in tabs\"\n        :key=\"tab.icon\"\n      >\n        <v-icon\n          size=\"30\"\n          class=\"me-3\"\n        >\n          {{ tab.icon }}\n        </v-icon>\n        <span>{{ tab.title }}</span>\n      </v-tab>\n    </v-tabs>\n\n    <!-- tabs item -->\n    <v-tabs-items v-model=\"tab\">\n      <v-tab-item>\n        <v-alert\n          v-show=\"showAlert\"\n          dense\n          text\n          type=\"success\"\n        >\n          Successfully <strong>approved</strong> a purchase order. You will be automatically\n          redirected in a bit.\n        </v-alert>\n        <v-form class=\"multi-col-validation\">\n          <v-card-text class=\"pt-5\">\n            <v-row>\n              <v-col\n                cols=\"12\"\n                class=\"\"\n              >\n              </v-col>\n              <!--              <v-col cols=\"12\">-->\n              <!--                <v-card-text class=\"mt-10\">-->\n              <!--                  <v-subheader class=\"font-weight-black\">-->\n              <!--                    Raw Materials In Stock-->\n              <!--                  </v-subheader>-->\n              <!--                  <v-simple-table-->\n              <!--                    fixed-header-->\n              <!--                  >-->\n              <!--                    <template v-slot:default>-->\n              <!--                      <thead>-->\n              <!--                        <tr>-->\n              <!--                          <th class=\"text-left\">-->\n              <!--                            Name-->\n              <!--                          </th>-->\n              <!--                          <th class=\"text-left\">-->\n              <!--                            Quantity In Stock-->\n              <!--                          </th>-->\n              <!--                        </tr>-->\n              <!--                      </thead>-->\n              <!--                      <tbody>-->\n              <!--                        <tr-->\n              <!--                          v-for=\"item in products\"-->\n              <!--                          :key=\"item.name\"-->\n              <!--                        >-->\n              <!--                          <td>{{ item.name }}</td>-->\n              <!--                          <td>{{ item.in_stock }}</td>-->\n              <!--                        </tr>-->\n              <!--                      </tbody>-->\n              <!--                    </template>-->\n              <!--                  </v-simple-table>-->\n              <!--                </v-card-text>-->\n              <!--              </v-col>-->\n\n              <!--              <v-col cols=\"12\">-->\n              <!--                <v-select-->\n              <!--                  v-model=\"optionsLocal.supplier\"-->\n              <!--                  placeholder=\"Select a Supplier\"-->\n              <!--                  label=\"Supplier *\"-->\n              <!--                  item-text=\"name\"-->\n              <!--                  item-value=\"id\"-->\n              <!--                  dense-->\n              <!--                  :items=\"suppliers\"-->\n              <!--                  :error-messages=\"errors.supplier_id\"-->\n              <!--                  return-object-->\n              <!--                ></v-select>-->\n              <!--              </v-col>-->\n              <v-col\n                cols=\"12\"\n                class=\"\"\n              >\n                <card-supplier-details\n                  :suppliers=\"suppliers\"\n                  :supplier-data=\"optionsLocal.supplier\"\n                  @getData=\"getSupplier\"\n                />\n              </v-col>\n              <v-col cols=\"12\">\n                <v-card-text class=\"px-0\">\n                  <v-simple-table\n                    fixed-header\n                  >\n                    <template v-slot:default>\n                      <thead>\n                        <tr>\n                          <th class=\"text-left\">\n                            Material Name\n                          </th>\n                          <th class=\"text-left\">\n                            Requested Quantity\n                          </th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        <tr\n                          v-for=\"(item, key) in orderItems\"\n                          :key=\"item.name\"\n                        >\n                          <td>{{ item.name }}</td>\n                          <td>\n                            <v-text-field\n                              v-model=\"item.quantity\"\n                              hide-details=\"auto\"\n                              dense\n                              label=\"Quantity\"\n                            ></v-text-field>\n                          </td>\n                        </tr>\n                      </tbody>\n                    </template>\n                  </v-simple-table>\n                </v-card-text>\n              </v-col>\n              <v-col\n                cols=\"7\"\n              >\n                <v-textarea\n                  v-model=\"optionsLocal.description\"\n                  outlined\n                  dense\n                  label=\"Description\"\n                  hide-details=\"auto\"\n                ></v-textarea>\n              </v-col>\n              <v-col\n                cols=\"12\"\n                class=\" mb-6\"\n              >\n                <card-downpayment-details\n                  @getDownpayment=\"getDownpayment\"\n                />\n              </v-col>\n            </v-row>\n          </v-card-text>\n\n          <v-card-text class=\"mt-10\">\n            <v-btn\n              v-if=\"canApprovePO\"\n              outlined\n              class=\"mr-3\"\n              color=\"primary\"\n              @click=\"save\"\n            >\n              Approve\n            </v-btn>\n            <v-btn\n              outlined\n              type=\"reset\"\n              @click.prevent=\"goBack\"\n            >\n              Back to List\n            </v-btn>\n          </v-card-text>\n        </v-form>\n      </v-tab-item>\n      <v-tab-item>\n        <purchase-order-logs :order-id=\"id\"></purchase-order-logs>\n      </v-tab-item>\n    </v-tabs-items>\n  </v-card>\n</template>\n\n<script>\nimport {\n  computed, ref, onMounted,\n} from '@vue/composition-api'\nimport router from '@/router'\nimport store from '@/store'\nimport {\n  APPROVE_PURCHASE_ORDER,\n  GET_PRODUCTS,\n  GET_SUPPLIERS,\n} from '@/store/actions.type'\nimport PurchaseOrdersService from '@/utils/services/purchase-orders.service'\nimport { mdiBookInformationVariant, mdiClipboardListOutline } from '@mdi/js'\nimport PurchaseOrderLogs from '@/views/pages/purchase-orders/purchase-order/logs/PurchaseOrderLogs.vue'\nimport CardSupplierDetails from '@/views/pages/purchase-orders/component/CardSupplierDetails.vue'\nimport CardDownpaymentDetails from '@/views/pages/purchase-orders/component/CardDownpaymentDetails.vue'\n\nexport default {\n  components: {\n    PurchaseOrderLogs,\n    CardSupplierDetails,\n    CardDownpaymentDetails,\n  },\n  setup() {\n    const { id } = router.history.current.params\n    const errors = computed(() => store.getters.errors)\n    const products = computed(() => store.getters.products)\n    const suppliers = computed(() => store.getters.suppliers)\n    const selectedItemTrigger = ref([])\n    const orderItems = ref([])\n    const showAlert = ref(false)\n    const optionsLocal = ref({\n      fx_number: '',\n      eta: '',\n      items: {},\n      total: 0,\n      percentage: 0,\n      description: '',\n      paid_amount: '',\n      balance: 0,\n      supplier: {},\n    })\n    const tab = ref('')\n    const dollarPercentageToPay = ref('')\n    const pesoPercentageToPay = ref('')\n\n    const canApprovePO = store.getters['AuthStore/hasAbility']('approve-purchase order')\n\n    const getSupplier = supplier => {\n      optionsLocal.value.supplier.id = supplier.supplier_id\n    }\n\n    const downpaymentDetailForm = ref({})\n\n    const getDownpayment = downpaymentDetails => {\n      downpaymentDetailForm.value = downpaymentDetails\n    }\n\n    onMounted(async () => {\n      await PurchaseOrdersService.find(id)\n        .then(response => {\n          const { data } = response.data\n          optionsLocal.value = {\n            description: data.order.description,\n            fx_number: data.order.fx_id,\n            supplier: {},\n            items: {},\n          }\n\n          orderItems.value = data.items\n        })\n    })\n\n    store.dispatch(GET_PRODUCTS)\n    store.dispatch(GET_SUPPLIERS)\n\n    const goBack = () => {\n      router.push('/purchase-orders')\n    }\n\n    const resolveFormSuccess = () => {\n      showAlert.value = true\n      setTimeout(() => {\n        goBack()\n      }, 1000)\n    }\n\n    const debounce = (func, timeout = 500) => {\n      let timer\n\n      return (...args) => {\n        clearTimeout(timer)\n        timer = setTimeout(() => {\n          func.apply(this, args)\n        }, timeout)\n      }\n    }\n\n    const moneyFormat = debounce(field => {\n      if (field) {\n        optionsLocal.value[field] = parseFloat(optionsLocal.value[field]).toFixed(2).replace(/\\d(?=(\\d{3})+\\.)/g, '$&,')\n      }\n    })\n\n    const save = () => {\n      let currentForm = optionsLocal.value\n      currentForm.id = router.history.current.params.id\n      currentForm.supplier_id = currentForm.supplier.id\n      currentForm.raw_materials = []\n\n      orderItems.value.forEach(item => {\n        currentForm.raw_materials.push({\n          id: item.id,\n          quantity: item.quantity,\n        })\n      })\n\n      currentForm = { ...currentForm, ...downpaymentDetailForm.value }\n\n      store.dispatch(APPROVE_PURCHASE_ORDER, currentForm).then(data => {\n        if (data != null) {\n          resolveFormSuccess()\n        }\n      })\n    }\n\n    const tabs = [\n      { title: 'Information', icon: mdiBookInformationVariant },\n      { title: 'Logs', icon: mdiClipboardListOutline },\n    ]\n\n    return {\n      getDownpayment,\n      getSupplier,\n      canApprovePO,\n      id,\n      tab,\n      tabs,\n      selectedItemTrigger,\n      products,\n      optionsLocal,\n      goBack,\n      save,\n      showAlert,\n      errors,\n      orderItems,\n      dollarPercentageToPay,\n      pesoPercentageToPay,\n      suppliers,\n      moneyFormat,\n    }\n  }\n  ,\n}\n</script>\n"]}]}