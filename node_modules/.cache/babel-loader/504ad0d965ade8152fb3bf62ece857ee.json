{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js!/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/projects/enco-fe/src/views/pages/warehouse/raw-materials-release/ReleaseForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/views/pages/warehouse/raw-materials-release/ReleaseForm.vue","mtime":1659925293627},{"path":"/Users/mark/projects/enco-fe/babel.config.js","mtime":1655991784146},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1652172763063},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js","mtime":1650363919730}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IHJlZiwgY29tcHV0ZWQsIG9uTW91bnRlZCwgd2F0Y2gsIHRvUmVmIH0gZnJvbSAnQHZ1ZS9jb21wb3NpdGlvbi1hcGknOwppbXBvcnQgeyBtZGlBY2Nlc3NQb2ludENoZWNrLCBtZGlBY2NvdW50T3V0bGluZSwgbWRpUHV6emxlLCBtZGlDYWxlbmRhciwgbWRpQ2VsbHBob25lLCBtZGlFbWFpbE91dGxpbmUsIG1kaUV5ZSwgbWRpRXllT2ZmLCBtZGlHZW5kZXJOb25CaW5hcnksIG1kaUdyb3VwLCBtZGlIb21lRmxvb3IwLCBtZGlIb21lUGx1cywgbWRpSHVtYW5FZGl0LCBtZGlJZENhcmQsIG1kaUlkZW50aWZpZXIsIG1kaUxpc3RTdGF0dXMsIG1kaUxvY2tPdXRsaW5lLCBtZGlPcmlnaW4sIG1kaU91dGRvb3JMYW1wLCBtZGlQYWNrYWdlLCBtZGlQbHVzQm94T3V0bGluZSwgbWRpVmlld0xpc3QgfSBmcm9tICdAbWRpL2pzJzsKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOwppbXBvcnQgUmF3TWF0ZXJpYWxBZGRTZWxlY3RvciBmcm9tICdAL3ZpZXdzL3BhZ2VzL3dhcmVob3VzZS9yYXctbWF0ZXJpYWxzLXJlbGVhc2UvY29tcG9uZW50cy9SYXdNYXRlcmlhbEFkZFNlbGVjdG9yLnZ1ZSc7CmltcG9ydCByb3V0ZXIgZnJvbSAnQC9yb3V0ZXInOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1JlbGVhc2VGb3JtJywKICBjb21wb25lbnRzOiB7CiAgICBSYXdNYXRlcmlhbEFkZFNlbGVjdG9yOiBSYXdNYXRlcmlhbEFkZFNlbGVjdG9yCiAgfSwKICBwcm9wczogewogICAgcmVsZWFzZU9yZGVyOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0sCiAgICAgIHJlcXVpcmVkOiBmYWxzZQogICAgfQogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKHByb3BzKSB7CiAgICB2YXIgcmVsZWFzZU9yZGVyRGF0YSA9IHRvUmVmKHByb3BzLCAncmVsZWFzZU9yZGVyJyk7CiAgICB2YXIgcmVsZWFzZUZvcm0gPSByZWYoewogICAgICBkZXNjcmlwdGlvbjogJycKICAgIH0pOwogICAgdmFyIHByb2R1Y3RzID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gc3RvcmUuc3RhdGUuUmVsZWFzZU9yZGVyU3RvcmUucmF3TWF0ZXJpYWxzOwogICAgfSk7CiAgICB2YXIgZXJyb3JzID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gc3RvcmUuc3RhdGUuVXNlckFjY2Vzc01hbmFnZW1lbnRTdG9yZS5lcnJvcnM7CiAgICB9KTsKICAgIHZhciBzZWxlY3RlZFByb2R1Y3RJZHMgPSByZWYoW10pOwogICAgdmFyIGF0dGFjaGVkUHJvZHVjdHMgPSByZWYoW3sKICAgICAgcHJvZHVjdF9pZDogJycsCiAgICAgIHRvdGFsX3BpZWNlczogJycsCiAgICAgIHRvdGFsX2JveGVzOiAnJywKICAgICAgaXRlbXNfcGVyX2JveDogJycKICAgIH1dKTsKICAgIHZhciBpc1Jhd01hdGVyaWFsc0VtcHR5ID0gcmVmKGZhbHNlKTsKICAgIHZhciBwcm9kdWN0RHJvcGRvd24gPSByZWYoW10pOwoKICAgIHZhciBhcnJheUNvbHVtbiA9IGZ1bmN0aW9uIGFycmF5Q29sdW1uKGFycmF5LCBjb2x1bW4pIHsKICAgICAgcmV0dXJuIGFycmF5Lm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtW2NvbHVtbl07CiAgICAgIH0pOwogICAgfTsKCiAgICB2YXIgdmFsaWRhdGVTZWxlY3RlZFByb2R1Y3QgPSBmdW5jdGlvbiB2YWxpZGF0ZVNlbGVjdGVkUHJvZHVjdCgpIHsKICAgICAgcHJvZHVjdERyb3Bkb3duLnZhbHVlID0gcHJvZHVjdERyb3Bkb3duLnZhbHVlLm1hcChmdW5jdGlvbiAocHJvZHVjdCkgewogICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnbgogICAgICAgIHByb2R1Y3QuZGlzYWJsZWQgPSBzZWxlY3RlZFByb2R1Y3RJZHMudmFsdWUuaW5jbHVkZXMocHJvZHVjdC5pZCk7CiAgICAgICAgcmV0dXJuIHByb2R1Y3Q7CiAgICAgIH0pOwogICAgfTsKCiAgICB3YXRjaChwcm9kdWN0cywgZnVuY3Rpb24gKCkgewogICAgICBwcm9kdWN0RHJvcGRvd24udmFsdWUgPSBwcm9kdWN0cy52YWx1ZTsKICAgICAgdmFsaWRhdGVTZWxlY3RlZFByb2R1Y3QoKTsKICAgIH0sIHsKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9KTsKICAgIHdhdGNoKHJlbGVhc2VPcmRlckRhdGEsIGZ1bmN0aW9uICgpIHsKICAgICAgYXR0YWNoZWRQcm9kdWN0cy52YWx1ZSA9IHJlbGVhc2VPcmRlckRhdGEudmFsdWUucmF3X21hdGVyaWFsczsKICAgICAgcmVsZWFzZUZvcm0udmFsdWUuZGVzY3JpcHRpb24gPSByZWxlYXNlT3JkZXJEYXRhLnZhbHVlLmRlc2NyaXB0aW9uOwogICAgICBzZWxlY3RlZFByb2R1Y3RJZHMudmFsdWUgPSBhcnJheUNvbHVtbihyZWxlYXNlT3JkZXJEYXRhLnZhbHVlLnJhd19tYXRlcmlhbHMsICdwcm9kdWN0X2lkJyk7CiAgICAgIHZhbGlkYXRlU2VsZWN0ZWRQcm9kdWN0KCk7CiAgICB9KTsKCiAgICB2YXIgaGFuZGxlUmVtb3ZlUHJvZHVjdFJvdyA9IGZ1bmN0aW9uIGhhbmRsZVJlbW92ZVByb2R1Y3RSb3coaW5kZXgpIHsKICAgICAgaWYgKGF0dGFjaGVkUHJvZHVjdHMudmFsdWUubGVuZ3RoID09PSAxKSB7CiAgICAgICAgYXR0YWNoZWRQcm9kdWN0cy52YWx1ZSA9IFt7CiAgICAgICAgICBwcm9kdWN0X2lkOiAnJywKICAgICAgICAgIHRvdGFsX3BpZWNlczogJycsCiAgICAgICAgICB0b3RhbF9ib3hlczogJycKICAgICAgICB9XTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGF0dGFjaGVkUHJvZHVjdHMudmFsdWUuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgc2VsZWN0ZWRQcm9kdWN0SWRzLnZhbHVlID0gYXJyYXlDb2x1bW4oYXR0YWNoZWRQcm9kdWN0cy52YWx1ZSwgJ3Byb2R1Y3RfaWQnKTsKICAgICAgdmFsaWRhdGVTZWxlY3RlZFByb2R1Y3QoKTsKICAgIH07CgogICAgdmFyIGhhbmRsZUFkZFByb2R1Y3RSb3cgPSBmdW5jdGlvbiBoYW5kbGVBZGRQcm9kdWN0Um93KCkgewogICAgICBzZWxlY3RlZFByb2R1Y3RJZHMudmFsdWUgPSBhcnJheUNvbHVtbihhdHRhY2hlZFByb2R1Y3RzLnZhbHVlLCAncHJvZHVjdF9pZCcpOwoKICAgICAgaWYgKHNlbGVjdGVkUHJvZHVjdElkcy52YWx1ZVswXSA9PT0gJycpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGF0dGFjaGVkUHJvZHVjdHMudmFsdWUucHVzaCh7CiAgICAgICAgcHJvZHVjdF9pZDogJycsCiAgICAgICAgdG90YWxfcGllY2VzOiAnJywKICAgICAgICB0b3RhbF9ib3hlczogJycKICAgICAgfSk7CiAgICAgIHZhbGlkYXRlU2VsZWN0ZWRQcm9kdWN0KCk7CiAgICB9OwoKICAgIG9uTW91bnRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHN0b3JlLmRpc3BhdGNoKCdSZWxlYXNlT3JkZXJTdG9yZS9nZXRSYXdNYXRlcmlhbHMnKTsKICAgIH0pOwoKICAgIHZhciBzdWJtaXQgPSBmdW5jdGlvbiBzdWJtaXQoKSB7CiAgICAgIHZhciBfcmVsZWFzZU9yZGVyRGF0YSR2YWwsIF9yZWxlYXNlT3JkZXJEYXRhJHZhbDI7CgogICAgICB2YXIgcmF3TWF0ZXJpYWxzID0gW107CiAgICAgIGF0dGFjaGVkUHJvZHVjdHMudmFsdWUuZm9yRWFjaChmdW5jdGlvbiAocHJvZHVjdCkgewogICAgICAgIGlmIChwcm9kdWN0LnByb2R1Y3RfaWQgIT09ICcnICYmIHByb2R1Y3QudG90YWxfYm94ZXMgIT09ICcnKSB7CiAgICAgICAgICByYXdNYXRlcmlhbHMucHVzaChwcm9kdWN0KTsKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgaWYgKHJhd01hdGVyaWFscy5sZW5ndGggPT09IDApIHsKICAgICAgICBpc1Jhd01hdGVyaWFsc0VtcHR5LnZhbHVlID0gdHJ1ZTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBmb3JtRGF0YSA9IHsKICAgICAgICBkZXNjcmlwdGlvbjogcmVsZWFzZUZvcm0udmFsdWUuZGVzY3JpcHRpb24sCiAgICAgICAgcmF3X21hdGVyaWFsczogcmF3TWF0ZXJpYWxzLAogICAgICAgIGlkOiAoX3JlbGVhc2VPcmRlckRhdGEkdmFsID0gKF9yZWxlYXNlT3JkZXJEYXRhJHZhbDIgPSByZWxlYXNlT3JkZXJEYXRhLnZhbHVlKSA9PT0gbnVsbCB8fCBfcmVsZWFzZU9yZGVyRGF0YSR2YWwyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcmVsZWFzZU9yZGVyRGF0YSR2YWwyLmlkKSAhPT0gbnVsbCAmJiBfcmVsZWFzZU9yZGVyRGF0YSR2YWwgIT09IHZvaWQgMCA/IF9yZWxlYXNlT3JkZXJEYXRhJHZhbCA6IG51bGwKICAgICAgfTsKCiAgICAgIGlmIChyZWxlYXNlT3JkZXJEYXRhLnZhbHVlID09PSBudWxsKSB7CiAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ1JlbGVhc2VPcmRlclN0b3JlL2NyZWF0ZVJlbGVhc2VPcmRlcicsIGZvcm1EYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIHJvdXRlci5wdXNoKCcvcmF3LW1hdGVyaWFscy1yZWxlYXNlJyk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBzdG9yZS5kaXNwYXRjaCgnUmVsZWFzZU9yZGVyU3RvcmUvdXBkYXRlUmVsZWFzZU9yZGVyJywgZm9ybURhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBzdG9yZS5kaXNwYXRjaCgnUmVsZWFzZU9yZGVyU3RvcmUvZ2V0UmVsZWFzZU9yZGVyJywgcmVsZWFzZU9yZGVyRGF0YS52YWx1ZS5pZCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH07CgogICAgdmFyIGNhbmNlbCA9IGZ1bmN0aW9uIGNhbmNlbCgpIHsKICAgICAgcm91dGVyLnB1c2goJy9yYXctbWF0ZXJpYWxzLXJlbGVhc2UnKTsKICAgIH07CgogICAgcmV0dXJuIHsKICAgICAgaXNSYXdNYXRlcmlhbHNFbXB0eTogaXNSYXdNYXRlcmlhbHNFbXB0eSwKICAgICAgaGFuZGxlUmVtb3ZlUHJvZHVjdFJvdzogaGFuZGxlUmVtb3ZlUHJvZHVjdFJvdywKICAgICAgYXR0YWNoZWRQcm9kdWN0czogYXR0YWNoZWRQcm9kdWN0cywKICAgICAgaGFuZGxlQWRkUHJvZHVjdFJvdzogaGFuZGxlQWRkUHJvZHVjdFJvdywKICAgICAgcHJvZHVjdERyb3Bkb3duOiBwcm9kdWN0RHJvcGRvd24sCiAgICAgIGNhbmNlbDogY2FuY2VsLAogICAgICBzdWJtaXQ6IHN1Ym1pdCwKICAgICAgZXJyb3JzOiBlcnJvcnMsCiAgICAgIHJlbGVhc2VGb3JtOiByZWxlYXNlRm9ybSwKICAgICAgcHJvZHVjdHM6IHByb2R1Y3RzLAogICAgICBpY29uczogewogICAgICAgIG1kaVB1enpsZTogbWRpUHV6emxlLAogICAgICAgIG1kaVZpZXdMaXN0OiBtZGlWaWV3TGlzdCwKICAgICAgICBtZGlQYWNrYWdlOiBtZGlQYWNrYWdlLAogICAgICAgIG1kaU91dGRvb3JMYW1wOiBtZGlPdXRkb29yTGFtcCwKICAgICAgICBtZGlHZW5kZXJOb25CaW5hcnk6IG1kaUdlbmRlck5vbkJpbmFyeSwKICAgICAgICBtZGlHcm91cDogbWRpR3JvdXAsCiAgICAgICAgbWRpQ2FsZW5kYXI6IG1kaUNhbGVuZGFyLAogICAgICAgIG1kaUFjY291bnRPdXRsaW5lOiBtZGlBY2NvdW50T3V0bGluZSwKICAgICAgICBtZGlQbHVzQm94T3V0bGluZTogbWRpUGx1c0JveE91dGxpbmUsCiAgICAgICAgbWRpRW1haWxPdXRsaW5lOiBtZGlFbWFpbE91dGxpbmUsCiAgICAgICAgbWRpQ2VsbHBob25lOiBtZGlDZWxscGhvbmUsCiAgICAgICAgbWRpQWNjZXNzUG9pbnRDaGVjazogbWRpQWNjZXNzUG9pbnRDaGVjaywKICAgICAgICBtZGlMb2NrT3V0bGluZTogbWRpTG9ja091dGxpbmUsCiAgICAgICAgbWRpSG9tZUZsb29yMDogbWRpSG9tZUZsb29yMCwKICAgICAgICBtZGlJZGVudGlmaWVyOiBtZGlJZGVudGlmaWVyLAogICAgICAgIG1kaUlkQ2FyZDogbWRpSWRDYXJkLAogICAgICAgIG1kaUhvbWVQbHVzOiBtZGlIb21lUGx1cywKICAgICAgICBtZGlMaXN0U3RhdHVzOiBtZGlMaXN0U3RhdHVzLAogICAgICAgIG1kaUh1bWFuRWRpdDogbWRpSHVtYW5FZGl0LAogICAgICAgIG1kaUV5ZTogbWRpRXllLAogICAgICAgIG1kaUV5ZU9mZjogbWRpRXllT2ZmLAogICAgICAgIG1kaU9yaWdpbjogbWRpT3JpZ2luCiAgICAgIH0KICAgIH07CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0EA,SACAA,GADA,EACAC,QADA,EACAC,SADA,EACAC,KADA,EACAC,KADA,QAEA,sBAFA;AAGA,SACAC,mBADA,EAEAC,iBAFA,EAGAC,SAHA,EAIAC,WAJA,EAKAC,YALA,EAMAC,eANA,EAMAC,MANA,EAMAC,SANA,EAOAC,kBAPA,EAQAC,QARA,EASAC,aATA,EAUAC,WAVA,EAWAC,YAXA,EAYAC,SAZA,EAaAC,aAbA,EAcAC,aAdA,EAeAC,cAfA,EAeAC,SAfA,EAgBAC,cAhBA,EAiBAC,UAjBA,EAiBAC,iBAjBA,EAiBAC,WAjBA,QAkBA,SAlBA;AAmBA;AACA;AACA;AAEA;EACAC,mBADA;EAEAC;IACAC;EADA,CAFA;EAKAC;IACAC;MACAC,YADA;MAEAC;QAAA;MAAA,CAFA;MAGAC;IAHA;EADA,CALA;EAYAC,KAZA,iBAYAL,KAZA,EAYA;IACA;IACA;MACAM;IADA;IAGA;MAAA;IAAA;IACA;MAAA;IAAA;IACA;IACA,4BACA;MACAC,cADA;MAEAC,gBAFA;MAGAC,eAHA;MAIAC;IAJA,CADA;IAQA;IACA;;IAEA;MAAA;QAAA;MAAA;IAAA;;IAEA;MACAC;QACA;QACAC;QAEA;MACA,CALA;IAMA,CAPA;;IASAvC,MACAwC,QADA,EAEA;MACAF;MACAG;IACA,CALA,EAMA;MAAAC;IAAA,CANA;IASA1C,MACA2C,gBADA,EAEA;MACAC;MACAC;MACAC;MACAL;IACA,CAPA;;IAUA;MACA;QACAG,0BACA;UACAV,cADA;UAEAC,gBAFA;UAGAC;QAHA,CADA;QAQA;MACA;;MAEAQ;MAEAE;MAEAL;IACA,CAlBA;;IAoBA;MACAK;;MAEA;QACA;MACA;;MAEAF;QACAV,cADA;QAEAC,gBAFA;QAGAC;MAHA;MAMAK;IACA,CAdA;;IAgBA1C;MACAgD;IACA,CAFA;;IAIA;MAAA;;MACA;MAEAH;QACA;UACAI;QACA;MACA,CAJA;;MAMA;QACAC;QAEA;MACA;;MAEA;QACAhB,0CADA;QAEAiB,2BAFA;QAGAC;MAHA;;MAMA;QACAJ,iEACAK,IADA,CAEA;UACA;YACAC;UACA;QACA,CANA;QASA;MACA;;MAEAN,iEACAK,IADA,CAEA;QACA;UACAL;QACA;MACA,CANA;IAQA,CA1CA;;IA4CA;MACAM;IACA,CAFA;;IAIA;MACAJ,wCADA;MAEAK,8CAFA;MAGAV,kCAHA;MAIAW,wCAJA;MAKAjB,gCALA;MAMAkB,cANA;MAOAC,cAPA;MAQAC,cARA;MASAb,wBATA;MAUAL,kBAVA;MAWAmB;QACAvD,oBADA;QAEAmB,wBAFA;QAGAF,sBAHA;QAIAD,8BAJA;QAKAV,sCALA;QAMAC,kBANA;QAOAN,wBAPA;QAQAF,oCARA;QASAmB,oCATA;QAUAf,gCAVA;QAWAD,0BAXA;QAYAJ,wCAZA;QAaAgB,8BAbA;QAcAN,4BAdA;QAeAI,4BAfA;QAgBAD,oBAhBA;QAiBAF,wBAjBA;QAkBAI,4BAlBA;QAmBAH,0BAnBA;QAoBAN,cApBA;QAqBAC,oBArBA;QAsBAU;MAtBA;IAXA;EAoCA;AAzLA","names":["ref","computed","onMounted","watch","toRef","mdiAccessPointCheck","mdiAccountOutline","mdiPuzzle","mdiCalendar","mdiCellphone","mdiEmailOutline","mdiEye","mdiEyeOff","mdiGenderNonBinary","mdiGroup","mdiHomeFloor0","mdiHomePlus","mdiHumanEdit","mdiIdCard","mdiIdentifier","mdiListStatus","mdiLockOutline","mdiOrigin","mdiOutdoorLamp","mdiPackage","mdiPlusBoxOutline","mdiViewList","name","components","RawMaterialAddSelector","props","releaseOrder","type","default","required","setup","description","product_id","total_pieces","total_boxes","items_per_box","productDropdown","product","products","validateSelectedProduct","immediate","releaseOrderData","attachedProducts","releaseForm","selectedProductIds","store","rawMaterials","isRawMaterialsEmpty","raw_materials","id","then","router","handleRemoveProductRow","handleAddProductRow","cancel","submit","errors","icons"],"sourceRoot":"src/views/pages/warehouse/raw-materials-release","sources":["ReleaseForm.vue"],"sourcesContent":["<template>\n  <v-card\n    id=\"raw-mats-release-form-card\"\n  >\n    <v-card-title>Raw Materials Release Form</v-card-title>\n    <v-alert\n      v-show=\"isRawMaterialsEmpty\"\n      dense\n      text\n      type=\"error\"\n      dismissible\n    >\n      Raw Materials are required\n    </v-alert>\n    <v-form class=\"pa-3\">\n      <v-row>\n        <v-col\n          cols=\"12\"\n        >\n          <div\n            v-for=\"(item, index) in attachedProducts\"\n            :key=\"index\"\n          >\n            <raw-material-add-selector\n              :product-data=\"item\"\n              :product-dropdown=\"productDropdown\"\n              :item-number=\"index\"\n              @removeProductRow=\"handleRemoveProductRow\"\n              @addProductRow=\"handleAddProductRow\"\n            />\n          </div>\n        </v-col>\n\n        <v-col\n          cols=\"12\"\n          md=\"9\"\n        >\n          <v-textarea\n            id=\"description\"\n            v-model=\"releaseForm.description\"\n            outlined\n            rows=\"4\"\n            label=\"Description\"\n            :readonly=\"false\"\n            hide-details=\"auto\"\n            :prepend-inner-icon=\"icons.mdiViewList\"\n            :error-messages=\"errors.description\"\n            :persistent-placeholder=\"false\"\n          ></v-textarea>\n        </v-col>\n        <v-col cols=\"12\">\n          <v-btn\n            color=\"primary\"\n            class=\"me-3 mt-4\"\n            @click=\"submit\"\n          >\n            Submit\n          </v-btn>\n          <v-btn\n            color=\"error\"\n            outlined\n            class=\"me-3 mt-3\"\n            type=\"reset\"\n            @click.prevent=\"cancel\"\n          >\n            Cancel\n          </v-btn>\n        </v-col>\n      </v-row>\n    </v-form>\n  </v-card>\n</template>\n\n<script>\nimport {\n  ref, computed, onMounted, watch, toRef,\n} from '@vue/composition-api'\nimport {\n  mdiAccessPointCheck,\n  mdiAccountOutline,\n  mdiPuzzle,\n  mdiCalendar,\n  mdiCellphone,\n  mdiEmailOutline, mdiEye, mdiEyeOff,\n  mdiGenderNonBinary,\n  mdiGroup,\n  mdiHomeFloor0,\n  mdiHomePlus,\n  mdiHumanEdit,\n  mdiIdCard,\n  mdiIdentifier,\n  mdiListStatus,\n  mdiLockOutline, mdiOrigin,\n  mdiOutdoorLamp,\n  mdiPackage, mdiPlusBoxOutline, mdiViewList,\n} from '@mdi/js'\nimport store from '@/store'\nimport RawMaterialAddSelector from '@/views/pages/warehouse/raw-materials-release/components/RawMaterialAddSelector.vue'\nimport router from '@/router'\n\nexport default {\n  name: 'ReleaseForm',\n  components: {\n    RawMaterialAddSelector,\n  },\n  props: {\n    releaseOrder: {\n      type: Object,\n      default: () => null,\n      required: false,\n    },\n  },\n  setup(props) {\n    const releaseOrderData = toRef(props, 'releaseOrder')\n    const releaseForm = ref({\n      description: '',\n    })\n    const products = computed(() => store.state.ReleaseOrderStore.rawMaterials)\n    const errors = computed(() => store.state.UserAccessManagementStore.errors)\n    const selectedProductIds = ref([])\n    const attachedProducts = ref([\n      {\n        product_id: '',\n        total_pieces: '',\n        total_boxes: '',\n        items_per_box: '',\n      },\n    ])\n    const isRawMaterialsEmpty = ref(false)\n    const productDropdown = ref([])\n\n    const arrayColumn = (array, column) => array.map(item => item[column])\n\n    const validateSelectedProduct = () => {\n      productDropdown.value = productDropdown.value.map(product => {\n        // eslint-disable-next-line no-param-reassign\n        product.disabled = selectedProductIds.value.includes(product.id)\n\n        return product\n      })\n    }\n\n    watch(\n      products,\n      () => {\n        productDropdown.value = products.value\n        validateSelectedProduct()\n      },\n      { immediate: true },\n    )\n\n    watch(\n      releaseOrderData,\n      () => {\n        attachedProducts.value = releaseOrderData.value.raw_materials\n        releaseForm.value.description = releaseOrderData.value.description\n        selectedProductIds.value = arrayColumn(releaseOrderData.value.raw_materials, 'product_id')\n        validateSelectedProduct()\n      },\n    )\n\n    const handleRemoveProductRow = index => {\n      if (attachedProducts.value.length === 1) {\n        attachedProducts.value = [\n          {\n            product_id: '',\n            total_pieces: '',\n            total_boxes: '',\n          },\n        ]\n\n        return\n      }\n\n      attachedProducts.value.splice(index, 1)\n\n      selectedProductIds.value = arrayColumn(attachedProducts.value, 'product_id')\n\n      validateSelectedProduct()\n    }\n\n    const handleAddProductRow = () => {\n      selectedProductIds.value = arrayColumn(attachedProducts.value, 'product_id')\n\n      if (selectedProductIds.value[0] === '') {\n        return\n      }\n\n      attachedProducts.value.push({\n        product_id: '',\n        total_pieces: '',\n        total_boxes: '',\n      })\n\n      validateSelectedProduct()\n    }\n\n    onMounted(() => {\n      store.dispatch('ReleaseOrderStore/getRawMaterials')\n    })\n\n    const submit = () => {\n      const rawMaterials = []\n\n      attachedProducts.value.forEach(product => {\n        if (product.product_id !== '' && product.total_boxes !== '') {\n          rawMaterials.push(product)\n        }\n      })\n\n      if (rawMaterials.length === 0) {\n        isRawMaterialsEmpty.value = true\n\n        return\n      }\n\n      const formData = {\n        description: releaseForm.value.description,\n        raw_materials: rawMaterials,\n        id: releaseOrderData.value?.id ?? null,\n      }\n\n      if (releaseOrderData.value === null) {\n        store.dispatch('ReleaseOrderStore/createReleaseOrder', formData)\n          .then(\n            response => {\n              if (response.status === undefined) {\n                router.push('/raw-materials-release')\n              }\n            },\n          )\n\n        return\n      }\n\n      store.dispatch('ReleaseOrderStore/updateReleaseOrder', formData)\n        .then(\n          response => {\n            if (response.status === undefined) {\n              store.dispatch('ReleaseOrderStore/getReleaseOrder', releaseOrderData.value.id)\n            }\n          },\n        )\n    }\n\n    const cancel = () => {\n      router.push('/raw-materials-release')\n    }\n\n    return {\n      isRawMaterialsEmpty,\n      handleRemoveProductRow,\n      attachedProducts,\n      handleAddProductRow,\n      productDropdown,\n      cancel,\n      submit,\n      errors,\n      releaseForm,\n      products,\n      icons: {\n        mdiPuzzle,\n        mdiViewList,\n        mdiPackage,\n        mdiOutdoorLamp,\n        mdiGenderNonBinary,\n        mdiGroup,\n        mdiCalendar,\n        mdiAccountOutline,\n        mdiPlusBoxOutline,\n        mdiEmailOutline,\n        mdiCellphone,\n        mdiAccessPointCheck,\n        mdiLockOutline,\n        mdiHomeFloor0,\n        mdiIdentifier,\n        mdiIdCard,\n        mdiHomePlus,\n        mdiListStatus,\n        mdiHumanEdit,\n        mdiEye,\n        mdiEyeOff,\n        mdiOrigin,\n      },\n    }\n  },\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}