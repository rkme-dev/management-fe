{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/thread-loader/dist/cjs.js!/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js!/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/projects/enco-fe/src/views/pages/user-access-management/departments/DepartmentListTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/views/pages/user-access-management/departments/DepartmentListTable.vue","mtime":1657615670574},{"path":"/Users/mark/projects/enco-fe/babel.config.js","mtime":1655991784146},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/thread-loader/dist/cjs.js","mtime":1650363913040},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1652172763063},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js","mtime":1650363919730}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL21hcmsvcHJvamVjdHMvZW5jby1mZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1kaUFjY291bnRFZGl0LCBtZGlEZWxldGVDaXJjbGUsIG1kaU1hZ25pZnkgfSBmcm9tICdAbWRpL2pzJzsKaW1wb3J0IERlcGFydG1lbnRGb3JtIGZyb20gJ0Avdmlld3MvcGFnZXMvdXNlci1hY2Nlc3MtbWFuYWdlbWVudC9kZXBhcnRtZW50cy9EZXBhcnRtZW50Rm9ybS52dWUnOwppbXBvcnQgeyByZWYgfSBmcm9tICdAdnVlL2NvbXBvc2l0aW9uLWFwaSc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBEZXBhcnRtZW50Rm9ybTogRGVwYXJ0bWVudEZvcm0KICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHZhciBzZWFyY2ggPSByZWYoJycpOwogICAgcmV0dXJuIHsKICAgICAgaWNvbnM6IHsKICAgICAgICBtZGlBY2NvdW50RWRpdDogbWRpQWNjb3VudEVkaXQsCiAgICAgICAgbWRpRGVsZXRlQ2lyY2xlOiBtZGlEZWxldGVDaXJjbGUsCiAgICAgICAgbWRpTWFnbmlmeTogbWRpTWFnbmlmeQogICAgICB9LAogICAgICBzZWFyY2g6IHNlYXJjaAogICAgfTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkaWFsb2c6IGZhbHNlLAogICAgICBkaWFsb2dEZWxldGU6IGZhbHNlLAogICAgICBoZWFkZXJzOiBbewogICAgICAgIHRleHQ6ICdUaXRsZScsCiAgICAgICAgYWxpZ246ICdzdGFydCcsCiAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgdmFsdWU6ICd0aXRsZScKICAgICAgfSwgewogICAgICAgIHRleHQ6ICdWYWx1ZScsCiAgICAgICAgdmFsdWU6ICduYW1lJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ0RhdGUgQ3JlYXRlZCcsCiAgICAgICAgdmFsdWU6ICdjcmVhdGVkX2F0JwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ0FjdGlvbnMnLAogICAgICAgIHZhbHVlOiAnYWN0aW9ucycsCiAgICAgICAgc29ydGFibGU6IGZhbHNlCiAgICAgIH1dLAogICAgICBlZGl0ZWRJbmRleDogLTEsCiAgICAgIGVkaXRlZEl0ZW06IHsKICAgICAgICBhYmlsaXRpZXM6IFtdLAogICAgICAgIHRpdGxlOiAnJywKICAgICAgICBuYW1lOiAnJywKICAgICAgICBzY29wZTogJycsCiAgICAgICAgZGF0ZV9jcmVhdGVkOiAnJywKICAgICAgICBhY3Rpb25zOiAnJwogICAgICB9LAogICAgICBkZWZhdWx0SXRlbTogewogICAgICAgIGFiaWxpdGllczogW10sCiAgICAgICAgdGl0bGU6ICcnLAogICAgICAgIG5hbWU6ICcnLAogICAgICAgIHNjb3BlOiAnJywKICAgICAgICBkYXRlX2NyZWF0ZWQ6ICcnLAogICAgICAgIGFjdGlvbnM6ICcnCiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgZm9ybVRpdGxlOiBmdW5jdGlvbiBmb3JtVGl0bGUoKSB7CiAgICAgIHJldHVybiB0aGlzLmVkaXRlZEluZGV4ID09PSAtMSA/ICdOZXcgRGVwYXJ0bWVudCcgOiAnRWRpdCBEZXBhcnRtZW50JzsKICAgIH0sCiAgICBkZXBhcnRtZW50czogZnVuY3Rpb24gZGVwYXJ0bWVudHMoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5Vc2VyQWNjZXNzTWFuYWdlbWVudFN0b3JlLmRlcGFydG1lbnRzOwogICAgfSwKICAgIGxvYWRpbmc6IGZ1bmN0aW9uIGxvYWRpbmcoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5Vc2VyQWNjZXNzTWFuYWdlbWVudFN0b3JlLmxvYWRpbmc7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgZGlhbG9nOiBmdW5jdGlvbiBkaWFsb2codmFsKSB7CiAgICAgIHJldHVybiB2YWwgfHwgdGhpcy5jbG9zZSgpOwogICAgfSwKICAgIGRpYWxvZ0RlbGV0ZTogZnVuY3Rpb24gZGlhbG9nRGVsZXRlKHZhbCkgewogICAgICByZXR1cm4gdmFsIHx8IHRoaXMuY2xvc2VEZWxldGUoKTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnVXNlckFjY2Vzc01hbmFnZW1lbnRTdG9yZS9nZXREZXBhcnRtZW50cycpOwogIH0sCiAgbWV0aG9kczogewogICAgZWRpdEl0ZW06IGZ1bmN0aW9uIGVkaXRJdGVtKGl0ZW0pIHsKICAgICAgdGhpcy5lZGl0ZWRJbmRleCA9IHRoaXMuZGVwYXJ0bWVudHMuaW5kZXhPZihpdGVtKTsKICAgICAgdGhpcy5lZGl0ZWRJdGVtID0gX29iamVjdFNwcmVhZCh7fSwgaXRlbSk7CiAgICAgIHRoaXMuZGlhbG9nID0gdHJ1ZTsKICAgIH0sCiAgICBkZWxldGVJdGVtOiBmdW5jdGlvbiBkZWxldGVJdGVtKGl0ZW0pIHsKICAgICAgdGhpcy5lZGl0ZWRJbmRleCA9IHRoaXMuZGVwYXJ0bWVudHMuaW5kZXhPZihpdGVtKTsKICAgICAgdGhpcy5lZGl0ZWRJdGVtID0gX29iamVjdFNwcmVhZCh7fSwgaXRlbSk7CiAgICAgIHRoaXMuZGlhbG9nRGVsZXRlID0gdHJ1ZTsKICAgIH0sCiAgICBkZWxldGVJdGVtQ29uZmlybTogZnVuY3Rpb24gZGVsZXRlSXRlbUNvbmZpcm0oKSB7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdVc2VyQWNjZXNzTWFuYWdlbWVudFN0b3JlL2RlbGV0ZURlcGFydG1lbnQnLCB0aGlzLmRlcGFydG1lbnRzW3RoaXMuZWRpdGVkSW5kZXhdKTsKICAgICAgdGhpcy5kZXBhcnRtZW50cy5zcGxpY2UodGhpcy5lZGl0ZWRJbmRleCwgMSk7CiAgICAgIHRoaXMuY2xvc2VEZWxldGUoKTsKICAgIH0sCiAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmRpYWxvZyA9IGZhbHNlOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuZWRpdGVkSXRlbSA9IF9vYmplY3RTcHJlYWQoe30sIF90aGlzLmRlZmF1bHRJdGVtKTsKICAgICAgICBfdGhpcy5lZGl0ZWRJbmRleCA9IC0xOwogICAgICB9KTsKICAgIH0sCiAgICBjbG9zZURlbGV0ZTogZnVuY3Rpb24gY2xvc2VEZWxldGUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5kaWFsb2dEZWxldGUgPSBmYWxzZTsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi5lZGl0ZWRJdGVtID0gX29iamVjdFNwcmVhZCh7fSwgX3RoaXMyLmRlZmF1bHRJdGVtKTsKICAgICAgICBfdGhpczIuZWRpdGVkSW5kZXggPSAtMTsKICAgICAgfSk7CiAgICB9LAogICAgc2F2ZTogZnVuY3Rpb24gc2F2ZSgpIHsKICAgICAgaWYgKHRoaXMuZWRpdGVkSW5kZXggPiAtMSkgewogICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5kZXBhcnRtZW50c1t0aGlzLmVkaXRlZEluZGV4XSwgdGhpcy5lZGl0ZWRJdGVtKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmRlcGFydG1lbnRzLnB1c2godGhpcy5lZGl0ZWRJdGVtKTsKICAgICAgfQoKICAgICAgdGhpcy5jbG9zZSgpOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkIA;AACA;AACA;AAEA;EACAA;IACAC;EADA,CADA;EAIAC,KAJA,mBAIA;IACA;IAEA;MACAC;QACAC,8BADA;QAEAC,gCAFA;QAGAC;MAHA,CADA;MAMAC;IANA;EAQA,CAfA;EAgBAC;IAAA;MACAC,aADA;MAEAC,mBAFA;MAGAC,UACA;QACAC,aADA;QAEAC,cAFA;QAGAC,cAHA;QAIAC;MAJA,CADA,EAOA;QAAAH;QAAAG;MAAA,CAPA,EAQA;QAAAH;QAAAG;MAAA,CARA,EASA;QAAAH;QAAAG;QAAAD;MAAA,CATA,CAHA;MAcAE,eAdA;MAeAC;QACAC,aADA;QAEAC,SAFA;QAGAC,QAHA;QAIAC,SAJA;QAKAC,gBALA;QAMAC;MANA,CAfA;MAuBAC;QACAN,aADA;QAEAC,SAFA;QAGAC,QAHA;QAIAC,SAJA;QAKAC,gBALA;QAMAC;MANA;IAvBA;EAAA,CAhBA;EAiDAE;IACAC,SADA,uBACA;MACA;IACA,CAHA;IAIAC,WAJA,yBAIA;MACA;IACA,CANA;IAOAC,OAPA,qBAOA;MACA;IACA;EATA,CAjDA;EA6DAC;IACApB,MADA,kBACAqB,GADA,EACA;MACA;IACA,CAHA;IAIApB,YAJA,wBAIAoB,GAJA,EAIA;MACA;IACA;EANA,CA7DA;EAqEAC,OArEA,qBAqEA;IACA;EACA,CAvEA;EAwEAC;IACAC,QADA,oBACAC,IADA,EACA;MACA;MACA;MACA;IACA,CALA;IAOAC,UAPA,sBAOAD,IAPA,EAOA;MACA;MACA;MACA;IACA,CAXA;IAaAE,iBAbA,+BAaA;MACA;MACA;MACA;IACA,CAjBA;IAmBAC,KAnBA,mBAmBA;MAAA;;MACA;MACA;QACA;QACA;MACA,CAHA;IAIA,CAzBA;IA2BAC,WA3BA,yBA2BA;MAAA;;MACA;MACA;QACA;QACA;MACA,CAHA;IAIA,CAjCA;IAmCAC,IAnCA,kBAmCA;MACA;QACAC;MACA,CAFA,MAEA;QACA;MACA;;MACA;IACA;EA1CA;AAxEA","names":["components","DepartmentForm","setup","icons","mdiAccountEdit","mdiDeleteCircle","mdiMagnify","search","data","dialog","dialogDelete","headers","text","align","sortable","value","editedIndex","editedItem","abilities","title","name","scope","date_created","actions","defaultItem","computed","formTitle","departments","loading","watch","val","created","methods","editItem","item","deleteItem","deleteItemConfirm","close","closeDelete","save","Object"],"sourceRoot":"src/views/pages/user-access-management/departments","sources":["DepartmentListTable.vue"],"sourcesContent":["<template>\n  <div>\n    <v-data-table\n      :headers=\"headers\"\n      :items=\"departments\"\n      :search=\"search\"\n      sort-by=\"title\"\n      class=\"elevation-1\"\n      fixed-header\n      :loading=\"loading\"\n    >\n      <template v-slot:top>\n        <v-toolbar\n          flat\n        >\n          <v-col\n            cols=\"12\"\n            offset-md=\"12\"\n            md=\"2\"\n          >\n            <v-toolbar-title>Departments</v-toolbar-title>\n          </v-col>\n          <v-divider\n            class=\"mx-4\"\n            inset\n            vertical\n          ></v-divider>\n          <v-card-text>\n            <v-row>\n              <v-col\n                cols=\"8\"\n                offset-md=\"8\"\n                md=\"4\"\n              >\n                <v-text-field\n                  v-model=\"search\"\n                  :append-icon=\"icons.mdiMagnify\"\n                  label=\"Search\"\n                  single-line\n                  hide-details\n                ></v-text-field>\n              </v-col>\n            </v-row>\n          </v-card-text>\n\n          <v-spacer></v-spacer>\n          <v-dialog\n            v-model=\"dialog\"\n            max-width=\"800px\"\n          >\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn\n                color=\"primary\"\n                dark\n                class=\"mb-2\"\n                v-bind=\"attrs\"\n                v-on=\"on\"\n              >\n                Create Department\n              </v-btn>\n            </template>\n            <v-card>\n              <v-card-title>\n                <span class=\"headline\">{{ formTitle }}</span>\n              </v-card-title>\n              <v-card-text>\n                <department-form\n                  :department=\"editedItem\"\n                  @clicked=\"dialog=false\"\n                ></department-form>\n              </v-card-text>\n            </v-card>\n          </v-dialog>\n          <v-dialog\n            v-model=\"dialogDelete\"\n            max-width=\"500px\"\n          >\n            <v-card>\n              <v-card-title>\n                Are you sure you want to delete this item?\n              </v-card-title>\n              <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn\n                  color=\"error\"\n                  text\n                  @click=\"closeDelete\"\n                >\n                  Cancel\n                </v-btn>\n                <v-btn\n                  color=\"success\"\n                  text\n                  @click=\"deleteItemConfirm\"\n                >\n                  OK\n                </v-btn>\n                <v-spacer></v-spacer>\n              </v-card-actions>\n            </v-card>\n          </v-dialog>\n        </v-toolbar>\n      </template>\n      <template v-slot:item.actions=\"{ item }\">\n        <v-icon\n          small\n          class=\"mr-2\"\n          @click=\"editItem(item)\"\n        >\n          {{ icons.mdiAccountEdit }}\n        </v-icon>\n        <v-icon\n          small\n          @click=\"deleteItem(item)\"\n        >\n          {{ icons.mdiDeleteCircle }}\n        </v-icon>\n      </template>\n      <template v-slot:no-data>\n        <v-btn\n          color=\"primary\"\n        >\n          Refresh\n        </v-btn>\n      </template>\n    </v-data-table>\n  </div>\n</template>\n\n<script>\nimport { mdiAccountEdit, mdiDeleteCircle, mdiMagnify } from '@mdi/js'\nimport DepartmentForm from '@/views/pages/user-access-management/departments/DepartmentForm.vue'\nimport { ref } from '@vue/composition-api'\n\nexport default {\n  components: {\n    DepartmentForm,\n  },\n  setup() {\n    const search = ref('')\n\n    return {\n      icons: {\n        mdiAccountEdit,\n        mdiDeleteCircle,\n        mdiMagnify,\n      },\n      search,\n    }\n  },\n  data: () => ({\n    dialog: false,\n    dialogDelete: false,\n    headers: [\n      {\n        text: 'Title',\n        align: 'start',\n        sortable: true,\n        value: 'title',\n      },\n      { text: 'Value', value: 'name' },\n      { text: 'Date Created', value: 'created_at' },\n      { text: 'Actions', value: 'actions', sortable: false },\n    ],\n    editedIndex: -1,\n    editedItem: {\n      abilities: [],\n      title: '',\n      name: '',\n      scope: '',\n      date_created: '',\n      actions: '',\n    },\n    defaultItem: {\n      abilities: [],\n      title: '',\n      name: '',\n      scope: '',\n      date_created: '',\n      actions: '',\n    },\n  }),\n\n  computed: {\n    formTitle() {\n      return this.editedIndex === -1 ? 'New Department' : 'Edit Department'\n    },\n    departments() {\n      return this.$store.state.UserAccessManagementStore.departments\n    },\n    loading() {\n      return this.$store.state.UserAccessManagementStore.loading\n    },\n  },\n\n  watch: {\n    dialog(val) {\n      return val || this.close()\n    },\n    dialogDelete(val) {\n      return val || this.closeDelete()\n    },\n  },\n  created() {\n    this.$store.dispatch('UserAccessManagementStore/getDepartments')\n  },\n  methods: {\n    editItem(item) {\n      this.editedIndex = this.departments.indexOf(item)\n      this.editedItem = { ...item }\n      this.dialog = true\n    },\n\n    deleteItem(item) {\n      this.editedIndex = this.departments.indexOf(item)\n      this.editedItem = { ...item }\n      this.dialogDelete = true\n    },\n\n    deleteItemConfirm() {\n      this.$store.dispatch('UserAccessManagementStore/deleteDepartment', this.departments[this.editedIndex])\n      this.departments.splice(this.editedIndex, 1)\n      this.closeDelete()\n    },\n\n    close() {\n      this.dialog = false\n      this.$nextTick(() => {\n        this.editedItem = { ...this.defaultItem }\n        this.editedIndex = -1\n      })\n    },\n\n    closeDelete() {\n      this.dialogDelete = false\n      this.$nextTick(() => {\n        this.editedItem = { ...this.defaultItem }\n        this.editedIndex = -1\n      })\n    },\n\n    save() {\n      if (this.editedIndex > -1) {\n        Object.assign(this.departments[this.editedIndex], this.editedItem)\n      } else {\n        this.departments.push(this.editedItem)\n      }\n      this.close()\n    },\n  },\n}\n</script>\n"]}]}