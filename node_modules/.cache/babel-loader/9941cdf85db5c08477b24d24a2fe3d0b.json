{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/thread-loader/dist/cjs.js!/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js!/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/projects/enco-fe/src/views/pages/user-access-management/users/UserInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/views/pages/user-access-management/users/UserInfo.vue","mtime":1658560497494},{"path":"/Users/mark/projects/enco-fe/babel.config.js","mtime":1655991784146},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/thread-loader/dist/cjs.js","mtime":1650363913040},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1652172763063},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js","mtime":1650363919730}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1kaUFsZXJ0T3V0bGluZSwgbWRpQ2xvdWRVcGxvYWRPdXRsaW5lIH0gZnJvbSAnQG1kaS9qcyc7CmltcG9ydCB7IGNvbXB1dGVkLCByZWYsIHRvUmVmIH0gZnJvbSAnQHZ1ZS9jb21wb3NpdGlvbi1hcGknOwppbXBvcnQgcm91dGVyIGZyb20gJ0Avcm91dGVyJzsKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOwppbXBvcnQgUmVzZXRQYXNzd29yZEZvcm0gZnJvbSAnQC92aWV3cy9wYWdlcy91c2VyLWFjY2Vzcy1tYW5hZ2VtZW50L3VzZXJzL1Jlc2V0UGFzc3dvcmRGb3JtLnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBSZXNldFBhc3N3b3JkRm9ybTogUmVzZXRQYXNzd29yZEZvcm0KICB9LAogIHByb3BzOiB7CiAgICBhY2NvdW50RGF0YTogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICBsb2FkaW5nOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9CiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAocHJvcHMpIHsKICAgIHZhciBlcnJvcnMgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBzdG9yZS5zdGF0ZS5Vc2VyQWNjZXNzTWFuYWdlbWVudFN0b3JlLmVycm9yczsKICAgIH0pOwogICAgdmFyIHN0YXR1cyA9IFsnQWN0aXZlJywgJ0luYWN0aXZlJywgJ1BlbmRpbmcnLCAnRGVsZXRlZCcsICdEZWFjdGl2YXRlZCddOwogICAgdmFyIGFjY291bnREYXRhTG9jYWxlID0gdG9SZWYocHJvcHMsICdhY2NvdW50RGF0YScpOwogICAgdmFyIGxvYWRpbmdMb2NhbGUgPSB0b1JlZihwcm9wcywgJ2xvYWRpbmcnKTsKICAgIHZhciBzaG93QWxlcnQgPSByZWYoZmFsc2UpOwogICAgdmFyIHJlc2V0UGFzc3dvcmQgPSByZWYoewogICAgICBzaG93OiBmYWxzZQogICAgfSk7CiAgICBhY2NvdW50RGF0YUxvY2FsZS52YWx1ZS5hdmF0YXJJbWcgPSByZXF1aXJlKCdAL2Fzc2V0cy9pbWFnZXMvYXZhdGFycy8xLnBuZycpOwoKICAgIHZhciBnb0JhY2sgPSBmdW5jdGlvbiBnb0JhY2soKSB7CiAgICAgIHJvdXRlci5wdXNoKCcvdXNlcnMnKTsKICAgIH07CgogICAgdmFyIHRvZ2dsZVJlc2V0UGFzc3dvcmQgPSBmdW5jdGlvbiB0b2dnbGVSZXNldFBhc3N3b3JkKCkgewogICAgICByZXNldFBhc3N3b3JkLnZhbHVlLnNob3cgPSB0cnVlOwogICAgfTsKCiAgICB2YXIgYWxlcnQgPSBmdW5jdGlvbiBhbGVydCh2YWx1ZSkgewogICAgICByZXNldFBhc3N3b3JkLnZhbHVlLnNob3cgPSBmYWxzZTsKCiAgICAgIGlmICh2YWx1ZSAhPT0gZmFsc2UpIHsKICAgICAgICBzaG93QWxlcnQudmFsdWUgPSB0cnVlOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgc2hvd0FsZXJ0LnZhbHVlID0gZmFsc2U7CiAgICAgICAgfSwgMTUwMCk7CiAgICAgIH0KICAgIH07CgogICAgdmFyIHN1Ym1pdCA9IGZ1bmN0aW9uIHN1Ym1pdCgpIHsKICAgICAgc3RvcmUuZGlzcGF0Y2goJ1VzZXJBY2Nlc3NNYW5hZ2VtZW50U3RvcmUvdXBkYXRlVXNlcicsIHsKICAgICAgICBuYW1lOiBhY2NvdW50RGF0YUxvY2FsZS52YWx1ZS5uYW1lLAogICAgICAgIGVtYWlsOiBhY2NvdW50RGF0YUxvY2FsZS52YWx1ZS5lbWFpbCwKICAgICAgICBzdGF0dXM6IGFjY291bnREYXRhTG9jYWxlLnZhbHVlLnN0YXR1cywKICAgICAgICBpZDogYWNjb3VudERhdGFMb2NhbGUudmFsdWUuaWQKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIGFsZXJ0KCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH07CgogICAgcmV0dXJuIHsKICAgICAgYWxlcnQ6IGFsZXJ0LAogICAgICBlcnJvcnM6IGVycm9ycywKICAgICAgbG9hZGluZ0xvY2FsZTogbG9hZGluZ0xvY2FsZSwKICAgICAgZ29CYWNrOiBnb0JhY2ssCiAgICAgIHN0YXR1czogc3RhdHVzLAogICAgICBhY2NvdW50RGF0YUxvY2FsZTogYWNjb3VudERhdGFMb2NhbGUsCiAgICAgIGljb25zOiB7CiAgICAgICAgbWRpQWxlcnRPdXRsaW5lOiBtZGlBbGVydE91dGxpbmUsCiAgICAgICAgbWRpQ2xvdWRVcGxvYWRPdXRsaW5lOiBtZGlDbG91ZFVwbG9hZE91dGxpbmUKICAgICAgfSwKICAgICAgcmVzZXRQYXNzd29yZDogcmVzZXRQYXNzd29yZCwKICAgICAgc2hvd0FsZXJ0OiBzaG93QWxlcnQsCiAgICAgIHN1Ym1pdDogc3VibWl0LAogICAgICB0b2dnbGVSZXNldFBhc3N3b3JkOiB0b2dnbGVSZXNldFBhc3N3b3JkCiAgICB9OwogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoHA;AACA;AACA;AACA;AACA;AAEA;EACAA;IACAC;EADA,CADA;EAIAC;IACAC;MACAC,YADA;MAEAC;IAFA,CADA;IAKAC;MACAF,aADA;MAEAC,aAFA;MAGAE;IAHA;EALA,CAJA;EAeAC,KAfA,iBAeAN,KAfA,EAeA;IACA;MAAA;IAAA;IACA;IACA;IACA;IACA;IACA;MACAO;IADA;IAIAC;;IAEA;MACAC;IACA,CAFA;;IAIA;MACAC;IACA,CAFA;;IAIA;MACAA;;MAEA;QACAC;QACAC;UACAD;QACA,CAFA,EAEA,IAFA;MAGA;IACA,CATA;;IAWA;MACAE;QACAC,kCADA;QAEAC,oCAFA;QAGAC,sCAHA;QAIAC;MAJA,GAKAC,IALA,CAMA;QACA;UACAC;QACA;MACA,CAVA;IAYA,CAbA;;IAeA;MACAA,YADA;MAEAC,cAFA;MAGAC,4BAHA;MAIAC,cAJA;MAKAN,cALA;MAMAR,oCANA;MAOAe;QACAC,gCADA;QAEAC;MAFA,CAPA;MAWAf,4BAXA;MAYAC,oBAZA;MAaAe,cAbA;MAcAC;IAdA;EAgBA;AA7EA","names":["components","ResetPasswordForm","props","accountData","type","default","loading","required","setup","show","accountDataLocale","router","resetPassword","showAlert","setTimeout","store","name","email","status","id","then","alert","errors","loadingLocale","goBack","icons","mdiAlertOutline","mdiCloudUploadOutline","submit","toggleResetPassword"],"sourceRoot":"src/views/pages/user-access-management/users","sources":["UserInfo.vue"],"sourcesContent":["<template>\n  <v-card\n    flat\n    class=\"pa-3 mt-2\"\n  >\n    <v-alert\n      dense\n      text\n      v-show=\"showAlert\"\n      type=\"success\"\n      dismissible\n    >\n      Successfully updated\n    </v-alert>\n    <v-card-text>\n      <v-dialog\n        v-model=\"resetPassword.show\"\n        max-width=\"800px\"\n      >\n        <v-card>\n          <v-card-title>\n            <span class=\"headline\">Change Password</span>\n          </v-card-title>\n          <v-card-text>\n            <ResetPasswordForm\n              :user-data=\"accountDataLocale\"\n              @clicked=\"alert\"\n            ></ResetPasswordForm>\n          </v-card-text>\n        </v-card>\n\n      </v-dialog>\n      <v-progress-linear\n        v-show=\"loadingLocale\"\n        indeterminate\n        color=\"primary\"\n      ></v-progress-linear>\n      <v-form\n        v-if=\"!loadingLocale\"\n        class=\"multi-col-validation mt-6\"\n      >\n        <v-row>\n          <v-col\n            md=\"6\"\n            cols=\"12\"\n          >\n            <v-text-field\n              v-model=\"accountDataLocale.email\"\n              label=\"Email\"\n              :error-messages=\"errors.email\"\n              dense\n              outlined\n            ></v-text-field>\n          </v-col>\n\n          <v-col\n            md=\"6\"\n            cols=\"12\"\n          >\n            <v-text-field\n              v-model=\"accountDataLocale.name\"\n              label=\"Name\"\n              :error-messages=\"errors.name\"\n              dense\n              outlined\n            ></v-text-field>\n          </v-col>\n\n          <v-col\n            cols=\"12\"\n            md=\"6\"\n          >\n            <v-select\n              v-model=\"accountDataLocale.status\"\n              dense\n              outlined\n              label=\"Status\"\n              :error-messages=\"errors.status\"\n              :items=\"status\"\n            ></v-select>\n          </v-col>\n\n          <v-col cols=\"12\">\n            <v-btn\n              color=\"primary\"\n              class=\"me-3 mt-4\"\n              @click=\"submit\"\n            >\n              Save changes\n            </v-btn>\n            <v-btn\n              color=\"info\"\n              outlined\n              class=\"me-3 mt-3\"\n              type=\"reset\"\n              @click.prevent=\"goBack\"\n            >\n              Back to Users Page\n            </v-btn>\n            <v-btn\n              color=\"warning\"\n              outlined\n              class=\"mt-3\"\n              type=\"reset\"\n              @click.prevent=\"toggleResetPassword\"\n            >\n              Reset Password\n            </v-btn>\n          </v-col>\n        </v-row>\n      </v-form>\n    </v-card-text>\n  </v-card>\n</template>\n\n<script>\nimport { mdiAlertOutline, mdiCloudUploadOutline } from '@mdi/js'\nimport { computed, ref, toRef } from '@vue/composition-api'\nimport router from '@/router'\nimport store from '@/store'\nimport ResetPasswordForm from '@/views/pages/user-access-management/users/ResetPasswordForm.vue'\n\nexport default {\n  components: {\n    ResetPasswordForm,\n  },\n  props: {\n    accountData: {\n      type: Object,\n      default: null,\n    },\n    loading: {\n      type: Boolean,\n      default: true,\n      required: true,\n    },\n  },\n  setup(props) {\n    const errors = computed(() => store.state.UserAccessManagementStore.errors)\n    const status = ['Active', 'Inactive', 'Pending', 'Deleted', 'Deactivated']\n    const accountDataLocale = toRef(props, 'accountData')\n    const loadingLocale = toRef(props, 'loading')\n    const showAlert = ref(false)\n    const resetPassword = ref({\n      show: false,\n    })\n\n    accountDataLocale.value.avatarImg = require('@/assets/images/avatars/1.png')\n\n    const goBack = () => {\n      router.push('/users')\n    }\n\n    const toggleResetPassword = () => {\n      resetPassword.value.show = true\n    }\n\n    const alert = (value) => {\n      resetPassword.value.show = false\n\n      if (value !== false) {\n        showAlert.value = true\n        setTimeout(() => {\n          showAlert.value = false\n        }, 1500)\n      }\n    }\n\n    const submit = () => {\n      store.dispatch('UserAccessManagementStore/updateUser', {\n        name: accountDataLocale.value.name,\n        email: accountDataLocale.value.email,\n        status: accountDataLocale.value.status,\n        id: accountDataLocale.value.id,\n      }).then(\n        response => {\n          if (response.status === undefined) {\n            alert()\n          }\n        },\n      )\n    }\n\n    return {\n      alert,\n      errors,\n      loadingLocale,\n      goBack,\n      status,\n      accountDataLocale,\n      icons: {\n        mdiAlertOutline,\n        mdiCloudUploadOutline,\n      },\n      resetPassword,\n      showAlert,\n      submit,\n      toggleResetPassword,\n    }\n  },\n}\n</script>\n"]}]}