{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/thread-loader/dist/cjs.js!/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js!/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/projects/enco-fe/src/views/pages/purchase-orders/purchase-order/PurchaseOrderApprove.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/views/pages/purchase-orders/purchase-order/PurchaseOrderApprove.vue","mtime":1659682290474},{"path":"/Users/mark/projects/enco-fe/babel.config.js","mtime":1655991784146},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/thread-loader/dist/cjs.js","mtime":1650363913040},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1652172763063},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js","mtime":1650363919730}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL21hcmsvcHJvamVjdHMvZW5jby1mZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcmVnZW5lcmF0b3JSdW50aW1lLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9tYXJrL3Byb2plY3RzL2VuY28tZmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIudG8tZml4ZWQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGNvbXB1dGVkLCByZWYsIHdhdGNoLCBvbk1vdW50ZWQgfSBmcm9tICdAdnVlL2NvbXBvc2l0aW9uLWFwaSc7CmltcG9ydCByb3V0ZXIgZnJvbSAnQC9yb3V0ZXInOwppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZSc7CmltcG9ydCB7IEFQUFJPVkVfUFVSQ0hBU0VfT1JERVIsIEdFVF9TVVBQTElFUlMsIEdFVF9QUk9EVUNUUywgR0VUX1BVUkNIQVNFX09SREVSIH0gZnJvbSAnQC9zdG9yZS9hY3Rpb25zLnR5cGUnOwppbXBvcnQgUHVyY2hhc2VPcmRlcnNTZXJ2aWNlIGZyb20gJ0AvdXRpbHMvc2VydmljZXMvcHVyY2hhc2Utb3JkZXJzLnNlcnZpY2UnOwppbXBvcnQgeyBtZGlBY2NvdW50T3V0bGluZSwgbWRpQ2FydFBsdXMgfSBmcm9tICJAbWRpL2pzIjsKaW1wb3J0IFB1cmNoYXNlT3JkZXJQYXltZW50TG9ncyBmcm9tICJAL3ZpZXdzL3BhZ2VzL3B1cmNoYXNlLW9yZGVycy9wdXJjaGFzZS1vcmRlci9sb2dzL1B1cmNoYXNlT3JkZXJQYXltZW50TG9ncyI7CmltcG9ydCBQdXJjaGFzZU9yZGVyTG9ncyBmcm9tICJAL3ZpZXdzL3BhZ2VzL3B1cmNoYXNlLW9yZGVycy9wdXJjaGFzZS1vcmRlci9sb2dzL1B1cmNoYXNlT3JkZXJMb2dzIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFB1cmNoYXNlT3JkZXJQYXltZW50TG9nczogUHVyY2hhc2VPcmRlclBheW1lbnRMb2dzLAogICAgUHVyY2hhc2VPcmRlckxvZ3M6IFB1cmNoYXNlT3JkZXJMb2dzCiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICB2YXIgaWQgPSByb3V0ZXIuaGlzdG9yeS5jdXJyZW50LnBhcmFtcy5pZDsKICAgIHZhciBlcnJvcnMgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBzdG9yZS5nZXR0ZXJzLmVycm9yczsKICAgIH0pOwogICAgdmFyIHByb2R1Y3RzID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gc3RvcmUuZ2V0dGVycy5wcm9kdWN0czsKICAgIH0pOwogICAgdmFyIHN1cHBsaWVycyA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHN0b3JlLmdldHRlcnMuc3VwcGxpZXJzOwogICAgfSk7CiAgICB2YXIgc2VsZWN0ZWRJdGVtcyA9IFtdOwogICAgdmFyIHNlbGVjdGVkSXRlbVRyaWdnZXIgPSByZWYoW10pOwogICAgdmFyIG9yZGVySXRlbXMgPSByZWYoW10pOwogICAgdmFyIHNob3dBbGVydCA9IHJlZihmYWxzZSk7CiAgICB2YXIgb3B0aW9uc0xvY2FsID0gcmVmKHsKICAgICAgZnhfbnVtYmVyOiAnJywKICAgICAgZXRhOiAnJywKICAgICAgaXRlbXM6IHt9LAogICAgICB0b3RhbDogMCwKICAgICAgcGVyY2VudGFnZTogMAogICAgfSk7CiAgICB2YXIgdGFiID0gcmVmKCcnKTsKICAgIHZhciBkb2xsYXJQZXJjZW50YWdlVG9QYXkgPSByZWYoJycpOwogICAgdmFyIHBlc29QZXJjZW50YWdlVG9QYXkgPSByZWYoJycpOwoKICAgIHZhciB0ZXN0ID0gZnVuY3Rpb24gdGVzdCgpIHsKICAgICAgdmFyIGZvcm0gPSBvcHRpb25zTG9jYWwudmFsdWU7CiAgICAgIHZhciBwZXJjZW50YWdlID0gKGZvcm0ucGVyY2VudGFnZSAvIDEwMCkudG9GaXhlZCgyKTsKICAgICAgdmFyIGNvbnZlcnNpb25SYXRlID0gcGFyc2VGbG9hdChmb3JtLmNvbnZlcnNpb25fcmF0ZSkudG9GaXhlZCgyKTsKICAgICAgZG9sbGFyUGVyY2VudGFnZVRvUGF5LnZhbHVlID0gKGZvcm0udG90YWwgKiBwZXJjZW50YWdlKS50b0ZpeGVkKDIpLnRvU3RyaW5nKCk7CiAgICAgIHBlc29QZXJjZW50YWdlVG9QYXkudmFsdWUgPSAoZm9ybS50b3RhbCAqIHBlcmNlbnRhZ2UgKiBjb252ZXJzaW9uUmF0ZSkudG9GaXhlZCgyKS50b1N0cmluZygpOwogICAgfTsKCiAgICBvbk1vdW50ZWQoIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gUHVyY2hhc2VPcmRlcnNTZXJ2aWNlLmZpbmQoaWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgIG9wdGlvbnNMb2NhbC52YWx1ZSA9IHsKICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGRhdGEub3JkZXIuZGVzY3JpcHRpb24sCiAgICAgICAgICAgICAgICAgIGZ4X251bWJlcjogZGF0YS5vcmRlci5meF9pZCwKICAgICAgICAgICAgICAgICAgZXRhOiBkYXRhLm9yZGVyLmV0YSwKICAgICAgICAgICAgICAgICAgdG90YWw6IGRhdGEub3JkZXIudG90YWxfYW1vdW50X3BheWFibGUsCiAgICAgICAgICAgICAgICAgIHBhaWRfYW1vdW50OiBkYXRhLm9yZGVyLnBhaWRfYW1vdW50LAogICAgICAgICAgICAgICAgICBpdGVtczoge30KICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBvcmRlckl0ZW1zLnZhbHVlID0gZGF0YS5pdGVtczsKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkpOwogICAgc3RvcmUuZGlzcGF0Y2goR0VUX1BST0RVQ1RTKTsKICAgIHN0b3JlLmRpc3BhdGNoKEdFVF9TVVBQTElFUlMpOwoKICAgIHZhciBnb0JhY2sgPSBmdW5jdGlvbiBnb0JhY2soKSB7CiAgICAgIHJvdXRlci5wdXNoKCcvcHVyY2hhc2Utb3JkZXJzJyk7CiAgICB9OwoKICAgIHZhciBhZGRTdXBwbGllclRvT3JkZXJJdGVtID0gZnVuY3Rpb24gYWRkU3VwcGxpZXJUb09yZGVySXRlbShpdGVtKSB7CiAgICAgIHZhciBvcmRlckl0ZW1JZCA9IE9iamVjdC5rZXlzKGl0ZW0pWzBdOwogICAgICBzZWxlY3RlZEl0ZW1zLnB1c2goewogICAgICAgIHN1cHBsaWVyX2lkOiBpdGVtW29yZGVySXRlbUlkXS5pZCwKICAgICAgICAvLyBzdXBwbGllciBpZCBmcm9tIHNlbGVjdGVkIHN1cHBsaWVyIGxpc3QKICAgICAgICBpZDogb3JkZXJJdGVtSWQgLy8gb3JkZXIgaXRlbSBpZCBmcm9tIHB1cmNoYXNlIG9yZGVyIHNob3cKCiAgICAgIH0pOwogICAgfTsKCiAgICB3YXRjaChzZWxlY3RlZEl0ZW1UcmlnZ2VyLCBmdW5jdGlvbiAoc2VsZWN0ZWQpIHsKICAgICAgYWRkU3VwcGxpZXJUb09yZGVySXRlbShzZWxlY3RlZCk7CiAgICB9LCB7CiAgICAgIGltbWVkaWF0ZTogdHJ1ZQogICAgfSk7CgogICAgdmFyIHJlc29sdmVGb3JtU3VjY2VzcyA9IGZ1bmN0aW9uIHJlc29sdmVGb3JtU3VjY2VzcygpIHsKICAgICAgc2hvd0FsZXJ0LnZhbHVlID0gdHJ1ZTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgZ29CYWNrKCk7CiAgICAgIH0sIDUwMDApOwogICAgfTsKCiAgICB2YXIgc2F2ZSA9IGZ1bmN0aW9uIHNhdmUoKSB7CiAgICAgIHZhciBjdXJyZW50Rm9ybSA9IG9wdGlvbnNMb2NhbC52YWx1ZTsKICAgICAgY3VycmVudEZvcm0uaWQgPSByb3V0ZXIuaGlzdG9yeS5jdXJyZW50LnBhcmFtcy5pZDsKICAgICAgY3VycmVudEZvcm0uaXRlbXMgPSBzZWxlY3RlZEl0ZW1zOwogICAgICBzdG9yZS5kaXNwYXRjaChBUFBST1ZFX1BVUkNIQVNFX09SREVSLCBjdXJyZW50Rm9ybSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwoKICAgICAgICBpZiAoZGF0YSAhPSBudWxsKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTsKICAgICAgICAgIHJlc29sdmVGb3JtU3VjY2VzcygpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9OyAvLyB0YWJzCgoKICAgIHZhciB0YWJzID0gW3sKICAgICAgdGl0bGU6ICdQdXJjaGFzZSBPcmRlciBJbmZvcm1hdGlvbicsCiAgICAgIGljb246IG1kaUFjY291bnRPdXRsaW5lCiAgICB9LCB7CiAgICAgIHRpdGxlOiAnUHVyY2hhc2UgT3JkZXIgTG9ncycsCiAgICAgIGljb246IG1kaUNhcnRQbHVzCiAgICB9LCB7CiAgICAgIHRpdGxlOiAnUHVyY2hhc2UgT3JkZXIgUGF5bWVudCBMb2dzJywKICAgICAgaWNvbjogbWRpQ2FydFBsdXMKICAgIH1dOwogICAgcmV0dXJuIHsKICAgICAgaWQ6IGlkLAogICAgICB0YWI6IHRhYiwKICAgICAgdGFiczogdGFicywKICAgICAgYWRkU3VwcGxpZXJUb09yZGVySXRlbTogYWRkU3VwcGxpZXJUb09yZGVySXRlbSwKICAgICAgc2VsZWN0ZWRJdGVtVHJpZ2dlcjogc2VsZWN0ZWRJdGVtVHJpZ2dlciwKICAgICAgc3VwcGxpZXJzOiBzdXBwbGllcnMsCiAgICAgIHByb2R1Y3RzOiBwcm9kdWN0cywKICAgICAgb3B0aW9uc0xvY2FsOiBvcHRpb25zTG9jYWwsCiAgICAgIGdvQmFjazogZ29CYWNrLAogICAgICBzYXZlOiBzYXZlLAogICAgICBzaG93QWxlcnQ6IHNob3dBbGVydCwKICAgICAgZXJyb3JzOiBlcnJvcnMsCiAgICAgIG9yZGVySXRlbXM6IG9yZGVySXRlbXMsCiAgICAgIHRlc3Q6IHRlc3QsCiAgICAgIGRvbGxhclBlcmNlbnRhZ2VUb1BheTogZG9sbGFyUGVyY2VudGFnZVRvUGF5LAogICAgICBwZXNvUGVyY2VudGFnZVRvUGF5OiBwZXNvUGVyY2VudGFnZVRvUGF5CiAgICB9OwogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuTA,SACAA,QADA,EACAC,GADA,EACAC,KADA,EACAC,SADA,QAEA,sBAFA;AAGA;AACA;AACA,SACAC,sBADA,EACAC,aADA,EACAC,YADA,EACAC,kBADA,QAEA,sBAFA;AAGA;AACA;AACA,qCACA,4EADA;AAEA;AAEA;EACAC;IACAC,kDADA;IAEAC;EAFA,CADA;EAKAC,KALA,mBAKA;IACA;IACA;MAAA;IAAA;IACA;MAAA;IAAA;IACA;MAAA;IAAA;IACA;IACA;IACA;IACA;IACA;MACAC,aADA;MAEAC,OAFA;MAGAC,SAHA;MAIAC,QAJA;MAKAC;IALA;IAOA;IACA;IACA;;IAEA;MACA;MACA;MACA;MACAC;MACAC;IACA,CANA;;IAQAf;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,OACAgB,+BACAC,IADA,CACA;gBACA;gBACAC;kBACAC,mCADA;kBAEAV,2BAFA;kBAGAC,mBAHA;kBAIAE,sCAJA;kBAKAQ,mCALA;kBAMAT;gBANA;gBASAU;cACA,CAbA,CADA;;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;IAiBAC;IACAA;;IAEA;MACAC;IACA,CAFA;;IAIA;MACA;MAEAC;QACAC,iCADA;QACA;QACAC,eAFA,CAEA;;MAFA;IAIA,CAPA;;IASA3B,MACA4B,mBADA,EAEA;MACAC;IACA,CAJA,EAKA;MAAAC;IAAA,CALA;;IAQA;MACAC;MACAC;QACAC;MACA,CAFA,EAEA,IAFA;IAGA,CALA;;IAOA;MACA;MACAC;MACAA;MACAX;QACAY;;QACA;UACAA;UACAC;QACA;MACA,CANA;IAOA,CAXA,CA5EA,CAyFA;;;IACA,YACA;MAAAC;MAAAC;IAAA,CADA,EAEA;MAAAD;MAAAC;IAAA,CAFA,EAGA;MAAAD;MAAAC;IAAA,CAHA;IAMA;MACAX,MADA;MAEAY,QAFA;MAGAC,UAHA;MAIAX,8CAJA;MAKAD,wCALA;MAMAa,oBANA;MAOAC,kBAPA;MAQAvB,0BARA;MASAc,cATA;MAUAU,UAVA;MAWAZ,oBAXA;MAYAa,cAZA;MAaAtB,sBAbA;MAcAuB,UAdA;MAeA9B,4CAfA;MAgBAC;IAhBA;EAkBA;AAvHA","names":["computed","ref","watch","onMounted","APPROVE_PURCHASE_ORDER","GET_SUPPLIERS","GET_PRODUCTS","GET_PURCHASE_ORDER","components","PurchaseOrderPaymentLogs","PurchaseOrderLogs","setup","fx_number","eta","items","total","percentage","dollarPercentageToPay","pesoPercentageToPay","PurchaseOrdersService","then","optionsLocal","description","paid_amount","orderItems","store","router","selectedItems","supplier_id","id","selectedItemTrigger","addSupplierToOrderItem","immediate","showAlert","setTimeout","goBack","currentForm","console","resolveFormSuccess","title","icon","tab","tabs","suppliers","products","save","errors","test"],"sourceRoot":"src/views/pages/purchase-orders/purchase-order","sources":["PurchaseOrderApprove.vue"],"sourcesContent":["<template>\n  <v-card\n    flat\n    class=\"pa-3 mt-2\"\n  >\n    <!-- tabs -->\n    <v-tabs\n      v-model=\"tab\"\n      show-arrows\n    >\n      <v-tab\n        v-for=\"tab in tabs\"\n        :key=\"tab.icon\"\n      >\n        <v-icon\n          size=\"20\"\n          class=\"me-3\"\n        >\n          {{ tab.icon }}\n        </v-icon>\n        <span>{{ tab.title }}</span>\n      </v-tab>\n    </v-tabs>\n\n    <!-- tabs item -->\n    <v-tabs-items v-model=\"tab\">\n      <v-tab-item>\n        <v-alert\n          v-show=\"showAlert\"\n          dense\n          text\n          type=\"success\"\n        >\n          Successfully <strong>approved</strong> a purchase order. You will be automatically\n          redirected in a bit.\n        </v-alert>\n        <v-form class=\"multi-col-validation\">\n          <v-card-text class=\"pt-5\">\n            <v-row>\n              <v-col cols=\"12\">\n                <v-alert\n                  color=\"info\"\n                  text\n                  style=\"margin-bottom: -10px\"\n                >\n                  <div class=\"d-flex align-start\">\n                    <div class=\"ms-3\">\n                      <p class=\"font-weight-black mb-1 text-uppercase\">\n                        Requested Raw Material Information\n                      </p>\n                    </div>\n                  </div>\n                </v-alert>\n              </v-col>\n              <v-col cols=\"6\">\n                <v-img\n                  class=\"mt-10\"\n                  aspect-ratio=\"1.7\"\n                  max-height=\"250\"\n                  contain\n                  lazy-src=\"https://picsum.photos/id/11/10/6\"\n                  src=\"https://picsum.photos/id/11/500/300\"\n                ></v-img>\n              </v-col>\n              <v-col cols=\"6\">\n                <v-card-text class=\"mt-10\">\n                  <v-subheader class=\"font-weight-black\">\n                    Raw Materials In Stock\n                  </v-subheader>\n                  <v-simple-table\n                    fixed-header\n                  >\n\n                    <template v-slot:default>\n                      <thead>\n                      <tr>\n                        <th class=\"text-left\">\n                          Name\n                        </th>\n                        <th class=\"text-left\">\n                          Quantity In Stock\n                        </th>\n                      </tr>\n                      </thead>\n                      <tbody>\n                      <tr\n                        v-for=\"item in products\"\n                        :key=\"item.name\"\n                      >\n                        <td>{{ item.name }}</td>\n                        <td>{{ item.in_stock }}</td>\n                      </tr>\n                      </tbody>\n                    </template>\n                  </v-simple-table>\n                </v-card-text>\n              </v-col>\n              <v-col cols=\"12\">\n                <v-card-text class=\"mt-5\">\n                  <v-simple-table\n                    fixed-header\n                  >\n                    <template v-slot:default>\n                      <thead>\n                      <tr>\n                        <th class=\"text-left\">\n                          Material Name\n                        </th>\n                        <th class=\"text-left\">\n                          Requested Quantity\n                        </th>\n                        <th>\n                          Select a Supplier\n                        </th>\n                      </tr>\n                      </thead>\n                      <tbody>\n                      <tr\n                        v-for=\"(item, key) in orderItems\"\n                        :key=\"item.name\"\n                      >\n                        <td>{{ item.name }}</td>\n                        <td>{{ item.quantity }}</td>\n                        <td>\n                          <v-select\n                            v-model=\"selectedItemTrigger[item.order_item_id]\"\n                            label=\"Select a Supplier\"\n                            item-text=\"name\"\n                            item-value=\"id\"\n                            dense\n                            :items=\"suppliers\"\n                            return-object\n                          ></v-select>\n                        </td>\n                      </tr>\n                      </tbody>\n                    </template>\n                  </v-simple-table>\n                </v-card-text>\n              </v-col>\n              <v-col\n                cols=\"12\"\n              >\n                <v-text-field\n                  v-model=\"optionsLocal.description\"\n                  outlined\n                  dense\n                  label=\"Description\"\n                  :readonly=\"mode === 'show'\"\n                  hide-details=\"auto\"\n                  :persistent-placeholder=\"mode === 'show'\"\n                ></v-text-field>\n              </v-col>\n              <v-col cols=\"12\">\n                <v-alert\n                  color=\"info\"\n                  text\n                >\n                  <div class=\"d-flex align-start\">\n                    <div class=\"ms-3\">\n                      <p class=\"font-weight-black mb-1 text-uppercase\">\n                        Supplier Details\n                      </p>\n                    </div>\n                  </div>\n                </v-alert>\n              </v-col>\n              <v-col\n                cols=\"12\"\n              >\n                <span\n                >Supplier Name: {{selectedItemTrigger.name || optionsLocal.supplier_name}}</span>\n              </v-col>\n              <v-col\n                cols=\"6\"\n              >\n                <v-text-field\n                  v-model=\"optionsLocal.fx_number\"\n                  outlined\n                  dense\n                  label=\"FX Number\"\n                  :readonly=\"mode === 'show'\"\n                  hide-details=\"auto\"\n                  :persistent-placeholder=\"mode === 'show'\"\n                ></v-text-field>\n              </v-col>\n              <v-col cols=\"6\">\n                <v-text-field\n                  v-model=\"optionsLocal.eta\"\n                  outlined\n                  dense\n                  label=\"Estimated Date and Time of Arrival\"\n                  :readonly=\"mode === 'show'\"\n                  hide-details=\"auto\"\n                  :persistent-placeholder=\"mode === 'show'\"\n                  type=\"datetime-local\"\n                ></v-text-field>\n              </v-col>\n              <v-col cols=\"12\">\n                <v-alert\n                  color=\"success\"\n                  text\n                >\n                  <div class=\"d-flex align-start\">\n                    <div class=\"ms-3\">\n                      <p class=\"font-weight-black mb-1 text-uppercase\">\n                        Payment Details\n                      </p>\n                    </div>\n                  </div>\n                </v-alert>\n              </v-col>\n              <v-col cols=\"6\">\n                <v-text-field\n                  prefix=\"$\"\n                  v-model=\"optionsLocal.total\"\n                  outlined\n                  dense\n                  label=\"Total Amount Payable\"\n                  :readonly=\"mode === 'show'\"\n                  hide-details=\"auto\"\n                  :persistent-placeholder=\"mode === 'show'\"\n                >\n                </v-text-field>\n              </v-col>\n              <v-col cols=\"6\">\n\n                <v-text-field\n                  prefix=\"P\"\n                  v-model=\"optionsLocal.conversion_rate\"\n                  outlined\n                  dense\n                  label=\"Current Conversion Rate\"\n                  :readonly=\"mode === 'show'\"\n                  hide-details=\"auto\"\n                  :persistent-placeholder=\"mode === 'show'\"\n                ></v-text-field>\n              </v-col>\n              <v-col cols=\"3\">\n                <v-select\n                  v-model=\"optionsLocal.percentage\"\n                  label=\"Downpayment\"\n                  item-text=\"text\"\n                  item-value=\"percentage\"\n                  dense\n                  prefix=\"%\"\n                  :items=\"[{text:10,value:0.1},20,30,40,50,60,70,80,90,100]\"\n                  @input=\"test\"\n                ></v-select>\n              </v-col>\n              <v-col cols=\"3\">\n                <span>Converted Amount To Pay</span>\n              </v-col>\n              <v-col\n                cols=\"2\"\n              >\n                <span class=\"font-weight-black text-base\">Amount in USD ${{dollarPercentageToPay}}</span>\n              </v-col>\n              <v-col\n                cols=\"2\"\n              >\n                <span class=\"font-weight-black text-base\">Amount in PHP P{{pesoPercentageToPay}}</span>\n              </v-col>\n              <v-col\n                cols=\"6\"\n              >\n                <v-text-field\n                  v-model=\"optionsLocal.paid_amount\"\n                  prefix=\"$\"\n                  outlined\n                  dense\n                  label=\"Paid Amount\"\n                  :readonly=\"mode === 'show'\"\n                  hide-details=\"auto\"\n                  :persistent-placeholder=\"mode === 'show'\"\n                ></v-text-field>\n              </v-col>\n            </v-row>\n          </v-card-text>\n\n          <v-card-text>\n            <v-btn\n              outlined\n              class=\"mt-3 mr-3\"\n              color=\"primary\"\n              @click=\"save\"\n            >\n              Approve\n            </v-btn>\n            <v-btn\n              outlined\n              class=\"mt-3\"\n              type=\"reset\"\n              @click.prevent=\"goBack\"\n            >\n              Back to List\n            </v-btn>\n          </v-card-text>\n        </v-form>\n      </v-tab-item>\n      <v-tab-item>\n        <purchase-order-logs :order-id=\"id\"></purchase-order-logs>\n      </v-tab-item>\n      <v-tab-item>\n        <purchase-order-payment-logs :order-id=\"id\"></purchase-order-payment-logs>\n      </v-tab-item>\n    </v-tabs-items>\n  </v-card>\n</template>\n\n<script>\nimport {\n  computed, ref, watch, onMounted,\n} from '@vue/composition-api'\nimport router from '@/router'\nimport store from '@/store'\nimport {\n  APPROVE_PURCHASE_ORDER, GET_SUPPLIERS, GET_PRODUCTS, GET_PURCHASE_ORDER,\n} from '@/store/actions.type'\nimport PurchaseOrdersService from '@/utils/services/purchase-orders.service'\nimport {mdiAccountOutline, mdiCartPlus} from \"@mdi/js\";\nimport PurchaseOrderPaymentLogs\n  from \"@/views/pages/purchase-orders/purchase-order/logs/PurchaseOrderPaymentLogs\";\nimport PurchaseOrderLogs from \"@/views/pages/purchase-orders/purchase-order/logs/PurchaseOrderLogs\";\n\nexport default {\n  components: {\n    PurchaseOrderPaymentLogs,\n    PurchaseOrderLogs\n  },\n  setup() {\n    const {id} = router.history.current.params\n    const errors = computed(() => store.getters.errors)\n    const products = computed(() => store.getters.products)\n    const suppliers = computed(() => store.getters.suppliers)\n    const selectedItems = []\n    const selectedItemTrigger = ref([])\n    const orderItems = ref([])\n    const showAlert = ref(false)\n    const optionsLocal = ref({\n      fx_number: '',\n      eta: '',\n      items: {},\n      total: 0,\n      percentage: 0\n    })\n    const tab = ref('')\n    const dollarPercentageToPay = ref('')\n    const pesoPercentageToPay = ref('')\n\n    const test = () => {\n      const form = optionsLocal.value\n      const percentage = (form.percentage / 100).toFixed(2)\n      const conversionRate = parseFloat(form.conversion_rate).toFixed(2)\n      dollarPercentageToPay.value = (form.total * percentage).toFixed(2).toString()\n      pesoPercentageToPay.value = (form.total * percentage * conversionRate).toFixed(2).toString()\n    }\n\n    onMounted(async () => {\n      await PurchaseOrdersService.find(id)\n        .then(response => {\n          const {data} = response.data\n          optionsLocal.value = {\n            description: data.order.description,\n            fx_number: data.order.fx_id,\n            eta: data.order.eta,\n            total: data.order.total_amount_payable,\n            paid_amount: data.order.paid_amount,\n            items: {}\n          }\n\n          orderItems.value = data.items\n        })\n    })\n\n    store.dispatch(GET_PRODUCTS)\n    store.dispatch(GET_SUPPLIERS)\n\n    const goBack = () => {\n      router.push('/purchase-orders')\n    }\n\n    const addSupplierToOrderItem = item => {\n      const orderItemId = Object.keys(item)[0]\n\n      selectedItems.push({\n        supplier_id: item[orderItemId].id, // supplier id from selected supplier list\n        id: orderItemId, // order item id from purchase order show\n      })\n    }\n\n    watch(\n      selectedItemTrigger,\n      selected => {\n        addSupplierToOrderItem(selected)\n      },\n      {immediate: true},\n    )\n\n    const resolveFormSuccess = () => {\n      showAlert.value = true\n      setTimeout(() => {\n        goBack()\n      }, 5000)\n    }\n\n    const save = () => {\n      const currentForm = optionsLocal.value\n      currentForm.id = router.history.current.params.id\n      currentForm.items = selectedItems\n      store.dispatch(APPROVE_PURCHASE_ORDER, currentForm).then(data => {\n        console.log(data)\n        if (data != null) {\n          console.log(data)\n          resolveFormSuccess()\n        }\n      })\n    }\n\n    // tabs\n    const tabs = [\n      {title: 'Purchase Order Information', icon: mdiAccountOutline},\n      {title: 'Purchase Order Logs', icon: mdiCartPlus},\n      {title: 'Purchase Order Payment Logs', icon: mdiCartPlus},\n    ]\n\n    return {\n      id,\n      tab,\n      tabs,\n      addSupplierToOrderItem,\n      selectedItemTrigger,\n      suppliers,\n      products,\n      optionsLocal,\n      goBack,\n      save,\n      showAlert,\n      errors,\n      orderItems,\n      test,\n      dollarPercentageToPay,\n      pesoPercentageToPay,\n    }\n  }\n  ,\n}\n</script>\n"]}]}