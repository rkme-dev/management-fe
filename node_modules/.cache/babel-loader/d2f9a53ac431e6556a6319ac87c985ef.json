{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/thread-loader/dist/cjs.js!/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js!/Users/mark/projects/enco-fe/src/store/AuthStore.js","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/store/AuthStore.js","mtime":1655109203652},{"path":"/Users/mark/projects/enco-fe/babel.config.js","mtime":1654585219618},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/thread-loader/dist/cjs.js","mtime":1650363913040},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1652172763063}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL21hcmsvcHJvamVjdHMvZW5jby1mZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgQXV0aGVudGljYXRpb25TZXJ2aWNlIGZyb20gJy4uL3NlcnZpY2UvQXV0aGVudGljYXRpb25TZXJ2aWNlJzsKdmFyIGF1dGhlbnRpY2F0aW9uU2VydmljZSA9IG5ldyBBdXRoZW50aWNhdGlvblNlcnZpY2UoKTsKdmFyIHVzZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJykpOwp2YXIgaW5pdGlhbFN0YXRlID0gdXNlciA/IHsKICBzdGF0dXM6IHsKICAgIGxvZ2dlZEluOiB0cnVlCiAgfSwKICB1c2VyOiB1c2VyCn0gOiB7CiAgc3RhdHVzOiB7CiAgICBsb2dnZWRJbjogZmFsc2UKICB9LAogIHVzZXI6IG51bGwKfTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9wcmVmZXItZGVmYXVsdC1leHBvcnQKCmV4cG9ydCB2YXIgQXV0aFN0b3JlID0gewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IGluaXRpYWxTdGF0ZSwKICBhY3Rpb25zOiB7CiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2hhZG93CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oX3JlZiwgdXNlcikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgIHJldHVybiBhdXRoZW50aWNhdGlvblNlcnZpY2UuYWRtaW5Mb2dpbih1c2VyKS50aGVuKCAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2hhZG93CiAgICAgIGZ1bmN0aW9uICh1c2VyKSB7CiAgICAgICAgY29tbWl0KCdsb2dpblN1Y2Nlc3MnLCB1c2VyKTsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHVzZXIpOwogICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb21taXQoJ2xvZ2luRmFpbHVyZScpOwogICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7CiAgICAgIH0pOwogICAgfSwKICAgIHJlZnJlc2hUb2tlbjogZnVuY3Rpb24gcmVmcmVzaFRva2VuKF9yZWYyLCBhY2Nlc3NUb2tlbikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICBjb21taXQoJ3JlZnJlc2hUb2tlbicsIGFjY2Vzc1Rva2VuKTsKICAgIH0sCiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChfcmVmMykgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogICAgICBhdXRoZW50aWNhdGlvblNlcnZpY2UubG9nb3V0KCk7CiAgICAgIGNvbW1pdCgnbG9nb3V0Jyk7CiAgICB9IC8vIHJlZ2lzdGVyKHsgY29tbWl0IH0sIHVzZXIpIHsKICAgIC8vICAgICByZXR1cm4gQXV0aFNlcnZpY2UucmVnaXN0ZXIodXNlcikudGhlbigKICAgIC8vICAgICAgICAgcmVzcG9uc2UgPT4gewogICAgLy8gICAgICAgICAgICAgY29tbWl0KCdyZWdpc3RlclN1Y2Nlc3MnKTsKICAgIC8vICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzcG9uc2UuZGF0YSk7CiAgICAvLyAgICAgICAgIH0sCiAgICAvLyAgICAgICAgIGVycm9yID0+IHsKICAgIC8vICAgICAgICAgICAgIGNvbW1pdCgncmVnaXN0ZXJGYWlsdXJlJyk7CiAgICAvLyAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwogICAgLy8gICAgICAgICB9CiAgICAvLyAgICAgKTsKICAgIC8vIH0KCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIGxvZ2luU3VjY2VzczogZnVuY3Rpb24gbG9naW5TdWNjZXNzKHN0YXRlLCB1c2VyKSB7CiAgICAgIHN0YXRlLnN0YXR1cy5sb2dnZWRJbiA9IHRydWU7CiAgICAgIHN0YXRlLnVzZXIgPSB1c2VyOwogICAgfSwKICAgIGxvZ2luRmFpbHVyZTogZnVuY3Rpb24gbG9naW5GYWlsdXJlKHN0YXRlKSB7CiAgICAgIHN0YXRlLnN0YXR1cy5sb2dnZWRJbiA9IGZhbHNlOwogICAgICBzdGF0ZS51c2VyID0gbnVsbDsKICAgIH0sCiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChzdGF0ZSkgewogICAgICBzdGF0ZS5zdGF0dXMubG9nZ2VkSW4gPSBmYWxzZTsKICAgICAgc3RhdGUudXNlciA9IG51bGw7CiAgICB9LAogICAgcmVmcmVzaFRva2VuOiBmdW5jdGlvbiByZWZyZXNoVG9rZW4oc3RhdGUsIGFjY2Vzc1Rva2VuKSB7CiAgICAgIHN0YXRlLnN0YXR1cy5sb2dnZWRJbiA9IHRydWU7CiAgICAgIHN0YXRlLnVzZXIgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHN0YXRlLnVzZXIpLCB7fSwgewogICAgICAgIGFjY2Vzc190b2tlbjogYWNjZXNzVG9rZW4KICAgICAgfSk7CiAgICB9LAogICAgcmVnaXN0ZXJTdWNjZXNzOiBmdW5jdGlvbiByZWdpc3RlclN1Y2Nlc3Moc3RhdGUpIHsKICAgICAgc3RhdGUuc3RhdHVzLmxvZ2dlZEluID0gZmFsc2U7CiAgICB9LAogICAgcmVnaXN0ZXJGYWlsdXJlOiBmdW5jdGlvbiByZWdpc3RlckZhaWx1cmUoc3RhdGUpIHsKICAgICAgc3RhdGUuc3RhdHVzLmxvZ2dlZEluID0gZmFsc2U7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["AuthenticationService","authenticationService","user","JSON","parse","localStorage","getItem","initialState","status","loggedIn","AuthStore","namespaced","state","actions","login","commit","adminLogin","then","Promise","resolve","error","reject","refreshToken","accessToken","logout","mutations","loginSuccess","loginFailure","access_token","registerSuccess","registerFailure"],"sources":["/Users/mark/projects/enco-fe/src/store/AuthStore.js"],"sourcesContent":["import AuthenticationService from '../service/AuthenticationService'\n\nconst authenticationService = new AuthenticationService()\n\nconst user = JSON.parse(localStorage.getItem('user'))\n\nconst initialState = user\n  ? { status: { loggedIn: true }, user }\n  : { status: { loggedIn: false }, user: null }\n\n// eslint-disable-next-line import/prefer-default-export\nexport const AuthStore = {\n  namespaced: true,\n  state: initialState,\n  actions: {\n    // eslint-disable-next-line no-shadow\n    login({ commit }, user) {\n      return authenticationService.adminLogin(user)\n        .then(\n          // eslint-disable-next-line no-shadow\n          user => {\n            commit('loginSuccess', user)\n\n            return Promise.resolve(user)\n          },\n          error => {\n            commit('loginFailure')\n\n            return Promise.reject(error)\n          },\n        )\n    },\n    refreshToken({ commit }, accessToken) {\n      commit('refreshToken', accessToken)\n    },\n    logout({ commit }) {\n      authenticationService.logout()\n      commit('logout')\n    },\n\n    // register({ commit }, user) {\n    //     return AuthService.register(user).then(\n    //         response => {\n    //             commit('registerSuccess');\n    //             return Promise.resolve(response.data);\n    //         },\n    //         error => {\n    //             commit('registerFailure');\n    //             return Promise.reject(error);\n    //         }\n    //     );\n    // }\n  },\n  mutations: {\n    loginSuccess(state, user) {\n      state.status.loggedIn = true\n      state.user = user\n    },\n    loginFailure(state) {\n      state.status.loggedIn = false\n      state.user = null\n    },\n    logout(state) {\n      state.status.loggedIn = false\n      state.user = null\n    },\n    refreshToken(state, accessToken) {\n      state.status.loggedIn = true\n      state.user = { ...state.user, access_token: accessToken }\n    },\n    registerSuccess(state) {\n      state.status.loggedIn = false\n    },\n    registerFailure(state) {\n      state.status.loggedIn = false\n    },\n  },\n}\n"],"mappings":";;AAAA,OAAOA,qBAAP,MAAkC,kCAAlC;AAEA,IAAMC,qBAAqB,GAAG,IAAID,qBAAJ,EAA9B;AAEA,IAAME,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb;AAEA,IAAMC,YAAY,GAAGL,IAAI,GACrB;EAAEM,MAAM,EAAE;IAAEC,QAAQ,EAAE;EAAZ,CAAV;EAA8BP,IAAI,EAAJA;AAA9B,CADqB,GAErB;EAAEM,MAAM,EAAE;IAAEC,QAAQ,EAAE;EAAZ,CAAV;EAA+BP,IAAI,EAAE;AAArC,CAFJ,C,CAIA;;AACA,OAAO,IAAMQ,SAAS,GAAG;EACvBC,UAAU,EAAE,IADW;EAEvBC,KAAK,EAAEL,YAFgB;EAGvBM,OAAO,EAAE;IACP;IACAC,KAFO,uBAEWZ,IAFX,EAEiB;MAAA,IAAhBa,MAAgB,QAAhBA,MAAgB;MACtB,OAAOd,qBAAqB,CAACe,UAAtB,CAAiCd,IAAjC,EACJe,IADI,EAEH;MACA,UAAAf,IAAI,EAAI;QACNa,MAAM,CAAC,cAAD,EAAiBb,IAAjB,CAAN;QAEA,OAAOgB,OAAO,CAACC,OAAR,CAAgBjB,IAAhB,CAAP;MACD,CAPE,EAQH,UAAAkB,KAAK,EAAI;QACPL,MAAM,CAAC,cAAD,CAAN;QAEA,OAAOG,OAAO,CAACG,MAAR,CAAeD,KAAf,CAAP;MACD,CAZE,CAAP;IAcD,CAjBM;IAkBPE,YAlBO,+BAkBkBC,WAlBlB,EAkB+B;MAAA,IAAvBR,MAAuB,SAAvBA,MAAuB;MACpCA,MAAM,CAAC,cAAD,EAAiBQ,WAAjB,CAAN;IACD,CApBM;IAqBPC,MArBO,yBAqBY;MAAA,IAAVT,MAAU,SAAVA,MAAU;MACjBd,qBAAqB,CAACuB,MAAtB;MACAT,MAAM,CAAC,QAAD,CAAN;IACD,CAxBM,CA0BP;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;EArCO,CAHc;EA0CvBU,SAAS,EAAE;IACTC,YADS,wBACId,KADJ,EACWV,IADX,EACiB;MACxBU,KAAK,CAACJ,MAAN,CAAaC,QAAb,GAAwB,IAAxB;MACAG,KAAK,CAACV,IAAN,GAAaA,IAAb;IACD,CAJQ;IAKTyB,YALS,wBAKIf,KALJ,EAKW;MAClBA,KAAK,CAACJ,MAAN,CAAaC,QAAb,GAAwB,KAAxB;MACAG,KAAK,CAACV,IAAN,GAAa,IAAb;IACD,CARQ;IASTsB,MATS,kBASFZ,KATE,EASK;MACZA,KAAK,CAACJ,MAAN,CAAaC,QAAb,GAAwB,KAAxB;MACAG,KAAK,CAACV,IAAN,GAAa,IAAb;IACD,CAZQ;IAaToB,YAbS,wBAaIV,KAbJ,EAaWW,WAbX,EAawB;MAC/BX,KAAK,CAACJ,MAAN,CAAaC,QAAb,GAAwB,IAAxB;MACAG,KAAK,CAACV,IAAN,mCAAkBU,KAAK,CAACV,IAAxB;QAA8B0B,YAAY,EAAEL;MAA5C;IACD,CAhBQ;IAiBTM,eAjBS,2BAiBOjB,KAjBP,EAiBc;MACrBA,KAAK,CAACJ,MAAN,CAAaC,QAAb,GAAwB,KAAxB;IACD,CAnBQ;IAoBTqB,eApBS,2BAoBOlB,KApBP,EAoBc;MACrBA,KAAK,CAACJ,MAAN,CAAaC,QAAb,GAAwB,KAAxB;IACD;EAtBQ;AA1CY,CAAlB"}]}