{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js!/Users/mark/projects/enco-fe/src/service/TokenService.js","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/service/TokenService.js","mtime":1655104278577},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1654587530817},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1654587530760}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvbWFyay9wcm9qZWN0cy9lbmNvLWZlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL1VzZXJzL21hcmsvcHJvamVjdHMvZW5jby1mZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwoKdmFyIFRva2VuU2VydmljZSA9IGZ1bmN0aW9uIFRva2VuU2VydmljZSgpIHsKICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVG9rZW5TZXJ2aWNlKTsKCiAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJnZXRMb2NhbFJlZnJlc2hUb2tlbiIsIGZ1bmN0aW9uICgpIHsKICAgIHZhciB1c2VyID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcicpKTsKICAgIHJldHVybiB1c2VyID09PSBudWxsIHx8IHVzZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHVzZXIucmVmcmVzaFRva2VuOwogIH0pOwoKICBfZGVmaW5lUHJvcGVydHkodGhpcywgImdldExvY2FsQWNjZXNzVG9rZW4iLCBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdXNlciA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXInKSk7CiAgICByZXR1cm4gdXNlciA9PT0gbnVsbCB8fCB1c2VyID09PSB2b2lkIDAgPyB2b2lkIDAgOiB1c2VyLmFjY2Vzc1Rva2VuOwogIH0pOwoKICBfZGVmaW5lUHJvcGVydHkodGhpcywgInVwZGF0ZUxvY2FsQWNjZXNzVG9rZW4iLCBmdW5jdGlvbiAoX3JlZikgewogICAgdmFyIHRva2VuID0gX3JlZi50b2tlbjsKICAgIHZhciB1c2VyID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcicpKTsKICAgIHVzZXIuYWNjZXNzVG9rZW4gPSB0b2tlbjsKICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyJywgSlNPTi5zdHJpbmdpZnkodXNlcikpOwogIH0pOwoKICBfZGVmaW5lUHJvcGVydHkodGhpcywgImdldFVzZXIiLCBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcicpKTsKICB9KTsKCiAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJzZXRVc2VyIiwgZnVuY3Rpb24gKHVzZXIpIHsKICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyJywgSlNPTi5zdHJpbmdpZnkodXNlcikpOwogIH0pOwoKICBfZGVmaW5lUHJvcGVydHkodGhpcywgInJlbW92ZVVzZXIiLCBmdW5jdGlvbiAoKSB7CiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndXNlcicpOwogIH0pOwp9OwoKZXhwb3J0IGRlZmF1bHQgbmV3IFRva2VuU2VydmljZSgpOw=="},{"version":3,"sources":["/Users/mark/projects/enco-fe/src/service/TokenService.js"],"names":["TokenService","user","JSON","parse","localStorage","getItem","refreshToken","accessToken","token","setItem","stringify","removeItem"],"mappings":";;;IAAMA,Y;;;gDACmB,YAAM;AAC3B,QAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb;AAEA,WAAOJ,IAAP,aAAOA,IAAP,uBAAOA,IAAI,CAAEK,YAAb;AACD,G;;+CAEqB,YAAM;AAC1B,QAAML,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb;AAEA,WAAOJ,IAAP,aAAOA,IAAP,uBAAOA,IAAI,CAAEM,WAAb;AACD,G;;kDAEwB,gBAAe;AAAA,QAAZC,KAAY,QAAZA,KAAY;AACtC,QAAMP,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb;AACAJ,IAAAA,IAAI,CAACM,WAAL,GAAmBC,KAAnB;AACAJ,IAAAA,YAAY,CAACK,OAAb,CAAqB,MAArB,EAA6BP,IAAI,CAACQ,SAAL,CAAeT,IAAf,CAA7B;AACD,G;;mCAES;AAAA,WAAMC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAN;AAAA,G;;mCAEA,UAAAJ,IAAI,EAAI;AAChBG,IAAAA,YAAY,CAACK,OAAb,CAAqB,MAArB,EAA6BP,IAAI,CAACQ,SAAL,CAAeT,IAAf,CAA7B;AACD,G;;sCAEY,YAAM;AACjBG,IAAAA,YAAY,CAACO,UAAb,CAAwB,MAAxB;AACD,G;;;AAEH,eAAe,IAAIX,YAAJ,EAAf","sourcesContent":["class TokenService {\n  getLocalRefreshToken = () => {\n    const user = JSON.parse(localStorage.getItem('user'))\n\n    return user?.refreshToken\n  }\n\n  getLocalAccessToken = () => {\n    const user = JSON.parse(localStorage.getItem('user'))\n\n    return user?.accessToken\n  }\n\n  updateLocalAccessToken = ({ token }) => {\n    const user = JSON.parse(localStorage.getItem('user'))\n    user.accessToken = token\n    localStorage.setItem('user', JSON.stringify(user))\n  }\n\n  getUser = () => JSON.parse(localStorage.getItem('user'))\n\n  setUser = user => {\n    localStorage.setItem('user', JSON.stringify(user))\n  }\n\n  removeUser = () => {\n    localStorage.removeItem('user')\n  }\n}\nexport default new TokenService()\n"]}]}