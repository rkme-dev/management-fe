{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js!/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/projects/enco-fe/src/views/pages/reports/accounts-receivable/SubsidiaryLedger.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/views/pages/reports/accounts-receivable/SubsidiaryLedger.vue","mtime":1665391822908},{"path":"/Users/mark/projects/enco-fe/babel.config.js","mtime":1655991784146},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1665368576185},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1665368576151},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1665368576185},{"path":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js","mtime":1665368593779}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL21hcmsvcHJvamVjdHMvZW5jby1mZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcmVnZW5lcmF0b3JSdW50aW1lLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9tYXJrL3Byb2plY3RzL2VuY28tZmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBjb21wdXRlZCwgcmVmLCBvbk1vdW50ZWQsIG9uVW5tb3VudGVkIH0gZnJvbSAnQHZ1ZS9jb21wb3NpdGlvbi1hcGknOwppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnU3Vic2lkaWFyeUxlZGdlcicsCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIGN1c3RvbWVycyA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHN0b3JlLnN0YXRlLkN1c3RvbWVyU3RvcmUubGlzdDsKICAgIH0pOwogICAgdmFyIGN1c3RvbWVyID0gcmVmKCk7CiAgICB2YXIgY3VzdG9tZXJMb2FkaW5nID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gc3RvcmUuc3RhdGUuQ3VzdG9tZXJTdG9yZS5sb2FkaW5nOwogICAgfSk7CiAgICB2YXIgcmVwb3J0TG9hZGluZyA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHN0b3JlLnN0YXRlLlJlcG9ydFN0b3JlLmxvYWRpbmc7CiAgICB9KTsKICAgIHZhciBzdWJzaWRpYXJ5TGVkZ2VyID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gc3RvcmUuc3RhdGUuUmVwb3J0U3RvcmUubGVkZ2VyUmVwb3J0OwogICAgfSk7CiAgICB2YXIgaGVhZGVycyA9IFt7CiAgICAgIHRleHQ6ICdEYXRlJywKICAgICAgYWxpZ246ICdzdGFydCcsCiAgICAgIHNvcnRhYmxlOiBmYWxzZSwKICAgICAgdmFsdWU6ICdkYXRlX3Bvc3RlZCcKICAgIH0sIHsKICAgICAgdGV4dDogJ09yZGVyIE51bWJlcicsCiAgICAgIHZhbHVlOiAnb3JkZXJfbnVtYmVyJwogICAgfSwgewogICAgICB0ZXh0OiAnU291cmNlJywKICAgICAgdmFsdWU6ICdzb3VyY2UnCiAgICB9LCB7CiAgICAgIHRleHQ6ICdEb2N1bWVudCcsCiAgICAgIHZhbHVlOiAnZG9jdW1lbnQnCiAgICB9LCB7CiAgICAgIHRleHQ6ICdDdXJyZW5jeScsCiAgICAgIHZhbHVlOiAnY3VycmVuY3knCiAgICB9LCB7CiAgICAgIHRleHQ6ICdBbW91bnQnLAogICAgICB2YWx1ZTogJ2Ftb3VudCcKICAgIH1dOwogICAgb25Nb3VudGVkKCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKCdDdXN0b21lclN0b3JlL2xpc3QnKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gc3RvcmUuZGlzcGF0Y2goJ1JlcG9ydFN0b3JlL2NsZWFyUmVwb3J0JywgJ2xlZGdlclJlcG9ydCcpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSk7CiAgICBvblVubW91bnRlZCggLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBzdG9yZS5kaXNwYXRjaCgnUmVwb3J0U3RvcmUvY2xlYXJSZXBvcnQnLCAnbGVkZ2VyUmVwb3J0Jyk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMik7CiAgICB9KSkpOwoKICAgIHZhciBnZW5lcmF0ZVN1YnNpZGlhcnlSZXBvcnQgPSBmdW5jdGlvbiBnZW5lcmF0ZVN1YnNpZGlhcnlSZXBvcnQoKSB7CiAgICAgIGlmIChjdXN0b21lci52YWx1ZSkgewogICAgICAgIHN0b3JlLmRpc3BhdGNoKCdSZXBvcnRTdG9yZS9nZXRMZWRnZXJSZXBvcnQnLCBjdXN0b21lci52YWx1ZSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBzdG9yZS5kaXNwYXRjaCgnUmVwb3J0U3RvcmUvY2xlYXJSZXBvcnQnLCAnbGVkZ2VyUmVwb3J0Jyk7CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIGN1c3RvbWVyOiBjdXN0b21lciwKICAgICAgY3VzdG9tZXJMb2FkaW5nOiBjdXN0b21lckxvYWRpbmcsCiAgICAgIGN1c3RvbWVyczogY3VzdG9tZXJzLAogICAgICBoZWFkZXJzOiBoZWFkZXJzLAogICAgICBnZW5lcmF0ZVN1YnNpZGlhcnlSZXBvcnQ6IGdlbmVyYXRlU3Vic2lkaWFyeVJlcG9ydCwKICAgICAgcmVwb3J0TG9hZGluZzogcmVwb3J0TG9hZGluZywKICAgICAgc3Vic2lkaWFyeUxlZGdlcjogc3Vic2lkaWFyeUxlZGdlcgogICAgfTsKICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqEA;AACA;AAEA;EACAA,wBADA;EAEAC,KAFA,mBAEA;IACA;MAAA;IAAA;IACA;IACA;MAAA;IAAA;IACA;MAAA;IAAA;IACA;MAAA;IAAA;IACA,eACA;MACAC,YADA;MAEAC,cAFA;MAGAC,eAHA;MAIAC;IAJA,CADA,EAOA;MAAAH;MAAAG;IAAA,CAPA,EAQA;MAAAH;MAAAG;IAAA,CARA,EASA;MAAAH;MAAAG;IAAA,CATA,EAUA;MAAAH;MAAAG;IAAA,CAVA,EAWA;MAAAH;MAAAG;IAAA,CAXA;IAcAC;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,OACAC,oCADA;;YAAA;cAAA;cAAA,OAEAA,yDAFA;;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;IAKAC;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,OACAD,yDADA;;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;;IAIA;MACA;QACAA;QAEA;MACA;;MAEAA;IACA,CARA;;IAUA;MACAE,kBADA;MAEAC,gCAFA;MAGAC,oBAHA;MAIAC,gBAJA;MAKAC,kDALA;MAMAC,4BANA;MAOAC;IAPA;EASA;AAlDA","names":["name","setup","text","align","sortable","value","onMounted","store","onUnmounted","customer","customerLoading","customers","headers","generateSubsidiaryReport","reportLoading","subsidiaryLedger"],"sourceRoot":"src/views/pages/reports/accounts-receivable","sources":["SubsidiaryLedger.vue"],"sourcesContent":["<template>\n  <div>\n    <v-card>\n      <v-card-title>Subsidiary Ledger Report</v-card-title>\n      <v-card-text>\n        <v-row>\n          <v-col cols=\"6\">\n            <v-select\n              v-model=\"customer\"\n              :loading=\"customerLoading\"\n              :items=\"customers\"\n              item-text=\"name\"\n              item-value=\"id\"\n              dense\n              outlined\n              label=\"Select Customer\"\n              clearable\n              @change=\"generateSubsidiaryReport\"\n            ></v-select>\n          </v-col>\n        </v-row>\n      </v-card-text>\n    </v-card>\n    <v-card\n      v-if=\"reportLoading\"\n      class=\"mt-8\"\n    >\n      <v-card-text>\n        <div class=\"text-center\">\n          <v-progress-circular\n            :size=\"190\"\n            :width=\"7\"\n            color=\"primary\"\n            indeterminate\n          ></v-progress-circular>\n        </div>\n      </v-card-text>\n    </v-card>\n\n    <v-card\n      v-if=\"subsidiaryLedger.length > 0 && reportLoading === false\"\n      class=\"mt-8\"\n    >\n      <v-card-text>\n        <div class=\"text-center\">\n          <v-data-table\n            class=\"elevation-4\"\n            :items=\"subsidiaryLedger\"\n            :headers=\"headers\"\n          >\n            <template #item.total_amount=\"{ item }\">\n              <v-currency-field\n                v-model=\"item.total_amount\"\n                disabled\n                dense\n              >\n              </v-currency-field>\n            </template>\n            <template #item.currency=\"{ item }\">\n              PHP\n            </template>\n          </v-data-table>\n        </div>\n      </v-card-text>\n    </v-card>\n  </div>\n</template>\n\n<script>\nimport { computed, ref, onMounted, onUnmounted} from '@vue/composition-api'\nimport store from '@/store'\n\nexport default {\n  name: 'SubsidiaryLedger',\n  setup() {\n    const customers = computed(() => store.state.CustomerStore.list)\n    const customer = ref()\n    const customerLoading = computed(() => store.state.CustomerStore.loading)\n    const reportLoading = computed(() => store.state.ReportStore.loading)\n    const subsidiaryLedger = computed(() => store.state.ReportStore.ledgerReport)\n    const headers = [\n      {\n        text: 'Date',\n        align: 'start',\n        sortable: false,\n        value: 'date_posted',\n      },\n      { text: 'Order Number', value: 'order_number' },\n      { text: 'Source', value: 'source' },\n      { text: 'Document', value: 'document' },\n      { text: 'Currency', value: 'currency' },\n      { text: 'Amount', value: 'amount' },\n    ]\n\n    onMounted(async () => {\n      await store.dispatch('CustomerStore/list')\n      await store.dispatch('ReportStore/clearReport', 'ledgerReport')\n    })\n\n    onUnmounted(async () => {\n      await store.dispatch('ReportStore/clearReport', 'ledgerReport')\n    })\n\n    const generateSubsidiaryReport = () => {\n      if (customer.value) {\n        store.dispatch('ReportStore/getLedgerReport', customer.value)\n\n        return\n      }\n\n      store.dispatch('ReportStore/clearReport', 'ledgerReport')\n    }\n\n    return {\n      customer,\n      customerLoading,\n      customers,\n      headers,\n      generateSubsidiaryReport,\n      reportLoading,\n      subsidiaryLedger,\n    }\n  },\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}