{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js!/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/projects/enco-fe/src/views/pages/master-files/customers/ListTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/views/pages/master-files/customers/ListTable.vue","mtime":1664064648997},{"path":"/Users/mark/projects/enco-fe/babel.config.js","mtime":1655991784146},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1665368576185},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1665368576151},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1665368576185},{"path":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js","mtime":1665368593779}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL21hcmsvcHJvamVjdHMvZW5jby1mZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1kaUFjY291bnRFZGl0LCBtZGlEZWxldGVDaXJjbGUgfSBmcm9tICdAbWRpL2pzJzsKaW1wb3J0IHsgcmVmLCB3YXRjaCB9IGZyb20gJ0B2dWUvY29tcG9zaXRpb24tYXBpJzsKaW1wb3J0IEN1c3RvbWVyRm9ybSBmcm9tICdAL3ZpZXdzL3BhZ2VzL21hc3Rlci1maWxlcy9jdXN0b21lcnMvQ3VzdG9tZXJGb3JtLnZ1ZSc7CmltcG9ydCBzdG9yZSBmcm9tICdAL3N0b3JlJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIEN1c3RvbWVyRm9ybTogQ3VzdG9tZXJGb3JtCiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICB2YXIgc3RhdHVzQ29sb3IgPSB7CiAgICAgIEFjdGl2ZTogJ3N1Y2Nlc3MnLAogICAgICBJbmFjdGl2ZTogJ2luZm8nLAogICAgICAnQmFkIEFjY291bnQnOiAnZXJyb3InCiAgICB9OwogICAgdmFyIHNlYXJjaCA9IHJlZigpOwogICAgdmFyIGZpbHRlciA9IHJlZigpOwogICAgdmFyIHN0YXR1c09wdGlvbnMgPSByZWYoW3sKICAgICAgdGl0bGU6ICdBY3RpdmUnLAogICAgICBpZDogJ0FjdGl2ZScKICAgIH0sIHsKICAgICAgdGl0bGU6ICdJbmFjdGl2ZScsCiAgICAgIGlkOiAnSW5hY3RpdmUnCiAgICB9XSk7CiAgICB3YXRjaChmaWx0ZXIsIGZ1bmN0aW9uICgpIHsKICAgICAgc3RvcmUuZGlzcGF0Y2goJ0N1c3RvbWVyU3RvcmUvZmlsdGVyJywgZmlsdGVyLnZhbHVlKTsKICAgIH0pOwogICAgcmV0dXJuIHsKICAgICAgc3RhdHVzT3B0aW9uczogc3RhdHVzT3B0aW9ucywKICAgICAgZmlsdGVyOiBmaWx0ZXIsCiAgICAgIGljb25zOiB7CiAgICAgICAgbWRpQWNjb3VudEVkaXQ6IG1kaUFjY291bnRFZGl0LAogICAgICAgIG1kaURlbGV0ZUNpcmNsZTogbWRpRGVsZXRlQ2lyY2xlCiAgICAgIH0sCiAgICAgIHNlYXJjaDogc2VhcmNoLAogICAgICBzdGF0dXNDb2xvcjogc3RhdHVzQ29sb3IKICAgIH07CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWxlcnQ6IHsKICAgICAgICBtZXNzYWdlOiAnJywKICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgc2hvdzogZmFsc2UKICAgICAgfSwKICAgICAgZGlhbG9nOiBmYWxzZSwKICAgICAgZGlhbG9nRGVsZXRlOiBmYWxzZSwKICAgICAgaGVhZGVyczogW3sKICAgICAgICB0ZXh0OiAnQ29kZScsCiAgICAgICAgYWxpZ246ICdzdGFydCcsCiAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgdmFsdWU6ICdjb2RlJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ05hbWUnLAogICAgICAgIHZhbHVlOiAnbmFtZScKICAgICAgfSwgewogICAgICAgIHRleHQ6ICdUeXBlJywKICAgICAgICB2YWx1ZTogJ3R5cGUnLAogICAgICAgIGFsaWduOiAnY2VudGVyJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ0FyZWEnLAogICAgICAgIHZhbHVlOiAnYXJlYScsCiAgICAgICAgYWxpZ246ICdjZW50ZXInCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAnU3RhdHVzJywKICAgICAgICB2YWx1ZTogJ3N0YXR1cycsCiAgICAgICAgYWxpZ246ICdjZW50ZXInLAogICAgICAgIHNvcnRhYmxlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAnQWN0aW9ucycsCiAgICAgICAgdmFsdWU6ICdhY3Rpb25zJywKICAgICAgICBzb3J0YWJsZTogZmFsc2UKICAgICAgfV0sCiAgICAgIGVkaXRlZEluZGV4OiAtMSwKICAgICAgZWRpdGVkSXRlbTogewogICAgICAgIGNvZGU6ICcnLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBkYXlzOiAnJywKICAgICAgICBpc19hY3RpdmU6ICcnLAogICAgICAgIGlzX2JhZF9hY2NvdW50OiAnJywKICAgICAgICBhY3Rpb25zOiAnJwogICAgICB9LAogICAgICBkZWZhdWx0SXRlbTogewogICAgICAgIGNvZGU6ICcnLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBkYXlzOiAnJywKICAgICAgICBpc19hY3RpdmU6IGZhbHNlLAogICAgICAgIGlzX2JhZF9hY2NvdW50OiAnJywKICAgICAgICBhY3Rpb25zOiAnJwogICAgICB9LAogICAgICBtb2RlOiAnQ3JlYXRlJwogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBmb3JtVGl0bGU6IGZ1bmN0aW9uIGZvcm1UaXRsZSgpIHsKICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHZ1ZS9uby1zaWRlLWVmZmVjdHMtaW4tY29tcHV0ZWQtcHJvcGVydGllcwogICAgICB0aGlzLm1vZGUgPSB0aGlzLmVkaXRlZEluZGV4ID09PSAtMSA/ICdDcmVhdGUnIDogJ0VkaXQnOwogICAgICByZXR1cm4gdGhpcy5lZGl0ZWRJbmRleCA9PT0gLTEgPyAnTmV3IEN1c3RvbWVyJyA6ICdFZGl0IEN1c3RvbWVyJzsKICAgIH0sCiAgICBsaXN0OiBmdW5jdGlvbiBsaXN0KCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuQ3VzdG9tZXJTdG9yZS5saXN0OwogICAgfSwKICAgIGxvYWRpbmc6IGZ1bmN0aW9uIGxvYWRpbmcoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5DdXN0b21lclN0b3JlLmxvYWRpbmc7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgZGlhbG9nOiBmdW5jdGlvbiBkaWFsb2codmFsKSB7CiAgICAgIHJldHVybiB2YWwgfHwgdGhpcy5jbG9zZSgpOwogICAgfSwKICAgIGRpYWxvZ0RlbGV0ZTogZnVuY3Rpb24gZGlhbG9nRGVsZXRlKHZhbCkgewogICAgICByZXR1cm4gdmFsIHx8IHRoaXMuY2xvc2VEZWxldGUoKTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnQ3VzdG9tZXJTdG9yZS9saXN0Jyk7CiAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnQ3VzdG9tZXJTdG9yZS9yZW1vdmVFcnJvcnMnKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNsb3NlTW9kYWw6IGZ1bmN0aW9uIGNsb3NlTW9kYWwoKSB7CiAgICAgIHRoaXMuZGlhbG9nID0gZmFsc2U7CiAgICAgIHRoaXMuZWRpdGVkSXRlbSA9IHt9OwogICAgICB0aGlzLmVkaXRlZEluZGV4ID0gLTE7CiAgICAgIHRoaXMubW9kZSA9ICdDcmVhdGUnOwogICAgfSwKICAgIGNsb3NlVXNlckNyZWF0ZTogZnVuY3Rpb24gY2xvc2VVc2VyQ3JlYXRlKHZhbHVlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmRpYWxvZyA9IGZhbHNlOwogICAgICB0aGlzLmFsZXJ0Lm1lc3NhZ2UgPSB2YWx1ZS5hbGVydE1lc3NhZ2U7CiAgICAgIHRoaXMuYWxlcnQudHlwZSA9IHZhbHVlLmFsZXJ0VHlwZTsKICAgICAgdGhpcy5hbGVydC5zaG93ID0gdHJ1ZTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuYWxlcnQuc2hvdyA9IGZhbHNlOwogICAgICB9LCAxNTAwKTsKICAgIH0sCiAgICBlZGl0SXRlbTogZnVuY3Rpb24gZWRpdEl0ZW0oaXRlbSkgewogICAgICB0aGlzLmVkaXRlZEluZGV4ID0gdGhpcy5saXN0LmluZGV4T2YoaXRlbSk7CiAgICAgIHRoaXMubW9kZSA9ICdFZGl0JzsKICAgICAgdGhpcy5lZGl0ZWRJdGVtID0gX29iamVjdFNwcmVhZCh7fSwgaXRlbSk7CiAgICAgIHRoaXMuZGlhbG9nID0gdHJ1ZTsKICAgIH0sCiAgICBkZWxldGVJdGVtOiBmdW5jdGlvbiBkZWxldGVJdGVtKGl0ZW0pIHsKICAgICAgdGhpcy5lZGl0ZWRJbmRleCA9IHRoaXMubGlzdC5pbmRleE9mKGl0ZW0pOwogICAgICB0aGlzLmVkaXRlZEl0ZW0gPSBfb2JqZWN0U3ByZWFkKHt9LCBpdGVtKTsKICAgICAgdGhpcy5kaWFsb2dEZWxldGUgPSB0cnVlOwogICAgfSwKICAgIGRlbGV0ZUl0ZW1Db25maXJtOiBmdW5jdGlvbiBkZWxldGVJdGVtQ29uZmlybSgpIHsKICAgICAgdGhpcy5saXN0W3RoaXMuZWRpdGVkSW5kZXhdLmlzX2FjdGl2ZSA9IGZhbHNlOwogICAgICBzdG9yZS5kaXNwYXRjaCgnQ3VzdG9tZXJTdG9yZS91cGRhdGUnLCB0aGlzLmxpc3RbdGhpcy5lZGl0ZWRJbmRleF0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBzdG9yZS5kaXNwYXRjaCgnQ3VzdG9tZXJTdG9yZS9saXN0Jyk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy5jbG9zZURlbGV0ZSgpOwogICAgfSwKICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLmRpYWxvZyA9IGZhbHNlOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLmVkaXRlZEl0ZW0gPSBfb2JqZWN0U3ByZWFkKHt9LCBfdGhpczIuZGVmYXVsdEl0ZW0pOwogICAgICAgIF90aGlzMi5lZGl0ZWRJbmRleCA9IC0xOwogICAgICB9KTsKICAgIH0sCiAgICBjbG9zZURlbGV0ZTogZnVuY3Rpb24gY2xvc2VEZWxldGUoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy5kaWFsb2dEZWxldGUgPSBmYWxzZTsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMy5lZGl0ZWRJdGVtID0gX29iamVjdFNwcmVhZCh7fSwgX3RoaXMzLmRlZmF1bHRJdGVtKTsKICAgICAgICBfdGhpczMuZWRpdGVkSW5kZXggPSAtMTsKICAgICAgfSk7CiAgICB9LAogICAgc2F2ZTogZnVuY3Rpb24gc2F2ZSgpIHsKICAgICAgaWYgKHRoaXMuZWRpdGVkSW5kZXggPiAtMSkgewogICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy51c2Vyc1t0aGlzLmVkaXRlZEluZGV4XSwgdGhpcy5lZGl0ZWRJdGVtKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnVzZXJzLnB1c2godGhpcy5lZGl0ZWRJdGVtKTsKICAgICAgfQoKICAgICAgdGhpcy5jbG9zZSgpOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqKA;AACA,SACAA,GADA,EAEAC,KAFA,QAGA,sBAHA;AAIA;AACA;AAEA;EACAC;IACAC;EADA,CADA;EAIAC,KAJA,mBAIA;IACA;MACAC,iBADA;MAEAC,gBAFA;MAGA;IAHA;IAMA;IACA;IACA,yBACA;MACAC,eADA;MAEAC;IAFA,CADA,EAKA;MACAD,iBADA;MAEAC;IAFA,CALA;IAWAP;MACAQ;IACA,CAFA;IAIA;MACAC,4BADA;MAEAC,cAFA;MAGAC;QACAC,8BADA;QAEAC;MAFA,CAHA;MAOAC,cAPA;MAQAC;IARA;EAUA,CAtCA;EAuCAC;IAAA;MACAC;QACAC,WADA;QAEAC,eAFA;QAGAC;MAHA,CADA;MAMAC,aANA;MAOAC,mBAPA;MAQAC,UACA;QACAC,YADA;QAEAC,cAFA;QAGAC,cAHA;QAIAC;MAJA,CADA,EAOA;QAAAH;QAAAG;MAAA,CAPA,EAQA;QAAAH;QAAAG;QAAAF;MAAA,CARA,EASA;QAAAD;QAAAG;QAAAF;MAAA,CATA,EAUA;QACAD,cADA;QACAG,eADA;QACAF,eADA;QACAC;MADA,CAVA,EAaA;QAAAF;QAAAG;QAAAD;MAAA,CAbA,CARA;MAuBAE,eAvBA;MAwBAC;QACAC,QADA;QAEAC,eAFA;QAGAC,QAHA;QAIAC,aAJA;QAKAC,kBALA;QAMAC;MANA,CAxBA;MAgCAC;QACAN,QADA;QAEAC,eAFA;QAGAC,QAHA;QAIAC,gBAJA;QAKAC,kBALA;QAMAC;MANA,CAhCA;MAwCAE;IAxCA;EAAA,CAvCA;EAkFAC;IACAC,SADA,uBACA;MACA;MACA;MAEA;IACA,CANA;IAOAC,IAPA,kBAOA;MACA;IACA,CATA;IAUAC,OAVA,qBAUA;MACA;IACA;EAZA,CAlFA;EAiGAzC;IACAqB,MADA,kBACAqB,GADA,EACA;MACA;IACA,CAHA;IAIApB,YAJA,wBAIAoB,GAJA,EAIA;MACA;IACA;EANA,CAjGA;EAyGAC,OAzGA,qBAyGA;IACA;IACA;EACA,CA5GA;EA6GAC;IACAC,UADA,wBACA;MACA;MACA;MACA;MACA;IACA,CANA;IAOAC,eAPA,2BAOAnB,KAPA,EAOA;MAAA;;MACA;MACA;MACA;MACA;MAEAoB;QAAA;MAAA;IACA,CAdA;IAgBAC,QAhBA,oBAgBAC,IAhBA,EAgBA;MACA;MACA;MACA;MACA;IACA,CArBA;IAuBAC,UAvBA,sBAuBAD,IAvBA,EAuBA;MACA;MACA;MACA;IACA,CA3BA;IA6BAE,iBA7BA,+BA6BA;MACA;MACA3C,yEACA;QACA;UACAA;QACA;MACA,CALA;MAOA;IACA,CAvCA;IAyCA4C,KAzCA,mBAyCA;MAAA;;MACA;MACA;QACA;QACA;MACA,CAHA;IAIA,CA/CA;IAiDAC,WAjDA,yBAiDA;MAAA;;MACA;MACA;QACA;QACA;MACA,CAHA;IAIA,CAvDA;IAyDAC,IAzDA,kBAyDA;MACA;QACAC;MACA,CAFA,MAEA;QACA;MACA;;MACA;IACA;EAhEA;AA7GA","names":["ref","watch","components","CustomerForm","setup","Active","Inactive","title","id","store","statusOptions","filter","icons","mdiAccountEdit","mdiDeleteCircle","search","statusColor","data","alert","message","type","show","dialog","dialogDelete","headers","text","align","sortable","value","editedIndex","editedItem","code","description","days","is_active","is_bad_account","actions","defaultItem","mode","computed","formTitle","list","loading","val","created","methods","closeModal","closeUserCreate","setTimeout","editItem","item","deleteItem","deleteItemConfirm","close","closeDelete","save","Object"],"sourceRoot":"src/views/pages/master-files/customers","sources":["ListTable.vue"],"sourcesContent":["<template>\n  <div>\n    <v-alert\n      :type=\"alert.type\"\n      dismissible\n      :value=\"alert.show\"\n    >\n      {{ alert.message }}\n    </v-alert>\n    <v-data-table\n      :headers=\"headers\"\n      :items=\"list\"\n      :search=\"search\"\n      class=\"elevation-1 font-weight-light\"\n      :loading=\"loading\"\n      sort-by=\"name\"\n      fixed-header\n    >\n      <!-- is_active -->\n      <template #[`item.status`]=\"{item}\">\n        <div class=\"d-flex justify-center\">\n          <v-chip\n            small\n            :class=\"`${statusColor[item.status]}--text`\"\n            class=\"v-chip-light-bg text-center\"\n          >\n            {{ item.status }}\n          </v-chip>\n        </div>\n      </template>\n      <template v-slot:top>\n        <v-toolbar\n          flat\n        >\n          <v-col\n            cols=\"12\"\n            offset-md=\"12\"\n            md=\"2\"\n          >\n            <v-toolbar-title>Customers</v-toolbar-title>\n          </v-col>\n          <v-divider\n            class=\"mx-2\"\n            inset\n            vertical\n          ></v-divider>\n          <v-card-text>\n            <v-row>\n              <v-col\n                cols=\"4\"\n              >\n                <v-text-field\n                  v-model=\"search\"\n                  :append-icon=\"icons.mdiMagnify\"\n                  label=\"Search\"\n                  single-line\n                  hide-details\n                ></v-text-field>\n              </v-col>\n              <v-col\n                cols=\"4\"\n                offset-md=\"4\"\n              >\n                <v-select\n                  v-model=\"filter\"\n                  dense\n                  outlined\n                  multiple\n                  :prepend-inner-icon=\"icons.mdiHumanEdit\"\n                  item-text=\"title\"\n                  item-value=\"id\"\n                  label=\"Status\"\n                  :items=\"statusOptions\"\n                  hide-details=\"auto\"\n                ></v-select>\n              </v-col>\n            </v-row>\n          </v-card-text>\n          <v-dialog\n            v-model=\"dialog\"\n            width=\"900px\"\n            fullscreen\n            max-width=\"900px\"\n            max-height=\"900px\"\n            height=\"500px\"\n            transition=\"dialog-bottom-transition\"\n          >\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn\n                color=\"primary\"\n                dark\n                class=\"mb-2\"\n                v-bind=\"attrs\"\n                v-on=\"on\"\n              >\n                New Customer\n              </v-btn>\n            </template>\n            <v-card class=\"elevation-13\">\n              <customer-form\n                :mode=\"mode\"\n                :data=\"editedItem\"\n                @submit=\"closeModal\"\n                @clicked=\"dialog=false\"\n              ></customer-form>\n            </v-card>\n          </v-dialog>\n          <v-dialog\n            v-model=\"dialogDelete\"\n            max-width=\"500px\"\n          >\n            <v-card>\n              <v-card-title>\n                Are you sure you want to deactivate this? ?\n              </v-card-title>\n              <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn\n                  color=\"error\"\n                  text\n                  @click=\"closeDelete\"\n                >\n                  Cancel\n                </v-btn>\n                <v-btn\n                  color=\"success\"\n                  text\n                  @click=\"deleteItemConfirm\"\n                >\n                  OK\n                </v-btn>\n                <v-spacer></v-spacer>\n              </v-card-actions>\n            </v-card>\n          </v-dialog>\n        </v-toolbar>\n      </template>\n      <template v-slot:item.actions=\"{ item }\">\n        <v-icon\n          medium\n          class=\"mr-2\"\n          @click=\"editItem(item)\"\n        >\n          {{ icons.mdiAccountEdit }}\n        </v-icon>\n        <v-icon\n          v-if=\"item.is_active === true\"\n          small\n          @click=\"deleteItem(item)\"\n        >\n          {{ icons.mdiDeleteCircle }}\n        </v-icon>\n      </template>\n      <template v-slot:no-data>\n        <v-btn\n          color=\"primary\"\n        >\n          Refresh\n        </v-btn>\n      </template>\n    </v-data-table>\n  </div>\n</template>\n\n<script>\nimport { mdiAccountEdit, mdiDeleteCircle } from '@mdi/js'\nimport {\n  ref,\n  watch,\n} from '@vue/composition-api'\nimport CustomerForm from '@/views/pages/master-files/customers/CustomerForm.vue'\nimport store from '@/store'\n\nexport default {\n  components: {\n    CustomerForm,\n  },\n  setup() {\n    const statusColor = {\n      Active: 'success',\n      Inactive: 'info',\n      'Bad Account': 'error',\n    }\n\n    const search = ref()\n    const filter = ref()\n    const statusOptions = ref([\n      {\n        title: 'Active',\n        id: 'Active',\n      },\n      {\n        title: 'Inactive',\n        id: 'Inactive',\n      },\n    ])\n\n    watch(filter, () => {\n      store.dispatch('CustomerStore/filter', filter.value)\n    })\n\n    return {\n      statusOptions,\n      filter,\n      icons: {\n        mdiAccountEdit,\n        mdiDeleteCircle,\n      },\n      search,\n      statusColor,\n    }\n  },\n  data: () => ({\n    alert: {\n      message: '',\n      type: 'success',\n      show: false,\n    },\n    dialog: false,\n    dialogDelete: false,\n    headers: [\n      {\n        text: 'Code',\n        align: 'start',\n        sortable: true,\n        value: 'code',\n      },\n      { text: 'Name', value: 'name' },\n      { text: 'Type', value: 'type', align: 'center' },\n      { text: 'Area', value: 'area', align: 'center' },\n      {\n        text: 'Status', value: 'status', align: 'center', sortable: true,\n      },\n      { text: 'Actions', value: 'actions', sortable: false },\n    ],\n    editedIndex: -1,\n    editedItem: {\n      code: '',\n      description: '',\n      days: '',\n      is_active: '',\n      is_bad_account: '',\n      actions: '',\n    },\n    defaultItem: {\n      code: '',\n      description: '',\n      days: '',\n      is_active: false,\n      is_bad_account: '',\n      actions: '',\n    },\n    mode: 'Create',\n  }),\n\n  computed: {\n    formTitle() {\n      // eslint-disable-next-line vue/no-side-effects-in-computed-properties\n      this.mode = this.editedIndex === -1 ? 'Create' : 'Edit'\n\n      return this.editedIndex === -1 ? 'New Customer' : 'Edit Customer'\n    },\n    list() {\n      return this.$store.state.CustomerStore.list\n    },\n    loading() {\n      return this.$store.state.CustomerStore.loading\n    },\n  },\n\n  watch: {\n    dialog(val) {\n      return val || this.close()\n    },\n    dialogDelete(val) {\n      return val || this.closeDelete()\n    },\n  },\n  created() {\n    this.$store.dispatch('CustomerStore/list')\n    this.$store.dispatch('CustomerStore/removeErrors')\n  },\n  methods: {\n    closeModal() {\n      this.dialog = false\n      this.editedItem = {}\n      this.editedIndex = -1\n      this.mode = 'Create'\n    },\n    closeUserCreate(value) {\n      this.dialog = false\n      this.alert.message = value.alertMessage\n      this.alert.type = value.alertType\n      this.alert.show = true\n\n      setTimeout(() => { this.alert.show = false }, 1500)\n    },\n\n    editItem(item) {\n      this.editedIndex = this.list.indexOf(item)\n      this.mode = 'Edit'\n      this.editedItem = { ...item }\n      this.dialog = true\n    },\n\n    deleteItem(item) {\n      this.editedIndex = this.list.indexOf(item)\n      this.editedItem = { ...item }\n      this.dialogDelete = true\n    },\n\n    deleteItemConfirm() {\n      this.list[this.editedIndex].is_active = false\n      store.dispatch('CustomerStore/update', this.list[this.editedIndex]).then(\n        response => {\n          if (response.status === undefined) {\n            store.dispatch('CustomerStore/list')\n          }\n        },\n      )\n      this.closeDelete()\n    },\n\n    close() {\n      this.dialog = false\n      this.$nextTick(() => {\n        this.editedItem = { ...this.defaultItem }\n        this.editedIndex = -1\n      })\n    },\n\n    closeDelete() {\n      this.dialogDelete = false\n      this.$nextTick(() => {\n        this.editedItem = { ...this.defaultItem }\n        this.editedIndex = -1\n      })\n    },\n\n    save() {\n      if (this.editedIndex > -1) {\n        Object.assign(this.users[this.editedIndex], this.editedItem)\n      } else {\n        this.users.push(this.editedItem)\n      }\n      this.close()\n    },\n  },\n}\n</script>\n"]}]}