{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js!/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/projects/enco-fe/src/views/pages/warehouse/branches-page/WarehouseForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/views/pages/warehouse/branches-page/WarehouseForm.vue","mtime":1661073285736},{"path":"/Users/mark/projects/enco-fe/babel.config.js","mtime":1655991784146},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1652172763063},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js","mtime":1650363919730}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGNvbXB1dGVkLCByZWYsIHRvUmVmLCB3YXRjaCB9IGZyb20gJ0B2dWUvY29tcG9zaXRpb24tYXBpJzsKaW1wb3J0IHsgbWRpQWNjb3VudE91dGxpbmUsIG1kaUVtYWlsT3V0bGluZSwgbWRpQ2VsbHBob25lLCBtZGlMb2NrT3V0bGluZSB9IGZyb20gJ0BtZGkvanMnOwppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZSc7CmltcG9ydCByb3V0ZXIgZnJvbSAnQC9yb3V0ZXInOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1dhcmVob3VzZUZvcm0nLAogIHByb3BzOiB7CiAgICB3YXJlaG91c2U6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0KICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cChwcm9wcykgewogICAgdmFyIHdhcmVob3VzZURhdGEgPSB0b1JlZihwcm9wcywgJ3dhcmVob3VzZScpOwogICAgdmFyIGZvcm0gPSByZWYoewogICAgICBuYW1lOiAnJywKICAgICAgYWRkcmVzczogJycsCiAgICAgIGNvbnRhY3RfbnVtYmVyOiAnJywKICAgICAgaXNfbWFpbjogbnVsbCwKICAgICAgc3RhdHVzOiAnQWN0aXZlJwogICAgfSk7CiAgICB3YXRjaCh3YXJlaG91c2VEYXRhLCBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICh3YXJlaG91c2VEYXRhLnZhbHVlLmlkICE9PSBudWxsKSB7CiAgICAgICAgZm9ybS52YWx1ZSA9IHdhcmVob3VzZURhdGEudmFsdWU7CiAgICAgIH0KICAgIH0pOwogICAgdmFyIGVycm9ycyA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHN0b3JlLnN0YXRlLldhcmVob3VzZVN0b3JlLmVycm9yczsKICAgIH0pOwogICAgdmFyIHN0YXR1c09wdGlvbnMgPSBbJ0FjdGl2ZScsICdEZWFjdGl2YXRlZCcsICdJbmFjdGl2ZSddOwoKICAgIHZhciBjYW5jZWwgPSBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgIHJvdXRlci5wdXNoKCcvd2FyZWhvdXNlcycpOwogICAgfTsKCiAgICB2YXIgc3VibWl0ID0gZnVuY3Rpb24gc3VibWl0KCkgewogICAgICB2YXIgX2Zvcm0kdmFsdWUkaXNfbWFpbjsKCiAgICAgIHZhciBwYXlsb2FkID0gewogICAgICAgIHN0YXR1czogZm9ybS52YWx1ZS5zdGF0dXMsCiAgICAgICAgbmFtZTogZm9ybS52YWx1ZS5uYW1lLAogICAgICAgIGFkZHJlc3M6IGZvcm0udmFsdWUuYWRkcmVzcywKICAgICAgICBjb250YWN0X251bWJlcjogZm9ybS52YWx1ZS5jb250YWN0X251bWJlciwKICAgICAgICBpc19tYWluOiAoX2Zvcm0kdmFsdWUkaXNfbWFpbiA9IGZvcm0udmFsdWUuaXNfbWFpbikgIT09IG51bGwgJiYgX2Zvcm0kdmFsdWUkaXNfbWFpbiAhPT0gdm9pZCAwID8gX2Zvcm0kdmFsdWUkaXNfbWFpbiA6IGZhbHNlCiAgICAgIH07CgogICAgICBpZiAod2FyZWhvdXNlRGF0YS52YWx1ZS5pZCAhPT0gbnVsbCkgewogICAgICAgIHBheWxvYWQuaWQgPSB3YXJlaG91c2VEYXRhLnZhbHVlLmlkOwogICAgICAgIHN0b3JlLmRpc3BhdGNoKCdXYXJlaG91c2VTdG9yZS91cGRhdGUnLCBwYXlsb2FkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIHJvdXRlci5wdXNoKCcvd2FyZWhvdXNlcycpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHN0b3JlLmRpc3BhdGNoKCdXYXJlaG91c2VTdG9yZS9jcmVhdGUnLCBwYXlsb2FkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIHJvdXRlci5wdXNoKCcvd2FyZWhvdXNlcycpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIGNhbmNlbDogY2FuY2VsLAogICAgICBlcnJvcnM6IGVycm9ycywKICAgICAgaWNvbnM6IHsKICAgICAgICBtZGlBY2NvdW50T3V0bGluZTogbWRpQWNjb3VudE91dGxpbmUsCiAgICAgICAgbWRpRW1haWxPdXRsaW5lOiBtZGlFbWFpbE91dGxpbmUsCiAgICAgICAgbWRpQ2VsbHBob25lOiBtZGlDZWxscGhvbmUsCiAgICAgICAgbWRpTG9ja091dGxpbmU6IG1kaUxvY2tPdXRsaW5lCiAgICAgIH0sCiAgICAgIGZvcm06IGZvcm0sCiAgICAgIHN0YXR1c09wdGlvbnM6IHN0YXR1c09wdGlvbnMsCiAgICAgIHN1Ym1pdDogc3VibWl0CiAgICB9OwogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsHA,SACAA,QADA,EACAC,GADA,EACAC,KADA,EACAC,KADA,QAEA,sBAFA;AAGA,SACAC,iBADA,EAEAC,eAFA,EAGAC,YAHA,EAIAC,cAJA,QAKA,SALA;AAMA;AACA;AAEA;EACAC,qBADA;EAEAC;IACAC;MACAC,YADA;MAEAC,eAFA;MAGAC;IAHA;EADA,CAFA;EASAC,KATA,iBASAL,KATA,EASA;IACA;IACA;MACAD,QADA;MAEAO,WAFA;MAGAC,kBAHA;MAIAC,aAJA;MAKAC;IALA;IAQAf,MACAgB,aADA,EACA;MACA;QACAC;MACA;IACA,CALA;IAQA;MAAA;IAAA;IAEA,qBACA,QADA,EAEA,aAFA,EAGA,UAHA;;IAMA;MACAC;IACA,CAFA;;IAIA;MAAA;;MACA;QACAH,yBADA;QAEAV,qBAFA;QAGAO,2BAHA;QAIAC,yCAJA;QAKAC;MALA;;MAQA;QACAK;QAEAC,sDACA;UACA;YACAF;UACA;QACA,CALA;MAOA,CAVA,MAUA;QACAE,sDACA;UACA;YACAF;UACA;QACA,CALA;MAOA;IACA,CA5BA;;IA8BA;MACAG,cADA;MAEAC,cAFA;MAGAC;QACAtB,oCADA;QAEAC,gCAFA;QAGAC,0BAHA;QAIAC;MAJA,CAHA;MASAa,UATA;MAUAO,4BAVA;MAWAC;IAXA;EAaA;AAlFA","names":["computed","ref","toRef","watch","mdiAccountOutline","mdiEmailOutline","mdiCellphone","mdiLockOutline","name","props","warehouse","type","required","default","setup","address","contact_number","is_main","status","warehouseData","form","router","payload","store","cancel","errors","icons","statusOptions","submit"],"sourceRoot":"src/views/pages/warehouse/branches-page","sources":["WarehouseForm.vue"],"sourcesContent":["<template>\n  <v-form class=\"pa-3\">\n    <v-row>\n      <v-col cols=\"12\">\n        <v-alert\n          color=\"primary\"\n          text\n          style=\"margin-bottom: -10px\"\n        >\n          <div class=\"d-flex align-start\">\n            <v-icon color=\"primary\">\n              {{ icons.mdiAlertOutline }}\n            </v-icon>\n\n            <div class=\"ms-3\">\n              <p class=\"text-base font-weight-medium mb-1\">\n                Warehouse Information\n              </p>\n            </div>\n          </div>\n        </v-alert>\n      </v-col>\n      <v-col\n        cols=\"6\"\n        mb=\"6\"\n      >\n        <v-text-field\n          id=\"email\"\n          v-model=\"form.name\"\n          :prepend-inner-icon=\"icons.mdiEmailOutline\"\n          :error-messages=\"errors.name\"\n          outlined\n          dense\n          hide-details=\"auto\"\n          placeholder=\"Name*\"\n          label=\"Name\"\n        ></v-text-field>\n      </v-col>\n      <v-col\n        cols=\"6\"\n        mb=\"6\"\n      >\n        <v-select\n          v-model=\"form.status\"\n          dense\n          outlined\n          placeholder=\"Status*\"\n          :prepend-inner-icon=\"icons.mdiListStatus\"\n          :error-messages=\"errors.status\"\n          :items=\"statusOptions\"\n          label=\"Status\"\n        ></v-select>\n      </v-col>\n      <v-col\n        cols=\"6\"\n        mb=\"6\"\n      >\n        <v-textarea\n          id=\"email\"\n          v-model=\"form.address\"\n          :prepend-inner-icon=\"icons.mdiEmailOutline\"\n          :error-messages=\"errors.address\"\n          outlined\n          dense\n          hide-details=\"auto\"\n          placeholder=\"Address*\"\n          label=\"Address\"\n        ></v-textarea>\n      </v-col>\n      <v-col\n        cols=\"6\"\n        mb=\"6\"\n      >\n        <v-text-field\n          id=\"email\"\n          v-model=\"form.contact_number\"\n          :prepend-inner-icon=\"icons.mdiCellphone\"\n          :error-messages=\"errors.contact_number\"\n          outlined\n          dense\n          hide-details=\"auto\"\n          placeholder=\"Contact Number\"\n          label=\"Contact Number\"\n        ></v-text-field>\n      </v-col>\n      <v-col\n        cols=\"6\"\n        mb=\"6\"\n      >\n        <v-checkbox\n          v-model=\"form.is_main\"\n          label=\"Main Branch\"\n          class=\"mt-0\"\n          hide-details\n        ></v-checkbox>\n      </v-col>\n      <v-col cols=\"12\">\n        <v-btn\n          color=\"primary\"\n          class=\"me-3 mt-4\"\n          @click=\"submit\"\n        >\n          Submit\n        </v-btn>\n        <v-btn\n          outlined\n          class=\"me-3 mt-3\"\n          type=\"reset\"\n          @click.prevent=\"cancel\"\n        >\n          Cancel\n        </v-btn>\n      </v-col>\n    </v-row>\n  </v-form>\n</template>\n\n<script>\nimport {\n  computed, ref, toRef, watch,\n} from '@vue/composition-api'\nimport {\n  mdiAccountOutline,\n  mdiEmailOutline,\n  mdiCellphone,\n  mdiLockOutline,\n} from '@mdi/js'\nimport store from '@/store'\nimport router from '@/router'\n\nexport default {\n  name: 'WarehouseForm',\n  props: {\n    warehouse: {\n      type: Object,\n      required: false,\n      default: null,\n    },\n  },\n  setup(props) {\n    const warehouseData = toRef(props, 'warehouse')\n    const form = ref({\n      name: '',\n      address: '',\n      contact_number: '',\n      is_main: null,\n      status: 'Active',\n    })\n\n    watch(\n      warehouseData, () => {\n        if (warehouseData.value.id !== null) {\n          form.value = warehouseData.value\n        }\n      },\n    )\n\n    const errors = computed(() => store.state.WarehouseStore.errors)\n\n    const statusOptions = [\n      'Active',\n      'Deactivated',\n      'Inactive',\n    ]\n\n    const cancel = () => {\n      router.push('/warehouses')\n    }\n\n    const submit = () => {\n      const payload = {\n        status: form.value.status,\n        name: form.value.name,\n        address: form.value.address,\n        contact_number: form.value.contact_number,\n        is_main: form.value.is_main ?? false,\n      }\n\n      if (warehouseData.value.id !== null) {\n        payload.id = warehouseData.value.id\n\n        store.dispatch('WarehouseStore/update', payload).then(\n          response => {\n            if (response.status === undefined) {\n              router.push('/warehouses')\n            }\n          },\n        )\n      } else {\n        store.dispatch('WarehouseStore/create', payload).then(\n          response => {\n            if (response.status === undefined) {\n              router.push('/warehouses')\n            }\n          },\n        )\n      }\n    }\n\n    return {\n      cancel,\n      errors,\n      icons: {\n        mdiAccountOutline,\n        mdiEmailOutline,\n        mdiCellphone,\n        mdiLockOutline,\n      },\n      form,\n      statusOptions,\n      submit,\n    }\n  },\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}