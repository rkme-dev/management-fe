{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js!/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/projects/enco-fe/src/views/pages/sales/drs/SalesOrderItems.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/views/pages/sales/drs/SalesOrderItems.vue","mtime":1665318811262},{"path":"/Users/mark/projects/enco-fe/babel.config.js","mtime":1655991784146},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1665368576185},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1665368576151},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1665368576185},{"path":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js","mtime":1665368593779}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWRpQWNjb3VudEVkaXQsIG1kaURlbGV0ZUNpcmNsZSwgbWRpSW5mb3JtYXRpb24sIG1kaVRleHRCb3hQbHVzIH0gZnJvbSAnQG1kaS9qcyc7CmltcG9ydCB7IGNvbXB1dGVkLCByZWYsIHRvUmVmLCB3YXRjaCB9IGZyb20gJ0B2dWUvY29tcG9zaXRpb24tYXBpJzsKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1NhbGVPcmRlckl0ZW1zJywKICBwcm9wczogewogICAgZGlzYWJsZWQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIG1vZGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiAnQ3JlYXRlJzsKICAgICAgfQogICAgfSwKICAgIGN1c3RvbWVySWQ6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICBpdGVtczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9CiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAocHJvcHMsIF9yZWYpIHsKICAgIHZhciBlbWl0ID0gX3JlZi5lbWl0OwogICAgc3RvcmUuZGlzcGF0Y2goJ1Byb2R1Y3RTdG9yZS9saXN0Jyk7CiAgICB2YXIgc2VhcmNoID0gcmVmKCk7CiAgICB2YXIgbW9kZURhdGEgPSB0b1JlZihwcm9wcywgJ21vZGUnKTsKICAgIHZhciBjdXN0b21lcklkRGF0YSA9IHRvUmVmKHByb3BzLCAnY3VzdG9tZXJJZCcpOwogICAgdmFyIGZvcm1EYXRhID0gcmVmKHt9KTsKICAgIHZhciBmb3JtVGl0bGUgPSByZWYoJ0FkZCBJdGVtJyk7CiAgICB2YXIgZXhpc3RpbmdTYWxlc09yZGVySXRlbXMgPSB0b1JlZihwcm9wcywgJ2l0ZW1zJyk7CiAgICB2YXIgb3JkZXJJdGVtcyA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKG1vZGVEYXRhLnZhbHVlID09PSAnQ3JlYXRlJykgewogICAgICAgIHZhciBfc3RvcmUkc3RhdGUkU2FsZXNPcmQ7CgogICAgICAgIHJldHVybiAoX3N0b3JlJHN0YXRlJFNhbGVzT3JkID0gc3RvcmUuc3RhdGUuU2FsZXNPcmRlclN0b3JlLml0ZW1zKSA9PT0gbnVsbCB8fCBfc3RvcmUkc3RhdGUkU2FsZXNPcmQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zdG9yZSRzdGF0ZSRTYWxlc09yZC5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiBpdGVtLmhhc19kciA9PT0gMDsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgcmV0dXJuIHN0b3JlLnN0YXRlLlNhbGVzT3JkZXJTdG9yZS5pdGVtczsKICAgIH0pOwogICAgdmFyIHByb2R1Y3RzID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gc3RvcmUuc3RhdGUuUHJvZHVjdFN0b3JlLmxpc3Q7CiAgICB9KTsKICAgIHZhciBzZWxlY3RlZE9yZGVySXRlbXMgPSByZWYoW10pOwogICAgdmFyIGN1cnJlbnRJdGVtID0gcmVmKHsKICAgICAgcHJvZHVjdF9pZDogbnVsbCwKICAgICAgcXVhbnRpdHk6IG51bGwsCiAgICAgIHByaWNlOiBudWxsLAogICAgICB0b3RhbF9hbW91bnQ6IDAsCiAgICAgIHVuaXQ6IG51bGwsCiAgICAgIG5hbWU6IG51bGwsCiAgICAgIHNrdTogbnVsbCwKICAgICAgc2x1ZzogbnVsbAogICAgfSk7CiAgICB2YXIgc2FsZXNPcmRlclRvdGFsQW1vdW50ID0gcmVmKDApOwogICAgdmFyIG9yZGVySXRlbUlkcyA9IHJlZihbXSk7CiAgICBzdG9yZS5kaXNwYXRjaCgnU2FsZXNPcmRlclN0b3JlL3Jlc2V0T3JkZXJJdGVtcycpOwogICAgd2F0Y2goY3VzdG9tZXJJZERhdGEsIGZ1bmN0aW9uICgpIHsKICAgICAgc2FsZXNPcmRlclRvdGFsQW1vdW50LnZhbHVlID0gMDsKICAgICAgc2VsZWN0ZWRPcmRlckl0ZW1zLnZhbHVlID0gW107CgogICAgICBpZiAoY3VzdG9tZXJJZERhdGEudmFsdWUgPT09IG51bGwpIHsKICAgICAgICBzdG9yZS5kaXNwYXRjaCgnU2FsZXNPcmRlclN0b3JlL3Jlc2V0T3JkZXJJdGVtcycpOwogICAgICB9CiAgICB9KTsKICAgIHdhdGNoKG9yZGVySXRlbXMsIGZ1bmN0aW9uICgpIHsKICAgICAgc2FsZXNPcmRlclRvdGFsQW1vdW50LnZhbHVlID0gMDsKICAgICAgc2VsZWN0ZWRPcmRlckl0ZW1zLnZhbHVlID0gW107CgogICAgICBpZiAoZXhpc3RpbmdTYWxlc09yZGVySXRlbXMudmFsdWUpIHsKICAgICAgICBleGlzdGluZ1NhbGVzT3JkZXJJdGVtcy52YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICB2YXIgZmluZEl0ZW0gPSBvcmRlckl0ZW1zLnZhbHVlLmZpbmQoZnVuY3Rpb24gKG9yZGVySXRlbSkgewogICAgICAgICAgICByZXR1cm4gb3JkZXJJdGVtLm9yZGVyX2l0ZW1faWQgPT09IGl0ZW0uc2FsZXNfb3JkZXJfaXRlbV9pZDsKICAgICAgICAgIH0pOwoKICAgICAgICAgIGlmIChmaW5kSXRlbSkgewogICAgICAgICAgICBzZWxlY3RlZE9yZGVySXRlbXMudmFsdWUucHVzaChmaW5kSXRlbSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0pOwogICAgd2F0Y2goc2VsZWN0ZWRPcmRlckl0ZW1zLCBmdW5jdGlvbiAoKSB7CiAgICAgIG9yZGVySXRlbUlkcy52YWx1ZSA9IFtdOwoKICAgICAgaWYgKHNlbGVjdGVkT3JkZXJJdGVtcy52YWx1ZS5sZW5ndGggPiAwKSB7CiAgICAgICAgc2FsZXNPcmRlclRvdGFsQW1vdW50LnZhbHVlID0gMDsKICAgICAgICBzZWxlY3RlZE9yZGVySXRlbXMudmFsdWUuZm9yRWFjaChmdW5jdGlvbiAob3JkZXJJdGVtKSB7CiAgICAgICAgICBpZiAob3JkZXJJdGVtKSB7CiAgICAgICAgICAgIG9yZGVySXRlbUlkcy52YWx1ZS5wdXNoKG9yZGVySXRlbS5vcmRlcl9pdGVtX2lkKTsKICAgICAgICAgICAgc2FsZXNPcmRlclRvdGFsQW1vdW50LnZhbHVlID0gcGFyc2VGbG9hdChzYWxlc09yZGVyVG90YWxBbW91bnQudmFsdWUpICsgcGFyc2VGbG9hdChvcmRlckl0ZW0gPT09IG51bGwgfHwgb3JkZXJJdGVtID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcmRlckl0ZW0udG90YWxfYW1vdW50KTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBzYWxlc09yZGVyVG90YWxBbW91bnQudmFsdWUgPSAwOwogICAgICB9CgogICAgICBlbWl0KCd0b3RhbEFtb3VudCcsIHNhbGVzT3JkZXJUb3RhbEFtb3VudC52YWx1ZSk7CiAgICAgIGVtaXQoJ29yZGVySXRlbUlkcycsIG9yZGVySXRlbUlkcy52YWx1ZSk7CiAgICB9KTsKICAgIHJldHVybiB7CiAgICAgIHNlYXJjaDogc2VhcmNoLAogICAgICBzZWxlY3RlZE9yZGVySXRlbXM6IHNlbGVjdGVkT3JkZXJJdGVtcywKICAgICAgc2FsZXNPcmRlclRvdGFsQW1vdW50OiBzYWxlc09yZGVyVG90YWxBbW91bnQsCiAgICAgIGZvcm1UaXRsZTogZm9ybVRpdGxlLAogICAgICBjdXJyZW50SXRlbTogY3VycmVudEl0ZW0sCiAgICAgIG9yZGVySXRlbXM6IG9yZGVySXRlbXMsCiAgICAgIGZvcm1EYXRhOiBmb3JtRGF0YSwKICAgICAgcHJvZHVjdHM6IHByb2R1Y3RzLAogICAgICBoZWFkZXJzOiBbewogICAgICAgIHRleHQ6ICdEYXRlJywKICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICB2YWx1ZTogJ2RhdGVfcG9zdGVkJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ1NPIE5vJywKICAgICAgICB2YWx1ZTogJ3NhbGVzX29yZGVyX251bWJlcicsCiAgICAgICAgc29ydGFibGU6IHRydWUKICAgICAgfSwgewogICAgICAgIHRleHQ6ICdQcm9kdWN0IE5hbWUnLAogICAgICAgIHZhbHVlOiAncHJvZHVjdF9uYW1lJywKICAgICAgICBzb3J0YWJsZTogdHJ1ZQogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ1F1YW50aXR5JywKICAgICAgICB2YWx1ZTogJ3F1YW50aXR5JywKICAgICAgICBzb3J0YWJsZTogdHJ1ZQogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ1VuaXQnLAogICAgICAgIHZhbHVlOiAndW5pdCcsCiAgICAgICAgc29ydGFibGU6IHRydWUKICAgICAgfSwgewogICAgICAgIHRleHQ6ICdQcmljZScsCiAgICAgICAgdmFsdWU6ICdwcmljZScsCiAgICAgICAgc29ydGFibGU6IHRydWUKICAgICAgfSwgewogICAgICAgIHRleHQ6ICdBbW91bnQnLAogICAgICAgIHZhbHVlOiAndG90YWxfYW1vdW50JywKICAgICAgICBzb3J0YWJsZTogdHJ1ZQogICAgICB9XSwKICAgICAgaWNvbnM6IHsKICAgICAgICBtZGlBY2NvdW50RWRpdDogbWRpQWNjb3VudEVkaXQsCiAgICAgICAgbWRpRGVsZXRlQ2lyY2xlOiBtZGlEZWxldGVDaXJjbGUsCiAgICAgICAgbWRpSW5mb3JtYXRpb246IG1kaUluZm9ybWF0aW9uLAogICAgICAgIG1kaVRleHRCb3hQbHVzOiBtZGlUZXh0Qm94UGx1cwogICAgICB9CiAgICB9OwogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqHA,SACAA,cADA,EAEAC,eAFA,EAGAC,cAHA,EAIAC,cAJA,QAKA,SALA;AAMA,SACAC,QADA,EACAC,GADA,EACAC,KADA,EACAC,KADA,QAEA,sBAFA;AAGA;AAEA;EACAC,sBADA;EAEAC;IACAC;MACAC,aADA;MAEAC,eAFA;MAGAC;IAHA,CADA;IAMAC;MACAH,YADA;MAEAC,eAFA;MAGAC;QAAA;MAAA;IAHA,CANA;IAWAE;MACAJ,YADA;MAEAC,eAFA;MAGAC;IAHA,CAXA;IAgBAG;MACAL,WADA;MAEAC,eAFA;MAGAC;IAHA;EAhBA,CAFA;EAwBAI,KAxBA,iBAwBAR,KAxBA,QAwBA;IAAA;IACAS;IACA;IACA;IACA;IACA;IACA;IACA;IACA;MACA;QAAA;;QACA;UAAA;QAAA;MACA;;MAEA;IACA,CANA;IAOA;MAAA;IAAA;IACA;IACA;MACAC,gBADA;MAEAC,cAFA;MAGAC,WAHA;MAIAC,eAJA;MAKAC,UALA;MAMAf,UANA;MAOAgB,SAPA;MAQAC;IARA;IAWA;IACA;IAEAP;IAEAX;MACAmB;MACAC;;MAEA;QACAT;MACA;IACA,CAPA;IASAX;MACAmB;MAEAC;;MAEA;QACAC;UACA;YAAA;UAAA;;UAEA;YACAD;UACA;QACA,CANA;MAOA;IACA,CAdA;IAgBApB;MACAsB;;MAEA;QACAH;QAEAC;UACA;YACAE;YACAH;UACA;QACA,CALA;MAMA,CATA,MASA;QACAA;MACA;;MAEAI;MACAA;IACA,CAlBA;IAoBA;MACAC,cADA;MAEAJ,sCAFA;MAGAD,4CAHA;MAIAM,oBAJA;MAKAC,wBALA;MAMAC,sBANA;MAOAC,kBAPA;MAQAC,kBARA;MASAC,UACA;QAAAC;QAAAC;QAAAC;MAAA,CADA,EAEA;QAAAF;QAAAE;QAAAD;MAAA,CAFA,EAGA;QAAAD;QAAAE;QAAAD;MAAA,CAHA,EAIA;QAAAD;QAAAE;QAAAD;MAAA,CAJA,EAKA;QAAAD;QAAAE;QAAAD;MAAA,CALA,EAMA;QAAAD;QAAAE;QAAAD;MAAA,CANA,EAOA;QAAAD;QAAAE;QAAAD;MAAA,CAPA,CATA;MAkBAE;QACAzC,8BADA;QAEAC,gCAFA;QAGAC,8BAHA;QAIAC;MAJA;IAlBA;EAyBA;AA/HA","names":["mdiAccountEdit","mdiDeleteCircle","mdiInformation","mdiTextBoxPlus","computed","ref","toRef","watch","name","props","disabled","type","required","default","mode","customerId","items","setup","store","product_id","quantity","price","total_amount","unit","sku","slug","salesOrderTotalAmount","selectedOrderItems","existingSalesOrderItems","orderItemIds","emit","search","formTitle","currentItem","orderItems","formData","products","headers","text","sortable","value","icons"],"sourceRoot":"src/views/pages/sales/drs","sources":["SalesOrderItems.vue"],"sourcesContent":["<template>\n  <v-row class=\"\">\n    <v-col cols=\"12\">\n      <v-alert\n        color=\"success\"\n        text\n        style=\"margin-bottom: -30px\"\n      >\n        <div class=\"d-flex align-start\">\n          <v-icon color=\"success\">\n            {{ icons.mdiInformation }}\n          </v-icon>\n          <div class=\"ms-3\">\n            <p class=\"text-base font-weight-medium mb-1\">\n              Sales Order Items\n            </p>\n          </div>\n        </div>\n      </v-alert>\n    </v-col>\n    <v-col\n      class=\"\"\n      cols=\"12\"\n    >\n      <v-data-table\n        v-model=\"selectedOrderItems\"\n        :headers=\"headers\"\n        :items=\"orderItems\"\n        :items-per-page=\"5\"\n        :search=\"search\"\n        item-key=\"order_item_id\"\n        show-select\n      >\n        <template v-slot:item.data-table-select=\"{ item, isSelected, select }\">\n          <v-simple-checkbox\n            :value=\"isSelected\"\n            :disabled=\"disabled\"\n            :ripple=\"false\"\n            @input=\"select($event)\"\n          ></v-simple-checkbox>\n        </template>\n        <template v-slot:top>\n          <v-toolbar\n            flat\n          >\n            <v-card-text>\n              <v-row class=\"mt-10\">\n                <v-col\n                  cols=\"4\"\n                >\n                  <v-text-field\n                    v-model=\"search\"\n                    :append-icon=\"icons.mdiMagnify\"\n                    label=\"Search\"\n                    single-line\n                    hide-details\n                  ></v-text-field>\n                </v-col>\n                <v-col\n                  cols=\"4\"\n                >\n                </v-col>\n                <v-col\n                  class=\"\"\n                  cols=\"4\"\n                >\n                  <v-currency-field\n                    v-model=\"salesOrderTotalAmount\"\n                    outlined\n                    class=\"text-green\"\n                    disabled\n                    dense\n                    hide-details=\"auto\"\n                    label=\"Sales Order Total Amount\"\n                  ></v-currency-field>\n                </v-col>\n                <v-col\n                  cols=\"4\"\n                  offset-md=\"4\"\n                >\n                </v-col>\n              </v-row>\n            </v-card-text>\n          </v-toolbar>\n        </template>\n        <template #item.price=\"{ item }\">\n          <v-currency-field\n            v-model=\"item.price\"\n            prefix=\"PHP\"\n            class=\"text-green\"\n            disabled\n          >\n          </v-currency-field>\n        </template>\n        <template #item.total_amount=\"{ item }\">\n          <v-currency-field\n            v-model=\"item.total_amount\"\n            prefix=\"PHP\"\n            class=\"text-green\"\n            disabled\n          >\n          </v-currency-field>\n        </template>\n        <template v-slot:item.actions=\"{ item }\">\n          <v-icon\n            small\n            @click=\"deleteItem(item)\"\n          >\n            {{ icons.mdiDeleteCircle }}\n          </v-icon>\n        </template>\n      </v-data-table>\n    </v-col>\n  </v-row>\n</template>\n\n<script>\nimport {\n  mdiAccountEdit,\n  mdiDeleteCircle,\n  mdiInformation,\n  mdiTextBoxPlus,\n} from '@mdi/js'\nimport {\n  computed, ref, toRef, watch,\n} from '@vue/composition-api'\nimport store from '@/store'\n\nexport default {\n  name: 'SaleOrderItems',\n  props: {\n    disabled: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n    mode: {\n      type: String,\n      required: false,\n      default: (() => 'Create'),\n    },\n    customerId: {\n      type: Number,\n      required: false,\n      default: null,\n    },\n    items: {\n      type: Array,\n      required: false,\n      default: null,\n    },\n  },\n  setup(props, { emit }) {\n    store.dispatch('ProductStore/list')\n    const search = ref()\n    const modeData = toRef(props, 'mode')\n    const customerIdData = toRef(props, 'customerId')\n    const formData = ref({})\n    const formTitle = ref('Add Item')\n    const existingSalesOrderItems = toRef(props, 'items')\n    const orderItems = computed(() => {\n      if (modeData.value === 'Create') {\n        return store.state.SalesOrderStore.items?.filter(item => item.has_dr === 0)\n      }\n\n      return store.state.SalesOrderStore.items\n    })\n    const products = computed(() => store.state.ProductStore.list)\n    const selectedOrderItems = ref([])\n    const currentItem = ref({\n      product_id: null,\n      quantity: null,\n      price: null,\n      total_amount: 0,\n      unit: null,\n      name: null,\n      sku: null,\n      slug: null,\n    })\n\n    const salesOrderTotalAmount = ref(0)\n    const orderItemIds = ref([])\n\n    store.dispatch('SalesOrderStore/resetOrderItems')\n\n    watch(customerIdData, () => {\n      salesOrderTotalAmount.value = 0\n      selectedOrderItems.value = []\n\n      if (customerIdData.value === null) {\n        store.dispatch('SalesOrderStore/resetOrderItems')\n      }\n    })\n\n    watch(orderItems, () => {\n      salesOrderTotalAmount.value = 0\n\n      selectedOrderItems.value = []\n\n      if (existingSalesOrderItems.value) {\n        existingSalesOrderItems.value.forEach(item => {\n          const findItem = orderItems.value.find(orderItem => orderItem.order_item_id === item.sales_order_item_id)\n\n          if (findItem) {\n            selectedOrderItems.value.push(findItem)\n          }\n        })\n      }\n    })\n\n    watch(selectedOrderItems, () => {\n      orderItemIds.value = []\n\n      if (selectedOrderItems.value.length > 0) {\n        salesOrderTotalAmount.value = 0\n\n        selectedOrderItems.value.forEach(orderItem => {\n          if (orderItem) {\n            orderItemIds.value.push(orderItem.order_item_id)\n            salesOrderTotalAmount.value = parseFloat(salesOrderTotalAmount.value) + parseFloat(orderItem?.total_amount)\n          }\n        })\n      } else {\n        salesOrderTotalAmount.value = 0\n      }\n\n      emit('totalAmount', salesOrderTotalAmount.value)\n      emit('orderItemIds', orderItemIds.value)\n    })\n\n    return {\n      search,\n      selectedOrderItems,\n      salesOrderTotalAmount,\n      formTitle,\n      currentItem,\n      orderItems,\n      formData,\n      products,\n      headers: [\n        { text: 'Date', sortable: true, value: 'date_posted' },\n        { text: 'SO No', value: 'sales_order_number', sortable: true },\n        { text: 'Product Name', value: 'product_name', sortable: true },\n        { text: 'Quantity', value: 'quantity', sortable: true },\n        { text: 'Unit', value: 'unit', sortable: true },\n        { text: 'Price', value: 'price', sortable: true },\n        { text: 'Amount', value: 'total_amount', sortable: true },\n      ],\n      icons: {\n        mdiAccountEdit,\n        mdiDeleteCircle,\n        mdiInformation,\n        mdiTextBoxPlus,\n      },\n    }\n  },\n}\n</script>\n\n<style>\n.text-green input {\n  color: chartreuse !important;\n}\n</style>\n"]}]}