{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js!/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/projects/enco-fe/src/views/pages/user-access-management/roles/RoleListTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/views/pages/user-access-management/roles/RoleListTable.vue","mtime":1655988208110},{"path":"/Users/mark/projects/enco-fe/babel.config.js","mtime":1654585219618},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1652172763063},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js","mtime":1650363919730}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL21hcmsvcHJvamVjdHMvZW5jby1mZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBVc2VyQWNjZXNzTWFuYWdlbWVudFNlcnZpY2UgZnJvbSAnQC9zZXJ2aWNlL1VzZXJBY2Nlc3NNYW5hZ2VtZW50U2VydmljZSc7CmltcG9ydCB7IG1kaUFjY291bnRFZGl0IH0gZnJvbSAnQG1kaS9qcyc7CmltcG9ydCBSb2xlRm9ybSBmcm9tICdAL3ZpZXdzL3BhZ2VzL3VzZXItYWNjZXNzLW1hbmFnZW1lbnQvcm9sZXMvUm9sZUZvcm0udnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFJvbGVGb3JtOiBSb2xlRm9ybQogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgcmV0dXJuIHsKICAgICAgaWNvbnM6IHsKICAgICAgICBtZGlBY2NvdW50RWRpdDogbWRpQWNjb3VudEVkaXQKICAgICAgfQogICAgfTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkaWFsb2c6IGZhbHNlLAogICAgICBkaWFsb2dEZWxldGU6IGZhbHNlLAogICAgICBoZWFkZXJzOiBbewogICAgICAgIHRleHQ6ICdUaXRsZScsCiAgICAgICAgYWxpZ246ICdzdGFydCcsCiAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgdmFsdWU6ICd0aXRsZScKICAgICAgfSwgewogICAgICAgIHRleHQ6ICdWYWx1ZScsCiAgICAgICAgdmFsdWU6ICduYW1lJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ0RhdGUgQ3JlYXRlZCcsCiAgICAgICAgdmFsdWU6ICdjcmVhdGVkX2F0JwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ0FjdGlvbnMnLAogICAgICAgIHZhbHVlOiAnYWN0aW9ucycsCiAgICAgICAgc29ydGFibGU6IGZhbHNlCiAgICAgIH1dLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgcm9sZXM6IFtdLAogICAgICBlZGl0ZWRJbmRleDogLTEsCiAgICAgIGVkaXRlZEl0ZW06IHsKICAgICAgICB0aXRsZTogJycsCiAgICAgICAgbmFtZTogJycsCiAgICAgICAgc2NvcGU6ICcnLAogICAgICAgIGRhdGVfY3JlYXRlZDogJycsCiAgICAgICAgYWN0aW9uczogJycKICAgICAgfSwKICAgICAgZGVmYXVsdEl0ZW06IHsKICAgICAgICB0aXRsZTogJycsCiAgICAgICAgbmFtZTogJycsCiAgICAgICAgc2NvcGU6ICcnLAogICAgICAgIGRhdGVfY3JlYXRlZDogJycsCiAgICAgICAgYWN0aW9uczogJycKICAgICAgfQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBmb3JtVGl0bGU6IGZ1bmN0aW9uIGZvcm1UaXRsZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuZWRpdGVkSW5kZXggPT09IC0xID8gJ05ldyBSb2xlJyA6ICdFZGl0IFJvbGUnOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGRpYWxvZzogZnVuY3Rpb24gZGlhbG9nKHZhbCkgewogICAgICByZXR1cm4gdmFsIHx8IHRoaXMuY2xvc2UoKTsKICAgIH0sCiAgICBkaWFsb2dEZWxldGU6IGZ1bmN0aW9uIGRpYWxvZ0RlbGV0ZSh2YWwpIHsKICAgICAgcmV0dXJuIHZhbCB8fCB0aGlzLmNsb3NlRGVsZXRlKCk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5zZXJ2aWNlID0gbmV3IFVzZXJBY2Nlc3NNYW5hZ2VtZW50U2VydmljZSgpOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5zZXJ2aWNlLmdldFJvbGVzKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgX3RoaXMubG9hZGluZzEgPSBmYWxzZTsKICAgICAgX3RoaXMucm9sZXMgPSByZXNwb25zZS5kYXRhOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBlZGl0SXRlbTogZnVuY3Rpb24gZWRpdEl0ZW0oaXRlbSkgewogICAgICB0aGlzLmVkaXRlZEluZGV4ID0gdGhpcy5yb2xlcy5pbmRleE9mKGl0ZW0pOwogICAgICB0aGlzLmVkaXRlZEl0ZW0gPSBfb2JqZWN0U3ByZWFkKHt9LCBpdGVtKTsKICAgICAgdGhpcy5kaWFsb2cgPSB0cnVlOwogICAgfSwKICAgIGRlbGV0ZUl0ZW06IGZ1bmN0aW9uIGRlbGV0ZUl0ZW0oaXRlbSkgewogICAgICB0aGlzLmVkaXRlZEluZGV4ID0gdGhpcy5yb2xlcy5pbmRleE9mKGl0ZW0pOwogICAgICB0aGlzLmVkaXRlZEl0ZW0gPSBfb2JqZWN0U3ByZWFkKHt9LCBpdGVtKTsKICAgICAgdGhpcy5kaWFsb2dEZWxldGUgPSB0cnVlOwogICAgfSwKICAgIGRlbGV0ZUl0ZW1Db25maXJtOiBmdW5jdGlvbiBkZWxldGVJdGVtQ29uZmlybSgpIHsKICAgICAgdGhpcy5yb2xlcy5zcGxpY2UodGhpcy5lZGl0ZWRJbmRleCwgMSk7CiAgICAgIHRoaXMuY2xvc2VEZWxldGUoKTsKICAgIH0sCiAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5kaWFsb2cgPSBmYWxzZTsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi5lZGl0ZWRJdGVtID0gX29iamVjdFNwcmVhZCh7fSwgX3RoaXMyLmRlZmF1bHRJdGVtKTsKICAgICAgICBfdGhpczIuZWRpdGVkSW5kZXggPSAtMTsKICAgICAgfSk7CiAgICB9LAogICAgY2xvc2VEZWxldGU6IGZ1bmN0aW9uIGNsb3NlRGVsZXRlKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuZGlhbG9nRGVsZXRlID0gZmFsc2U7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczMuZWRpdGVkSXRlbSA9IF9vYmplY3RTcHJlYWQoe30sIF90aGlzMy5kZWZhdWx0SXRlbSk7CiAgICAgICAgX3RoaXMzLmVkaXRlZEluZGV4ID0gLTE7CiAgICAgIH0pOwogICAgfSwKICAgIHNhdmU6IGZ1bmN0aW9uIHNhdmUoKSB7CiAgICAgIGlmICh0aGlzLmVkaXRlZEluZGV4ID4gLTEpIHsKICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMucm9sZXNbdGhpcy5lZGl0ZWRJbmRleF0sIHRoaXMuZWRpdGVkSXRlbSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5yb2xlcy5wdXNoKHRoaXMuZWRpdGVkSXRlbSk7CiAgICAgIH0KCiAgICAgIHRoaXMuY2xvc2UoKTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkFA;AACA;AACA;AAEA;EACAA;IACAC;EADA,CADA;EAIAC,KAJA,mBAIA;IACA;MACAC;QACAC;MADA;IADA;EAKA,CAVA;EAWAC;IAAA;MACAC,aADA;MAEAC,mBAFA;MAGAC,UACA;QACAC,aADA;QAEAC,cAFA;QAGAC,cAHA;QAIAC;MAJA,CADA,EAOA;QAAAH;QAAAG;MAAA,CAPA,EAQA;QAAAH;QAAAG;MAAA,CARA,EASA;QAAAH;QAAAG;QAAAD;MAAA,CATA,CAHA;MAcAE,cAdA;MAeAC,SAfA;MAgBAC,eAhBA;MAiBAC;QACAC,SADA;QAEAC,QAFA;QAGAC,SAHA;QAIAC,gBAJA;QAKAC;MALA,CAjBA;MAwBAC;QACAL,SADA;QAEAC,QAFA;QAGAC,SAHA;QAIAC,gBAJA;QAKAC;MALA;IAxBA;EAAA,CAXA;EA4CAE;IACAC,SADA,uBACA;MACA;IACA;EAHA,CA5CA;EAkDAC;IACAnB,MADA,kBACAoB,GADA,EACA;MACA;IACA,CAHA;IAIAnB,YAJA,wBAIAmB,GAJA,EAIA;MACA;IACA;EANA,CAlDA;EA2DAC,OA3DA,qBA2DA;IACA;EACA,CA7DA;EA+DAC,OA/DA,qBA+DA;IAAA;;IACA;MACA;MACA;IACA,CAHA;EAIA,CApEA;EAsEAC;IACAC,QADA,oBACAC,IADA,EACA;MACA;MACA;MACA;IACA,CALA;IAOAC,UAPA,sBAOAD,IAPA,EAOA;MACA;MACA;MACA;IACA,CAXA;IAaAE,iBAbA,+BAaA;MACA;MACA;IACA,CAhBA;IAkBAC,KAlBA,mBAkBA;MAAA;;MACA;MACA;QACA;QACA;MACA,CAHA;IAIA,CAxBA;IA0BAC,WA1BA,yBA0BA;MAAA;;MACA;MACA;QACA;QACA;MACA,CAHA;IAIA,CAhCA;IAkCAC,IAlCA,kBAkCA;MACA;QACAC;MACA,CAFA,MAEA;QACA;MACA;;MACA;IACA;EAzCA;AAtEA","names":["components","RoleForm","setup","icons","mdiAccountEdit","data","dialog","dialogDelete","headers","text","align","sortable","value","loading","roles","editedIndex","editedItem","title","name","scope","date_created","actions","defaultItem","computed","formTitle","watch","val","created","mounted","methods","editItem","item","deleteItem","deleteItemConfirm","close","closeDelete","save","Object"],"sourceRoot":"src/views/pages/user-access-management/roles","sources":["RoleListTable.vue"],"sourcesContent":["<template>\n  <v-data-table\n    :headers=\"headers\"\n    :items=\"roles\"\n    sort-by=\"title\"\n    class=\"elevation-1\"\n  >\n    <template v-slot:top>\n      <v-toolbar\n        flat\n      >\n        <v-toolbar-title>Roles</v-toolbar-title>\n        <v-divider\n          class=\"mx-4\"\n          inset\n          vertical\n        ></v-divider>\n        <v-spacer></v-spacer>\n        <v-dialog\n          v-model=\"dialog\"\n          max-width=\"800px\"\n        >\n          <template v-slot:activator=\"{ on, attrs }\">\n          </template>\n          <v-card>\n            <v-card-title>\n              <span class=\"text-h5\">{{ formTitle }}</span>\n            </v-card-title>\n            <v-card-text>\n              <role-form></role-form>\n            </v-card-text>\n          </v-card>\n        </v-dialog>\n        <v-dialog\n          v-model=\"dialogDelete\"\n          max-width=\"500px\"\n        >\n          <v-card>\n            <v-card-title class=\"text-h5\">\n              Are you sure you want to delete this item?\n            </v-card-title>\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn\n                color=\"blue darken-1\"\n                text\n                @click=\"closeDelete\"\n              >\n                Cancel\n              </v-btn>\n              <v-btn\n                color=\"blue darken-1\"\n                text\n                @click=\"deleteItemConfirm\">\n                OK\n              </v-btn>\n              <v-spacer></v-spacer>\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n      </v-toolbar>\n    </template>\n    <template v-slot:item.actions=\"{ item }\">\n      <v-icon\n        small\n        class=\"mr-2\"\n        @click=\"editItem(item)\"\n      >\n        {{ icons.mdiAccountEdit }}\n      </v-icon>\n    </template>\n    <template v-slot:no-data>\n      <v-btn\n        color=\"primary\"\n      >\n        Refresh\n      </v-btn>\n    </template>\n  </v-data-table>\n</template>\n\n<script>\nimport UserAccessManagementService from '@/service/UserAccessManagementService'\nimport { mdiAccountEdit } from '@mdi/js'\nimport RoleForm from '@/views/pages/user-access-management/roles/RoleForm.vue'\n\nexport default {\n  components: {\n    RoleForm,\n  },\n  setup() {\n    return {\n      icons: {\n        mdiAccountEdit,\n      },\n    }\n  },\n  data: () => ({\n    dialog: false,\n    dialogDelete: false,\n    headers: [\n      {\n        text: 'Title',\n        align: 'start',\n        sortable: true,\n        value: 'title',\n      },\n      { text: 'Value', value: 'name' },\n      { text: 'Date Created', value: 'created_at' },\n      { text: 'Actions', value: 'actions', sortable: false },\n    ],\n    loading: false,\n    roles: [],\n    editedIndex: -1,\n    editedItem: {\n      title: '',\n      name: '',\n      scope: '',\n      date_created: '',\n      actions: '',\n    },\n    defaultItem: {\n      title: '',\n      name: '',\n      scope: '',\n      date_created: '',\n      actions: '',\n    },\n  }),\n\n  computed: {\n    formTitle() {\n      return this.editedIndex === -1 ? 'New Role' : 'Edit Role'\n    },\n  },\n\n  watch: {\n    dialog(val) {\n      return val || this.close()\n    },\n    dialogDelete(val) {\n      return val || this.closeDelete()\n    },\n  },\n\n  created() {\n    this.service = new UserAccessManagementService()\n  },\n\n  mounted() {\n    this.service.getRoles().then(response => {\n      this.loading1 = false\n      this.roles = response.data\n    })\n  },\n\n  methods: {\n    editItem(item) {\n      this.editedIndex = this.roles.indexOf(item)\n      this.editedItem = { ...item }\n      this.dialog = true\n    },\n\n    deleteItem(item) {\n      this.editedIndex = this.roles.indexOf(item)\n      this.editedItem = { ...item }\n      this.dialogDelete = true\n    },\n\n    deleteItemConfirm() {\n      this.roles.splice(this.editedIndex, 1)\n      this.closeDelete()\n    },\n\n    close() {\n      this.dialog = false\n      this.$nextTick(() => {\n        this.editedItem = { ...this.defaultItem }\n        this.editedIndex = -1\n      })\n    },\n\n    closeDelete() {\n      this.dialogDelete = false\n      this.$nextTick(() => {\n        this.editedItem = { ...this.defaultItem }\n        this.editedIndex = -1\n      })\n    },\n\n    save() {\n      if (this.editedIndex > -1) {\n        Object.assign(this.roles[this.editedIndex], this.editedItem)\n      } else {\n        this.roles.push(this.editedItem)\n      }\n      this.close()\n    },\n  },\n}\n</script>\n"]}]}