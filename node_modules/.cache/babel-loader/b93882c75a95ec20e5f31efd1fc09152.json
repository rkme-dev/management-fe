{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/thread-loader/dist/cjs.js!/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js!/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/projects/enco-fe/src/views/pages/user-access-management/abilities/AbilityListTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/views/pages/user-access-management/abilities/AbilityListTable.vue","mtime":1661256601249},{"path":"/Users/mark/projects/enco-fe/babel.config.js","mtime":1655991784146},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/thread-loader/dist/cjs.js","mtime":1650363913040},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1652172763063},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js","mtime":1650363919730}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL21hcmsvcHJvamVjdHMvZW5jby1mZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1kaUFjY291bnRFZGl0LCBtZGlEZWxldGVDaXJjbGUsIG1kaUV5ZUNpcmNsZSwgbWRpTWFnbmlmeSB9IGZyb20gJ0BtZGkvanMnOwppbXBvcnQgQWJpbGl0eUZvcm0gZnJvbSAnQC92aWV3cy9wYWdlcy91c2VyLWFjY2Vzcy1tYW5hZ2VtZW50L2FiaWxpdGllcy9BYmlsaXR5Rm9ybS52dWUnOwppbXBvcnQgeyByZWYgfSBmcm9tICdAdnVlL2NvbXBvc2l0aW9uLWFwaSc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBBYmlsaXR5Rm9ybTogQWJpbGl0eUZvcm0KICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHZhciBzZWFyY2ggPSByZWYoKTsKICAgIHJldHVybiB7CiAgICAgIGljb25zOiB7CiAgICAgICAgbWRpQWNjb3VudEVkaXQ6IG1kaUFjY291bnRFZGl0LAogICAgICAgIG1kaURlbGV0ZUNpcmNsZTogbWRpRGVsZXRlQ2lyY2xlLAogICAgICAgIG1kaUV5ZUNpcmNsZTogbWRpRXllQ2lyY2xlLAogICAgICAgIG1kaU1hZ25pZnk6IG1kaU1hZ25pZnkKICAgICAgfSwKICAgICAgc2VhcmNoOiBzZWFyY2gKICAgIH07CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGlhbG9nOiBmYWxzZSwKICAgICAgZGlhbG9nRGVsZXRlOiBmYWxzZSwKICAgICAgaGVhZGVyczogW3sKICAgICAgICB0ZXh0OiAnVGl0bGUnLAogICAgICAgIGFsaWduOiAnc3RhcnQnLAogICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgIHZhbHVlOiAndGl0bGUnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAnTW9kdWxlJywKICAgICAgICB2YWx1ZTogJ21vZHVsZScKICAgICAgfSwgewogICAgICAgIHRleHQ6ICdBY3Rpb24nLAogICAgICAgIHZhbHVlOiAnYWN0aW9uJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ1ZhbHVlJywKICAgICAgICB2YWx1ZTogJ25hbWUnCiAgICAgIH1dLAogICAgICBlZGl0ZWRJbmRleDogLTEsCiAgICAgIGVkaXRlZEl0ZW06IHsKICAgICAgICBpZDogMCwKICAgICAgICB0aXRsZTogJycsCiAgICAgICAgbmFtZTogJycsCiAgICAgICAgYWN0aW9uOiAnJywKICAgICAgICBtb2R1bGU6ICcnLAogICAgICAgIGlzX2Rpc2FibGVkOiBmYWxzZQogICAgICB9LAogICAgICBkZWZhdWx0SXRlbTogewogICAgICAgIGlkOiAwLAogICAgICAgIHRpdGxlOiAnJywKICAgICAgICBuYW1lOiAnJywKICAgICAgICBhY3Rpb246ICcnLAogICAgICAgIG1vZHVsZTogJycsCiAgICAgICAgaXNfZGlzYWJsZWQ6IGZhbHNlCiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgZm9ybVRpdGxlOiBmdW5jdGlvbiBmb3JtVGl0bGUoKSB7CiAgICAgIHJldHVybiB0aGlzLmVkaXRlZEluZGV4ID09PSAtMSA/ICdOZXcgQWJpbGl0eScgOiAnRWRpdCBBYmlsaXR5JzsKICAgIH0sCiAgICBhYmlsaXRpZXM6IGZ1bmN0aW9uIGFiaWxpdGllcygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLlVzZXJBY2Nlc3NNYW5hZ2VtZW50U3RvcmUuYWJpbGl0aWVzOwogICAgfSwKICAgIGxvYWRpbmc6IGZ1bmN0aW9uIGxvYWRpbmcoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5Vc2VyQWNjZXNzTWFuYWdlbWVudFN0b3JlLmxvYWRpbmc7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgZGlhbG9nOiBmdW5jdGlvbiBkaWFsb2codmFsKSB7CiAgICAgIHJldHVybiB2YWwgfHwgdGhpcy5jbG9zZSgpOwogICAgfSwKICAgIGRpYWxvZ0RlbGV0ZTogZnVuY3Rpb24gZGlhbG9nRGVsZXRlKHZhbCkgewogICAgICByZXR1cm4gdmFsIHx8IHRoaXMuY2xvc2VEZWxldGUoKTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnVXNlckFjY2Vzc01hbmFnZW1lbnRTdG9yZS9nZXRBYmlsaXRpZXMnKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGVkaXRJdGVtOiBmdW5jdGlvbiBlZGl0SXRlbShpdGVtKSB7CiAgICAgIHRoaXMuZWRpdGVkSW5kZXggPSB0aGlzLmFiaWxpdGllcy5pbmRleE9mKGl0ZW0pOwogICAgICB0aGlzLmVkaXRlZEl0ZW0gPSBfb2JqZWN0U3ByZWFkKHt9LCBpdGVtKTsKICAgICAgdGhpcy5kaWFsb2cgPSB0cnVlOwogICAgfSwKICAgIGRlbGV0ZUl0ZW06IGZ1bmN0aW9uIGRlbGV0ZUl0ZW0oaXRlbSkgewogICAgICB0aGlzLmVkaXRlZEluZGV4ID0gdGhpcy5hYmlsaXRpZXMuaW5kZXhPZihpdGVtKTsKICAgICAgdGhpcy5lZGl0ZWRJdGVtID0gX29iamVjdFNwcmVhZCh7fSwgaXRlbSk7CiAgICAgIHRoaXMuZGlhbG9nRGVsZXRlID0gdHJ1ZTsKICAgIH0sCiAgICBkZWxldGVJdGVtQ29uZmlybTogZnVuY3Rpb24gZGVsZXRlSXRlbUNvbmZpcm0oKSB7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdVc2VyQWNjZXNzTWFuYWdlbWVudFN0b3JlL2RlbGV0ZUFiaWxpdHknLCB0aGlzLmFiaWxpdGllc1t0aGlzLmVkaXRlZEluZGV4XSk7CiAgICAgIHRoaXMuYWJpbGl0aWVzLnNwbGljZSh0aGlzLmVkaXRlZEluZGV4LCAxKTsKICAgICAgdGhpcy5jbG9zZURlbGV0ZSgpOwogICAgfSwKICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuZGlhbG9nID0gZmFsc2U7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5lZGl0ZWRJdGVtID0gX29iamVjdFNwcmVhZCh7fSwgX3RoaXMuZGVmYXVsdEl0ZW0pOwogICAgICAgIF90aGlzLmVkaXRlZEluZGV4ID0gLTE7CiAgICAgIH0pOwogICAgfSwKICAgIGNsb3NlRGVsZXRlOiBmdW5jdGlvbiBjbG9zZURlbGV0ZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLmRpYWxvZ0RlbGV0ZSA9IGZhbHNlOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLmVkaXRlZEl0ZW0gPSBfb2JqZWN0U3ByZWFkKHt9LCBfdGhpczIuZGVmYXVsdEl0ZW0pOwogICAgICAgIF90aGlzMi5lZGl0ZWRJbmRleCA9IC0xOwogICAgICB9KTsKICAgIH0sCiAgICBzYXZlOiBmdW5jdGlvbiBzYXZlKCkgewogICAgICBpZiAodGhpcy5lZGl0ZWRJbmRleCA+IC0xKSB7CiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmFiaWxpdGllc1t0aGlzLmVkaXRlZEluZGV4XSwgdGhpcy5lZGl0ZWRJdGVtKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmFiaWxpdGllcy5wdXNoKHRoaXMuZWRpdGVkSXRlbSk7CiAgICAgIH0KCiAgICAgIHRoaXMuY2xvc2UoKTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+GA,SACAA,cADA,EAEAC,eAFA,EAGAC,YAHA,EAIAC,UAJA,QAKA,SALA;AAMA;AACA;AAEA;EACAC;IACAC;EADA,CADA;EAIAC,KAJA,mBAIA;IACA;IAEA;MACAC;QACAP,8BADA;QAEAC,gCAFA;QAGAC,0BAHA;QAIAC;MAJA,CADA;MAOAK;IAPA;EASA,CAhBA;EAiBAC;IAAA;MACAC,aADA;MAEAC,mBAFA;MAGAC,UACA;QACAC,aADA;QAEAC,cAFA;QAGAC,cAHA;QAIAC;MAJA,CADA,EAOA;QAAAH;QAAAG;MAAA,CAPA,EAQA;QAAAH;QAAAG;MAAA,CARA,EASA;QAAAH;QAAAG;MAAA,CATA,CAHA;MAcAC,eAdA;MAeAC;QACAC,KADA;QAEAC,SAFA;QAGAC,QAHA;QAIAC,UAJA;QAKAC,UALA;QAMAC;MANA,CAfA;MAuBAC;QACAN,KADA;QAEAC,SAFA;QAGAC,QAHA;QAIAC,UAJA;QAKAC,UALA;QAMAC;MANA;IAvBA;EAAA,CAjBA;EAkDAE;IACAC,SADA,uBACA;MACA;IACA,CAHA;IAIAC,SAJA,uBAIA;MACA;IACA,CANA;IAOAC,OAPA,qBAOA;MACA;IACA;EATA,CAlDA;EA8DAC;IACApB,MADA,kBACAqB,GADA,EACA;MACA;IACA,CAHA;IAIApB,YAJA,wBAIAoB,GAJA,EAIA;MACA;IACA;EANA,CA9DA;EAsEAC,OAtEA,qBAsEA;IACA;EACA,CAxEA;EA0EAC;IACAC,QADA,oBACAC,IADA,EACA;MACA;MACA;MACA;IACA,CALA;IAOAC,UAPA,sBAOAD,IAPA,EAOA;MACA;MACA;MACA;IACA,CAXA;IAaAE,iBAbA,+BAaA;MACA;MACA;MACA;IACA,CAjBA;IAmBAC,KAnBA,mBAmBA;MAAA;;MACA;MACA;QACA;QACA;MACA,CAHA;IAIA,CAzBA;IA2BAC,WA3BA,yBA2BA;MAAA;;MACA;MACA;QACA;QACA;MACA,CAHA;IAIA,CAjCA;IAmCAC,IAnCA,kBAmCA;MACA;QACAC;MACA,CAFA,MAEA;QACA;MACA;;MACA;IACA;EA1CA;AA1EA","names":["mdiAccountEdit","mdiDeleteCircle","mdiEyeCircle","mdiMagnify","components","AbilityForm","setup","icons","search","data","dialog","dialogDelete","headers","text","align","sortable","value","editedIndex","editedItem","id","title","name","action","module","is_disabled","defaultItem","computed","formTitle","abilities","loading","watch","val","created","methods","editItem","item","deleteItem","deleteItemConfirm","close","closeDelete","save","Object"],"sourceRoot":"src/views/pages/user-access-management/abilities","sources":["AbilityListTable.vue"],"sourcesContent":["<template>\n  <v-data-table\n    :headers=\"headers\"\n    :items=\"abilities\"\n    :search=\"search\"\n    sort-by=\"title\"\n    class=\"elevation-1\"\n    fixed-header\n    :loading=\"loading\"\n  >\n    <template v-slot:top>\n      <v-toolbar\n        flat\n      >\n        <v-toolbar\n          flat\n        >\n          <v-col\n            cols=\"12\"\n            offset-md=\"12\"\n            md=\"2\"\n          >\n            <v-toolbar-title>Abilities</v-toolbar-title>\n          </v-col>\n          <v-divider\n            class=\"mx-4\"\n            inset\n            vertical\n          ></v-divider>\n          <v-card-text>\n            <v-row>\n              <v-col\n                cols=\"8\"\n                offset-md=\"8\"\n                md=\"4\"\n              >\n                <v-text-field\n                  v-model=\"search\"\n                  :append-icon=\"icons.mdiMagnify\"\n                  label=\"Search\"\n                  single-line\n                  hide-details\n                ></v-text-field>\n              </v-col>\n            </v-row>\n          </v-card-text>\n          <v-dialog\n            v-model=\"dialog\"\n            max-width=\"500px\"\n          >\n            <template v-slot:activator=\"{ on, attrs }\">\n            </template>\n            <v-card>\n              <v-card-title>\n                <span class=\"headline\">{{ formTitle }}</span>\n              </v-card-title>\n\n              <v-card-text>\n                <ability-form\n                  :id-prop=\"editedItem.id\"\n                  :action-prop=\"editedItem.action\"\n                  :module-prop=\"editedItem.module\"\n                  :is-disabled-prop=\"editedItem.is_disabled\"\n                  :title-prop=\"editedItem.title\"\n                  @closeForm=\"close()\"\n                ></ability-form>\n              </v-card-text>\n            </v-card>\n          </v-dialog>\n          <v-dialog\n            v-model=\"dialogDelete\"\n            max-width=\"500px\"\n          >\n            <v-card>\n              <v-card-title>\n                Are you sure you want to delete this item?\n              </v-card-title>\n              <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn\n                  color=\"error\"\n                  text\n                  @click=\"closeDelete\"\n                >\n                  Cancel\n                </v-btn>\n                <v-btn\n                  color=\"success\"\n                  text\n                  @click=\"deleteItemConfirm\"\n                >\n                  OK\n                </v-btn>\n                <v-spacer></v-spacer>\n              </v-card-actions>\n            </v-card>\n          </v-dialog>\n        </v-toolbar>\n      </v-toolbar>\n    </template>\n    <template v-slot:no-data>\n      <v-btn\n        color=\"primary\"\n      >\n        Refresh\n      </v-btn>\n    </template>\n  </v-data-table>\n</template>\n\n<script>\nimport {\n  mdiAccountEdit,\n  mdiDeleteCircle,\n  mdiEyeCircle,\n  mdiMagnify,\n} from '@mdi/js'\nimport AbilityForm from '@/views/pages/user-access-management/abilities/AbilityForm.vue'\nimport { ref } from '@vue/composition-api'\n\nexport default {\n  components: {\n    AbilityForm,\n  },\n  setup() {\n    const search = ref()\n\n    return {\n      icons: {\n        mdiAccountEdit,\n        mdiDeleteCircle,\n        mdiEyeCircle,\n        mdiMagnify,\n      },\n      search,\n    }\n  },\n  data: () => ({\n    dialog: false,\n    dialogDelete: false,\n    headers: [\n      {\n        text: 'Title',\n        align: 'start',\n        sortable: true,\n        value: 'title',\n      },\n      { text: 'Module', value: 'module' },\n      { text: 'Action', value: 'action' },\n      { text: 'Value', value: 'name' },\n    ],\n    editedIndex: -1,\n    editedItem: {\n      id: 0,\n      title: '',\n      name: '',\n      action: '',\n      module: '',\n      is_disabled: false,\n    },\n    defaultItem: {\n      id: 0,\n      title: '',\n      name: '',\n      action: '',\n      module: '',\n      is_disabled: false,\n    },\n  }),\n\n  computed: {\n    formTitle() {\n      return this.editedIndex === -1 ? 'New Ability' : 'Edit Ability'\n    },\n    abilities() {\n      return this.$store.state.UserAccessManagementStore.abilities\n    },\n    loading() {\n      return this.$store.state.UserAccessManagementStore.loading\n    },\n  },\n\n  watch: {\n    dialog(val) {\n      return val || this.close()\n    },\n    dialogDelete(val) {\n      return val || this.closeDelete()\n    },\n  },\n  created() {\n    this.$store.dispatch('UserAccessManagementStore/getAbilities')\n  },\n\n  methods: {\n    editItem(item) {\n      this.editedIndex = this.abilities.indexOf(item)\n      this.editedItem = { ...item }\n      this.dialog = true\n    },\n\n    deleteItem(item) {\n      this.editedIndex = this.abilities.indexOf(item)\n      this.editedItem = { ...item }\n      this.dialogDelete = true\n    },\n\n    deleteItemConfirm() {\n      this.$store.dispatch('UserAccessManagementStore/deleteAbility', this.abilities[this.editedIndex])\n      this.abilities.splice(this.editedIndex, 1)\n      this.closeDelete()\n    },\n\n    close() {\n      this.dialog = false\n      this.$nextTick(() => {\n        this.editedItem = { ...this.defaultItem }\n        this.editedIndex = -1\n      })\n    },\n\n    closeDelete() {\n      this.dialogDelete = false\n      this.$nextTick(() => {\n        this.editedItem = { ...this.defaultItem }\n        this.editedIndex = -1\n      })\n    },\n\n    save() {\n      if (this.editedIndex > -1) {\n        Object.assign(this.abilities[this.editedIndex], this.editedItem)\n      } else {\n        this.abilities.push(this.editedItem)\n      }\n      this.close()\n    },\n  },\n}\n</script>\n"]}]}