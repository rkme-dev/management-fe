{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js!/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/projects/enco-fe/src/views/pages/sales-orders/SaleOrderItems.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/views/pages/sales-orders/SaleOrderItems.vue","mtime":1663501516062},{"path":"/Users/mark/projects/enco-fe/babel.config.js","mtime":1655991784146},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1662812531113},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1662812531040},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1662812531113},{"path":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js","mtime":1662812546066}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtZGlBY2NvdW50RWRpdCwgbWRpRGVsZXRlQ2lyY2xlLCBtZGlJbmZvcm1hdGlvbiwgbWRpVGV4dEJveFBsdXMgfSBmcm9tICdAbWRpL2pzJzsKaW1wb3J0IHsgY29tcHV0ZWQsIHJlZiwgdG9SZWYsIHdhdGNoIH0gZnJvbSAnQHZ1ZS9jb21wb3NpdGlvbi1hcGknOwppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnU2FsZU9yZGVySXRlbXMnLAogIHByb3BzOiB7CiAgICBtb2RlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gJ0NyZWF0ZSc7CiAgICAgIH0KICAgIH0sCiAgICBpdGVtczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9CiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAocHJvcHMsIF9yZWYpIHsKICAgIHZhciBlbWl0ID0gX3JlZi5lbWl0OwogICAgc3RvcmUuZGlzcGF0Y2goJ1Byb2R1Y3RTdG9yZS9saXN0Jyk7CiAgICB2YXIgbW9kZURhdGEgPSB0b1JlZihwcm9wcywgJ21vZGUnKTsKICAgIHZhciBpdGVtRm9ybU1vZGFsID0gcmVmKGZhbHNlKTsKICAgIHZhciBmb3JtRGF0YSA9IHJlZih7fSk7CiAgICB2YXIgZm9ybVRpdGxlID0gcmVmKCdBZGQgSXRlbScpOwogICAgdmFyIG9yZGVySXRlbXMgPSByZWYoW10pOwogICAgdmFyIHByb2R1Y3RzID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gc3RvcmUuc3RhdGUuUHJvZHVjdFN0b3JlLmxpc3Q7CiAgICB9KTsKICAgIHZhciBjdXJyZW50SXRlbSA9IHJlZih7CiAgICAgIHByb2R1Y3RfaWQ6IG51bGwsCiAgICAgIHF1YW50aXR5OiBudWxsLAogICAgICBwcmljZTogbnVsbCwKICAgICAgdG90YWxfYW1vdW50OiAwLAogICAgICB1bml0OiBudWxsLAogICAgICBuYW1lOiBudWxsLAogICAgICBza3U6IG51bGwsCiAgICAgIHNsdWc6IG51bGwKICAgIH0pOwogICAgdmFyIHByb2R1Y3QgPSByZWYoewogICAgICBuYW1lOiBudWxsLAogICAgICBzbHVnOiBudWxsLAogICAgICBza3U6IG51bGwKICAgIH0pOwogICAgdmFyIHRvdGFsQW1vdW50ID0gcmVmKDApOwoKICAgIGlmIChtb2RlRGF0YS52YWx1ZSA9PT0gJ0VkaXQnKSB7CiAgICAgIG9yZGVySXRlbXMudmFsdWUgPSB0b1JlZihwcm9wcywgJ2l0ZW1zJyk7CiAgICB9CgogICAgd2F0Y2goY3VycmVudEl0ZW0udmFsdWUsIGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKGN1cnJlbnRJdGVtLnZhbHVlLnByb2R1Y3RfaWQpIHsKICAgICAgICB2YXIgcHJvZHVjdFJhdyA9IHByb2R1Y3RzLnZhbHVlLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiBpdGVtLmlkID09PSBjdXJyZW50SXRlbS52YWx1ZS5wcm9kdWN0X2lkOwogICAgICAgIH0pOwogICAgICAgIHByb2R1Y3QudmFsdWUubmFtZSA9IHByb2R1Y3RSYXcubmFtZTsKICAgICAgICBwcm9kdWN0LnZhbHVlLnNsdWcgPSBwcm9kdWN0UmF3LnNsdWc7CiAgICAgICAgcHJvZHVjdC52YWx1ZS5za3UgPSBwcm9kdWN0UmF3LnNrdTsKICAgICAgfQoKICAgICAgaWYgKGN1cnJlbnRJdGVtLnZhbHVlLnF1YW50aXR5ICYmIGN1cnJlbnRJdGVtLnZhbHVlLnByaWNlKSB7CiAgICAgICAgdG90YWxBbW91bnQudmFsdWUgPSBwYXJzZUZsb2F0KGN1cnJlbnRJdGVtLnZhbHVlLnF1YW50aXR5ICogY3VycmVudEl0ZW0udmFsdWUucHJpY2UpOwogICAgICB9IGVsc2UgewogICAgICAgIHRvdGFsQW1vdW50LnZhbHVlID0gMDsKICAgICAgfQogICAgfSk7CiAgICB3YXRjaCh0b3RhbEFtb3VudCwgZnVuY3Rpb24gKCkgewogICAgICBjdXJyZW50SXRlbS52YWx1ZS50b3RhbF9hbW91bnQgPSB0b3RhbEFtb3VudC52YWx1ZTsKICAgIH0pOwogICAgd2F0Y2gocHJvZHVjdC52YWx1ZSwgZnVuY3Rpb24gKCkgewogICAgICBjdXJyZW50SXRlbS52YWx1ZS5uYW1lID0gcHJvZHVjdC52YWx1ZS5uYW1lOwogICAgICBjdXJyZW50SXRlbS52YWx1ZS5zbHVnID0gcHJvZHVjdC52YWx1ZS5zbHVnOwogICAgICBjdXJyZW50SXRlbS52YWx1ZS5za3UgPSBwcm9kdWN0LnZhbHVlLnNrdTsKICAgIH0pOwogICAgdmFyIHNhbGVzT3JkZXJUb3RhbEFtb3VudCA9IHJlZigwKTsKICAgIHdhdGNoKG9yZGVySXRlbXMsIGZ1bmN0aW9uICgpIHsKICAgICAgb3JkZXJJdGVtcy52YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uIChvcmRlckl0ZW0pIHsKICAgICAgICBzYWxlc09yZGVyVG90YWxBbW91bnQudmFsdWUgPSBwYXJzZUZsb2F0KHNhbGVzT3JkZXJUb3RhbEFtb3VudC52YWx1ZSArIG9yZGVySXRlbS50b3RhbF9hbW91bnQpOwogICAgICB9KTsKCiAgICAgIGlmIChvcmRlckl0ZW1zLnZhbHVlLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHNhbGVzT3JkZXJUb3RhbEFtb3VudC52YWx1ZSA9IDA7CiAgICAgIH0KICAgIH0pOwoKICAgIHZhciBhZGRJdGVtID0gZnVuY3Rpb24gYWRkSXRlbSgpIHsKICAgICAgb3JkZXJJdGVtcy52YWx1ZS5wdXNoKHsKICAgICAgICBwcm9kdWN0X2lkOiBjdXJyZW50SXRlbS52YWx1ZS5wcm9kdWN0X2lkLAogICAgICAgIHF1YW50aXR5OiBjdXJyZW50SXRlbS52YWx1ZS5xdWFudGl0eSwKICAgICAgICBwcmljZTogY3VycmVudEl0ZW0udmFsdWUucHJpY2UsCiAgICAgICAgdG90YWxfYW1vdW50OiBjdXJyZW50SXRlbS52YWx1ZS50b3RhbF9hbW91bnQsCiAgICAgICAgdW5pdDogY3VycmVudEl0ZW0udmFsdWUudW5pdCwKICAgICAgICBuYW1lOiBjdXJyZW50SXRlbS52YWx1ZS5uYW1lLAogICAgICAgIHNrdTogY3VycmVudEl0ZW0udmFsdWUuc2t1LAogICAgICAgIHNsdWc6IGN1cnJlbnRJdGVtLnZhbHVlLnNsdWcKICAgICAgfSk7CiAgICAgIGVtaXQoJ2FkZEl0ZW0nLCBvcmRlckl0ZW1zLnZhbHVlKTsKICAgICAgaXRlbUZvcm1Nb2RhbC52YWx1ZSA9IGZhbHNlOyAvLyBNYW51YWxseSBzZXQgZWFjaCBwcm9wZXJ0eSB0byBudWxsIGFuZCBkb24ndCBhc3NpZ24gYSBjb21wbGV0ZWx5IG5ldyBvYmplY3QgaXQgd2lsbCBydWluIHRoZSB3YXRjaCBjb21wb25lbnQKCiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIGN1cnJlbnRJdGVtLnZhbHVlLnByb2R1Y3RfaWQgPSBudWxsOwogICAgICAgIGN1cnJlbnRJdGVtLnZhbHVlLnF1YW50aXR5ID0gbnVsbDsKICAgICAgICBjdXJyZW50SXRlbS52YWx1ZS5wcmljZSA9IG51bGw7CiAgICAgICAgY3VycmVudEl0ZW0udmFsdWUudW5pdCA9IG51bGw7CiAgICAgICAgY3VycmVudEl0ZW0udmFsdWUudG90YWxfYW1vdW50ID0gMDsKICAgICAgICBwcm9kdWN0LnZhbHVlLm5hbWUgPSBudWxsOwogICAgICAgIHByb2R1Y3QudmFsdWUuc2t1ID0gbnVsbDsKICAgICAgICBwcm9kdWN0LnZhbHVlLnNsdWcgPSBudWxsOwogICAgICB9LCAxMDAwKTsKICAgIH07CgogICAgdmFyIGRlbGV0ZUl0ZW0gPSBmdW5jdGlvbiBkZWxldGVJdGVtKGl0ZW0pIHsKICAgICAgdmFyIGluZGV4ID0gb3JkZXJJdGVtcy52YWx1ZS5maW5kSW5kZXgoZnVuY3Rpb24gKG9yZGVySXRlbSkgewogICAgICAgIHJldHVybiBvcmRlckl0ZW0ucHJvZHVjdF9pZCA9PT0gaXRlbS5wcm9kdWN0X2lkICYmIG9yZGVySXRlbS50b3RhbF9hbW91bnQgPT09IGl0ZW0udG90YWxfYW1vdW50OwogICAgICB9KTsKICAgICAgb3JkZXJJdGVtcy52YWx1ZS5zcGxpY2UoaW5kZXgsIDEpOwogICAgICBlbWl0KCdhZGRJdGVtJywgb3JkZXJJdGVtcy52YWx1ZSk7CiAgICB9OwoKICAgIHZhciBjYW5jZWwgPSBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgIGl0ZW1Gb3JtTW9kYWwudmFsdWUgPSBmYWxzZTsKICAgICAgY3VycmVudEl0ZW0udmFsdWUucHJvZHVjdF9pZCA9IG51bGw7CiAgICAgIGN1cnJlbnRJdGVtLnZhbHVlLnF1YW50aXR5ID0gbnVsbDsKICAgICAgY3VycmVudEl0ZW0udmFsdWUucHJpY2UgPSBudWxsOwogICAgICBjdXJyZW50SXRlbS52YWx1ZS51bml0ID0gbnVsbDsKICAgICAgY3VycmVudEl0ZW0udmFsdWUudG90YWxfYW1vdW50ID0gMDsKICAgICAgcHJvZHVjdC52YWx1ZS5uYW1lID0gbnVsbDsKICAgICAgcHJvZHVjdC52YWx1ZS5za3UgPSBudWxsOwogICAgICBwcm9kdWN0LnZhbHVlLnNsdWcgPSBudWxsOwogICAgfTsKCiAgICByZXR1cm4gewogICAgICBzYWxlc09yZGVyVG90YWxBbW91bnQ6IHNhbGVzT3JkZXJUb3RhbEFtb3VudCwKICAgICAgYWRkSXRlbTogYWRkSXRlbSwKICAgICAgY2FuY2VsOiBjYW5jZWwsCiAgICAgIGZvcm1UaXRsZTogZm9ybVRpdGxlLAogICAgICBjdXJyZW50SXRlbTogY3VycmVudEl0ZW0sCiAgICAgIG9yZGVySXRlbXM6IG9yZGVySXRlbXMsCiAgICAgIGRlbGV0ZUl0ZW06IGRlbGV0ZUl0ZW0sCiAgICAgIGZvcm1EYXRhOiBmb3JtRGF0YSwKICAgICAgaXRlbUZvcm1Nb2RhbDogaXRlbUZvcm1Nb2RhbCwKICAgICAgdG90YWxBbW91bnQ6IHRvdGFsQW1vdW50LAogICAgICBwcm9kdWN0czogcHJvZHVjdHMsCiAgICAgIGhlYWRlcnM6IFt7CiAgICAgICAgdGV4dDogJ0l0ZW0gQ29kZScsCiAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgdmFsdWU6ICdza3UnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAnTmFtZScsCiAgICAgICAgdmFsdWU6ICduYW1lJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ1F1YW50aXR5JywKICAgICAgICB2YWx1ZTogJ3F1YW50aXR5JwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ1VuaXQnLAogICAgICAgIHZhbHVlOiAndW5pdCcKICAgICAgfSwgewogICAgICAgIHRleHQ6ICdQcmljZSAocGllY2UpJywKICAgICAgICB2YWx1ZTogJ3ByaWNlJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ1RvdGFsIEFtb3VudCcsCiAgICAgICAgdmFsdWU6ICd0b3RhbF9hbW91bnQnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAnQWN0aW9ucycsCiAgICAgICAgdmFsdWU6ICdhY3Rpb25zJwogICAgICB9XSwKICAgICAgdXNlckRhdGE6IFt7CiAgICAgICAgaWQ6IDEsCiAgICAgICAgZnVsbF9uYW1lOiAnVGVzdCcsCiAgICAgICAgZW1haWw6ICd0ZXN0QGdtYWlsLmNvbScsCiAgICAgICAgZGF0ZTogJzAyLzAyLzIwMjInLAogICAgICAgIGV4cGVyaWVuY2U6ICd0ZXN0JywKICAgICAgICBhZ2U6IDIzCiAgICAgIH1dLAogICAgICBpY29uczogewogICAgICAgIG1kaUFjY291bnRFZGl0OiBtZGlBY2NvdW50RWRpdCwKICAgICAgICBtZGlEZWxldGVDaXJjbGU6IG1kaURlbGV0ZUNpcmNsZSwKICAgICAgICBtZGlJbmZvcm1hdGlvbjogbWRpSW5mb3JtYXRpb24sCiAgICAgICAgbWRpVGV4dEJveFBsdXM6IG1kaVRleHRCb3hQbHVzCiAgICAgIH0KICAgIH07CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8MA,SACAA,cADA,EAEAC,eAFA,EAGAC,cAHA,EAIAC,cAJA,QAKA,SALA;AAMA;AACA;AAEA;EACAC,sBADA;EAEAC;IACAC;MACAC,YADA;MAEAC,eAFA;MAGAC;QAAA;MAAA;IAHA,CADA;IAMAC;MACAH,WADA;MAEAC,eAFA;MAGAC;IAHA;EANA,CAFA;EAcAE,KAdA,iBAcAN,KAdA,QAcA;IAAA;IACAO;IACA;IACA;IACA;IACA;IACA;IACA;MAAA;IAAA;IACA;MACAC,gBADA;MAEAC,cAFA;MAGAC,WAHA;MAIAC,eAJA;MAKAC,UALA;MAMAb,UANA;MAOAc,SAPA;MAQAC;IARA;IAUA;MACAf,UADA;MAEAe,UAFA;MAGAD;IAHA;IAKA;;IACA;MACAE;IACA;;IAEAC;MACA;QACA;UAAA;QAAA;QACAC;QACAA;QACAA;MACA;;MAEA;QACAC;MACA,CAFA,MAEA;QACAA;MACA;IACA,CAbA;IAeAF;MACAG;IACA,CAFA;IAIAH;MACAG;MACAA;MACAA;IACA,CAJA;IAMA;IAEAH;MACAD;QACAK;MACA,CAFA;;MAIA;QACAA;MACA;IACA,CARA;;IAUA;MACAL;QACAP,wCADA;QAEAC,oCAFA;QAGAC,8BAHA;QAIAC,4CAJA;QAKAC,4BALA;QAMAb,4BANA;QAOAc,0BAPA;QAQAC;MARA;MAWAO;MAEAC,4BAdA,CAgBA;;MACAC;QACAJ;QACAA;QACAA;QACAA;QACAA;QACAF;QACAA;QACAA;MACA,CATA,EASA,IATA;IAUA,CA3BA;;IA6BA;MACA;QAAA;MAAA;MACAF;MACAM;IACA,CAJA;;IAMA;MACAC;MACAH;MACAA;MACAA;MACAA;MACAA;MACAF;MACAA;MACAA;IACA,CAVA;;IAYA;MACAG,4CADA;MAEAI,gBAFA;MAGAC,cAHA;MAIAC,oBAJA;MAKAP,wBALA;MAMAJ,sBANA;MAOAY,sBAPA;MAQAC,kBARA;MASAN,4BATA;MAUAJ,wBAVA;MAWAW,kBAXA;MAYAC,UACA;QAAAC;QAAAC;QAAAC;MAAA,CADA,EAEA;QAAAF;QAAAE;MAAA,CAFA,EAGA;QAAAF;QAAAE;MAAA,CAHA,EAIA;QAAAF;QAAAE;MAAA,CAJA,EAKA;QAAAF;QAAAE;MAAA,CALA,EAMA;QAAAF;QAAAE;MAAA,CANA,EAOA;QAAAF;QAAAE;MAAA,CAPA,CAZA;MAqBAC,WACA;QACAC,KADA;QAEAC,iBAFA;QAGAC,uBAHA;QAIAC,kBAJA;QAKAC,kBALA;QAMAC;MANA,CADA,CArBA;MA+BAC;QACA9C,8BADA;QAEAC,gCAFA;QAGAC,8BAHA;QAIAC;MAJA;IA/BA;EAsCA;AApKA","names":["mdiAccountEdit","mdiDeleteCircle","mdiInformation","mdiTextBoxPlus","name","props","mode","type","required","default","items","setup","store","product_id","quantity","price","total_amount","unit","sku","slug","orderItems","watch","product","totalAmount","currentItem","salesOrderTotalAmount","emit","itemFormModal","setTimeout","addItem","cancel","formTitle","deleteItem","formData","products","headers","text","sortable","value","userData","id","full_name","email","date","experience","age","icons"],"sourceRoot":"src/views/pages/sales-orders","sources":["SaleOrderItems.vue"],"sourcesContent":["<template>\n  <v-row class=\"mt-10\">\n    <v-col cols=\"12\">\n      <v-alert\n        color=\"success\"\n        text\n        style=\"margin-bottom: -30px\"\n      >\n        <div class=\"d-flex align-start\">\n          <v-icon color=\"success\">\n            {{ icons.mdiInformation }}\n          </v-icon>\n          <div class=\"ms-3\">\n            <p class=\"text-base font-weight-medium mb-1\">\n              Sales Order Items\n            </p>\n          </div>\n        </div>\n      </v-alert>\n    </v-col>\n    <v-col\n      class=\"pa-16\"\n      cols=\"12\"\n    >\n      <v-data-table\n        :headers=\"headers\"\n        :items=\"orderItems\"\n        :items-per-page=\"5\"\n      >\n        <template v-slot:top>\n          <v-toolbar\n            color=\"primary\"\n            flat\n          >\n            <v-card-text>\n              <v-row>\n                <v-col\n                  class=\"mt-4\"\n                  cols=\"4\"\n                >\n                  <v-currency-field\n                    v-model=\"salesOrderTotalAmount\"\n                    outlined\n                    class=\"text-green\"\n                    disabled\n                    dense\n                    hide-details=\"auto\"\n                    label=\"Sales Order Total Amount\"\n                  ></v-currency-field>\n                </v-col>\n                <v-col\n                  cols=\"4\"\n                  offset-md=\"4\"\n                >\n                </v-col>\n              </v-row>\n            </v-card-text>\n            <v-dialog\n              v-model=\"itemFormModal\"\n              width=\"1200px\"\n              height=\"500px\"\n            >\n              <template v-slot:activator=\"{ on, attrs }\">\n                <v-btn\n                  elevation=\"10\"\n                  color=\"success\"\n                  dark\n                  class=\"mb-2\"\n                  v-bind=\"attrs\"\n                  v-on=\"on\"\n                >\n                  Add Item\n                </v-btn>\n              </template>\n              <v-card>\n                <v-card-title>\n                  <span class=\"headline\">{{ formTitle }}</span>\n                </v-card-title>\n                <v-card-text>\n                  <v-form>\n                    <v-row>\n                      <v-col cols=\"12\">\n                        <v-alert\n                          color=\"primary\"\n                          text\n                          style=\"margin-bottom: -10px\"\n                        >\n                          <div class=\"d-flex align-start\">\n                            <v-icon color=\"primary\">\n                              {{ icons.mdiTextBoxPlus }}\n                            </v-icon>\n                            <div class=\"ms-3\">\n                              <p class=\"text-base font-weight-medium mb-1\">\n                                Item\n                              </p>\n                            </div>\n                          </div>\n                        </v-alert>\n                      </v-col>\n                      <v-col\n                        cols=\"auto\"\n                      >\n                        <v-select\n                          v-model=\"currentItem.product_id\"\n                          :items=\"products\"\n                          item-text=\"name\"\n                          item-value=\"id\"\n                          label=\"Item\"\n                        >\n                        </v-select>\n                      </v-col>\n                      <v-col\n                        cols=\"auto\"\n                      >\n                        <v-text-field\n                          v-model=\"currentItem.unit\"\n                          outlined\n                          dense\n                          hide-details=\"auto\"\n                          label=\"Unit\"\n                        ></v-text-field>\n                      </v-col>\n                      <v-col\n                        cols=\"auto\"\n                      >\n                        <v-text-field\n                          v-model=\"currentItem.quantity\"\n                          outlined\n                          dense\n                          type=\"number\"\n                          hide-details=\"auto\"\n                          label=\"Quantity\"\n                        ></v-text-field>\n                      </v-col>\n                      <v-col\n                        cols=\"auto\"\n                      >\n                        <v-currency-field\n                          v-model=\"currentItem.price\"\n                          outlined\n                          dense\n                          class=\"text-green\"\n                          hide-details=\"auto\"\n                          label=\"Price\"\n                        ></v-currency-field>\n                      </v-col>\n                      <v-col\n                        cols=\"auto\"\n                      >\n                        <v-currency-field\n                          v-model=\"currentItem.total_amount\"\n                          disabled\n                          outlined\n                          class=\"text-green\"\n                          dense\n                          hide-details=\"auto\"\n                          label=\"Total Amount\"\n                        ></v-currency-field>\n                      </v-col>\n                      <v-col\n                        cols=\"12\"\n                        class=\"d-flex\"\n                      >\n                        <v-btn\n                          v-if=\"currentItem.quantity && currentItem.price && currentItem.product_id\"\n                          color=\"primary\"\n                          class=\"me-3 mt-4\"\n                          @click=\"addItem\"\n                        >\n                          Submit\n                        </v-btn>\n                        <v-btn\n                          outlined\n                          class=\"me-3 mt-4\"\n                          type=\"reset\"\n                          @click.prevent=\"cancel\"\n                        >\n                          Cancel\n                        </v-btn>\n                      </v-col>\n                    </v-row>\n                  </v-form>\n                </v-card-text>\n              </v-card>\n            </v-dialog>\n          </v-toolbar>\n        </template>\n        <template #[`item.total_amount`]=\"{item}\">\n          <div class=\"d-flex justify-center text-green text--primary\">\n            <span class=\"text-green\">{{ item.total_amount }}</span>\n          </div>\n        </template>\n        <template v-slot:item.actions=\"{ item }\">\n          <v-icon\n            small\n            @click=\"deleteItem(item)\"\n          >\n            {{ icons.mdiDeleteCircle }}\n          </v-icon>\n        </template>\n      </v-data-table>\n    </v-col>\n  </v-row>\n</template>\n\n<script>\nimport {\n  mdiAccountEdit,\n  mdiDeleteCircle,\n  mdiInformation,\n  mdiTextBoxPlus,\n} from '@mdi/js'\nimport { computed, ref, toRef, watch } from '@vue/composition-api'\nimport store from '@/store'\n\nexport default {\n  name: 'SaleOrderItems',\n  props: {\n    mode: {\n      type: String,\n      required: false,\n      default: (() => 'Create'),\n    },\n    items: {\n      type: Array,\n      required: false,\n      default: null,\n    },\n  },\n  setup(props, { emit }) {\n    store.dispatch('ProductStore/list')\n    const modeData = toRef(props, 'mode')\n    const itemFormModal = ref(false)\n    const formData = ref({})\n    const formTitle = ref('Add Item')\n    const orderItems = ref([])\n    const products = computed(() => store.state.ProductStore.list)\n    const currentItem = ref({\n      product_id: null,\n      quantity: null,\n      price: null,\n      total_amount: 0,\n      unit: null,\n      name: null,\n      sku: null,\n      slug: null,\n    })\n    const product = ref({\n      name: null,\n      slug: null,\n      sku: null,\n    })\n    const totalAmount = ref(0)\n    if (modeData.value === 'Edit') {\n      orderItems.value = toRef(props, 'items')\n    }\n\n    watch(currentItem.value, () => {\n      if (currentItem.value.product_id) {\n        const productRaw = products.value.find(item => item.id === currentItem.value.product_id)\n        product.value.name = productRaw.name\n        product.value.slug = productRaw.slug\n        product.value.sku = productRaw.sku\n      }\n\n      if (currentItem.value.quantity && currentItem.value.price) {\n        totalAmount.value = parseFloat(currentItem.value.quantity * currentItem.value.price)\n      } else {\n        totalAmount.value = 0\n      }\n    })\n\n    watch(totalAmount, () => {\n      currentItem.value.total_amount = totalAmount.value\n    })\n\n    watch(product.value, () => {\n      currentItem.value.name = product.value.name\n      currentItem.value.slug = product.value.slug\n      currentItem.value.sku = product.value.sku\n    })\n\n    const salesOrderTotalAmount = ref(0)\n\n    watch(orderItems, () => {\n      orderItems.value.forEach(orderItem => {\n        salesOrderTotalAmount.value = parseFloat(salesOrderTotalAmount.value + orderItem.total_amount)\n      })\n\n      if (orderItems.value.length === 0) {\n        salesOrderTotalAmount.value = 0\n      }\n    })\n\n    const addItem = () => {\n      orderItems.value.push({\n        product_id: currentItem.value.product_id,\n        quantity: currentItem.value.quantity,\n        price: currentItem.value.price,\n        total_amount: currentItem.value.total_amount,\n        unit: currentItem.value.unit,\n        name: currentItem.value.name,\n        sku: currentItem.value.sku,\n        slug: currentItem.value.slug,\n      })\n\n      emit('addItem', orderItems.value)\n\n      itemFormModal.value = false\n\n      // Manually set each property to null and don't assign a completely new object it will ruin the watch component\n      setTimeout(() => {\n        currentItem.value.product_id = null\n        currentItem.value.quantity = null\n        currentItem.value.price = null\n        currentItem.value.unit = null\n        currentItem.value.total_amount = 0\n        product.value.name = null\n        product.value.sku = null\n        product.value.slug = null\n      }, 1000)\n    }\n\n    const deleteItem = item => {\n      const index = orderItems.value.findIndex(orderItem => (orderItem.product_id === item.product_id && orderItem.total_amount === item.total_amount))\n      orderItems.value.splice(index, 1)\n      emit('addItem', orderItems.value)\n    }\n\n    const cancel = () => {\n      itemFormModal.value = false\n      currentItem.value.product_id = null\n      currentItem.value.quantity = null\n      currentItem.value.price = null\n      currentItem.value.unit = null\n      currentItem.value.total_amount = 0\n      product.value.name = null\n      product.value.sku = null\n      product.value.slug = null\n    }\n\n    return {\n      salesOrderTotalAmount,\n      addItem,\n      cancel,\n      formTitle,\n      currentItem,\n      orderItems,\n      deleteItem,\n      formData,\n      itemFormModal,\n      totalAmount,\n      products,\n      headers: [\n        { text: 'Item Code', sortable: true, value: 'sku' },\n        { text: 'Name', value: 'name' },\n        { text: 'Quantity', value: 'quantity' },\n        { text: 'Unit', value: 'unit' },\n        { text: 'Price (piece)', value: 'price' },\n        { text: 'Total Amount', value: 'total_amount' },\n        { text: 'Actions', value: 'actions' },\n      ],\n      userData: [\n        {\n          id: 1,\n          full_name: 'Test',\n          email: 'test@gmail.com',\n          date: '02/02/2022',\n          experience: 'test',\n          age: 23,\n        },\n      ],\n      icons: {\n        mdiAccountEdit,\n        mdiDeleteCircle,\n        mdiInformation,\n        mdiTextBoxPlus,\n      },\n    }\n  },\n}\n</script>\n\n<style>\n.text-green input {\n  color: chartreuse !important;\n}\n</style>\n"]}]}