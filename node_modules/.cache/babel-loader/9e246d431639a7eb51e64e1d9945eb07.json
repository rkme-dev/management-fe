{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js!/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/projects/enco-fe/src/views/pages/master-files/terms/TermForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/views/pages/master-files/terms/TermForm.vue","mtime":1664097431981},{"path":"/Users/mark/projects/enco-fe/babel.config.js","mtime":1655991784146},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1665368576185},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1665368576151},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1665368576185},{"path":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js","mtime":1665368593779}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgdG9SZWYsIGNvbXB1dGVkLCByZWYsIHdhdGNoIH0gZnJvbSAnQHZ1ZS9jb21wb3NpdGlvbi1hcGkvZGlzdC92dWUtY29tcG9zaXRpb24tYXBpJzsKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIG1vZGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIHRlcm06IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0KICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cChwcm9wcywgX3JlZikgewogICAgdmFyIGVtaXQgPSBfcmVmLmVtaXQ7CiAgICB2YXIgdGVybVByb3AgPSB0b1JlZihwcm9wcywgJ3Rlcm0nKTsKICAgIHZhciB0ZXJtRGF0YSA9IHJlZih7CiAgICAgIGNvZGU6IG51bGwsCiAgICAgIGRlc2NyaXB0aW9uOiBudWxsLAogICAgICBkYXlzOiAwLAogICAgICBub3RlczogbnVsbCwKICAgICAgaXNfYWN0aXZlOiB0cnVlCiAgICB9KTsKCiAgICBpZiAocHJvcHMubW9kZSA9PT0gJ2VkaXQnKSB7CiAgICAgIHRlcm1EYXRhLnZhbHVlID0gdGVybVByb3AudmFsdWU7CgogICAgICBpZiAodGVybURhdGEudmFsdWUuaXNfYWN0aXZlID09PSAnSW5hY3RpdmUnKSB7CiAgICAgICAgdGVybURhdGEudmFsdWUuaXNfYWN0aXZlID0gMDsKICAgICAgfSBlbHNlIHsKICAgICAgICB0ZXJtRGF0YS52YWx1ZS5pc19hY3RpdmUgPSAxOwogICAgICB9CiAgICB9CgogICAgd2F0Y2godGVybVByb3AsIGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICBpZiAocHJvcHMubW9kZSA9PT0gJ2VkaXQnKSB7CiAgICAgICAgdGVybURhdGEudmFsdWUgPSB0ZXJtUHJvcC52YWx1ZTsKCiAgICAgICAgaWYgKHRlcm1EYXRhLnZhbHVlLmlzX2FjdGl2ZSA9PT0gJ0luYWN0aXZlJykgewogICAgICAgICAgdGVybURhdGEudmFsdWUuaXNfYWN0aXZlID0gMDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGVybURhdGEudmFsdWUuaXNfYWN0aXZlID0gMTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGVybURhdGEudmFsdWUgPSB7CiAgICAgICAgICBjb2RlOiBudWxsLAogICAgICAgICAgZGVzY3JpcHRpb246IG51bGwsCiAgICAgICAgICBkYXlzOiAwLAogICAgICAgICAgbm90ZXM6IG51bGwsCiAgICAgICAgICBpc19hY3RpdmU6IGZhbHNlCiAgICAgICAgfTsKICAgICAgfQogICAgfSk7CiAgICB2YXIgZXJyb3JzID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gc3RvcmUuc3RhdGUuVGVybVN0b3JlLmVycm9yczsKICAgIH0pOwoKICAgIHZhciBjYW5jZWwgPSBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgIGVtaXQoJ2NsaWNrZWQnLCBmYWxzZSk7CiAgICB9OwoKICAgIHZhciBzdWJtaXQgPSBmdW5jdGlvbiBzdWJtaXQoKSB7CiAgICAgIGlmICh0ZXJtRGF0YS52YWx1ZS5pZCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ1Rlcm1TdG9yZS9jcmVhdGUnLCB0ZXJtRGF0YS52YWx1ZSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICBlbWl0KCdjbGlja2VkJywgewogICAgICAgICAgICAgIGFsZXJ0VHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgIGFsZXJ0TWVzc2FnZTogJ1N1Y2Nlc3NmdWxseSBBZGRlZCBhIFRlcm0uJwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ1Rlcm1TdG9yZS9saXN0Jyk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ1Rlcm1TdG9yZS91cGRhdGUnLCB0ZXJtRGF0YS52YWx1ZSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICBlbWl0KCdjbGlja2VkJywgewogICAgICAgICAgICAgIGFsZXJ0VHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgIGFsZXJ0TWVzc2FnZTogJ1N1Y2Nlc3NmdWxseSBBZGRlZCBhIFRlcm0uJwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ1Rlcm1TdG9yZS9saXN0Jyk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH07CgogICAgcmV0dXJuIHsKICAgICAgY2FuY2VsOiBjYW5jZWwsCiAgICAgIGVycm9yczogZXJyb3JzLAogICAgICB0ZXJtRGF0YTogdGVybURhdGEsCiAgICAgIHN1Ym1pdDogc3VibWl0CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHt9LAogIG1ldGhvZHM6IHt9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwIA,SACAA,KADA,EAEAC,QAFA,EAGAC,GAHA,EAGAC,KAHA,QAIA,+CAJA;AAKA;AAEA;EACAC;IACAC;MACAC,YADA;MAEAC,cAFA;MAGAC;IAHA,CADA;IAMAC;MACAH,YADA;MAEAC,eAFA;MAGAC;IAHA;EANA,CADA;EAaAE,KAbA,iBAaAN,KAbA,QAaA;IAAA;IACA;IAEA;MACAO,UADA;MAEAC,iBAFA;MAGAC,OAHA;MAIAC,WAJA;MAKAC;IALA;;IAQA;MACAC;;MAEA;QACAA;MACA,CAFA,MAEA;QACAA;MACA;IACA;;IAEAb;MACA;QACAa;;QAEA;UACAA;QACA,CAFA,MAEA;UACAA;QACA;MACA,CARA,MAQA;QACAA;UACAL,UADA;UAEAC,iBAFA;UAGAC,OAHA;UAIAC,WAJA;UAKAC;QALA;MAOA;IACA,CAlBA;IAoBA;MAAA;IAAA;;IAEA;MACAE;IACA,CAFA;;IAIA;MACA;QACAC,wDACA;UACA;YACAD;cACAE,oBADA;cAEAC;YAFA;YAIAF;UACA;QACA,CATA;MAWA,CAZA,MAYA;QACAA,wDACA;UACA;YACAD;cACAE,oBADA;cAEAC;YAFA;YAIAF;UACA;QACA,CATA;MAWA;IACA,CA1BA;;IA4BA;MACAG,cADA;MAEAC,cAFA;MAGAN,kBAHA;MAIAO;IAJA;EAMA,CA9FA;EA+FAtB,YA/FA;EAiGAuB;AAjGA","names":["toRef","computed","ref","watch","props","mode","type","required","default","term","setup","code","description","days","notes","is_active","termData","emit","store","alertType","alertMessage","cancel","errors","submit","methods"],"sourceRoot":"src/views/pages/master-files/terms","sources":["TermForm.vue"],"sourcesContent":["<template>\n  <v-form>\n    <v-row>\n      <v-col\n        cols=\"4\"\n        md=\"3\"\n      >\n        <label for=\"firstnameHorizontalIcons\">Term Code</label>\n      </v-col>\n\n      <v-col\n        cols=\"7\"\n        md=\"7\"\n      >\n        <v-text-field\n          id=\"firstnameHorizontalIcons\"\n          v-model=\"termData.code\"\n          outlined\n          dense\n          :error-messages=\"errors.code\"\n          placeholder=\"Term Code\"\n          hide-details=\"auto\"\n        ></v-text-field>\n      </v-col>\n      <v-col\n        cols=\"4\"\n        md=\"3\"\n      >\n        <label for=\"firstnameHorizontalIcons\">Description</label>\n      </v-col>\n\n      <v-col\n        cols=\"7\"\n      >\n        <v-textarea\n          id=\"firstnameHorizontalIcons\"\n          v-model=\"termData.description\"\n          outlined\n          dense\n          rows=\"2\"\n          :error-messages=\"errors.description\"\n          placeholder=\"Description\"\n          hide-details=\"auto\"\n        ></v-textarea>\n      </v-col>\n      <v-col\n        cols=\"4\"\n        md=\"3\"\n      >\n        <label for=\"firstnameHorizontalIcons\">Notes</label>\n      </v-col>\n\n      <v-col\n        cols=\"7\"\n      >\n        <v-textarea\n          id=\"firstnameHorizontalIcons\"\n          v-model=\"termData.notes\"\n          rows=\"3\"\n          outlined\n          dense\n          :error-messages=\"errors.notes\"\n          placeholder=\"Notes\"\n          hide-details=\"auto\"\n        ></v-textarea>\n      </v-col>\n      <v-col\n        cols=\"4\"\n        md=\"3\"\n      >\n        <label for=\"firstnameHorizontalIcons\">Actual Days</label>\n      </v-col>\n\n      <v-col\n        cols=\"7\"\n        md=\"7\"\n      >\n        <v-text-field\n          id=\"firstnameHorizontalIcons\"\n          v-model=\"termData.days\"\n          outlined\n          type=\"number\"\n          min=\"0\"\n          step=\"1\"\n          onfocus=\"this.previousValue = this.value\"\n          onkeydown=\"this.previousValue = this.value\"\n          oninput=\"validity.valid || (value = this.previousValue)\"\n          dense\n          :error-messages=\"errors.days\"\n          placeholder=\"Days\"\n          hide-details=\"auto\"\n        ></v-text-field>\n      </v-col>\n      <v-col\n        cols=\"4\"\n        md=\"3\"\n      >\n      </v-col>\n\n      <v-col\n        cols=\"7\"\n        md=\"7\"\n      >\n        <v-checkbox\n          v-model=\"termData.is_active\"\n          label=\"Active\"\n          :error-messages=\"errors.is_active\"\n          hide-details=\"auto\"\n          class=\"me-3 mt-1\"\n        >\n        </v-checkbox>\n      </v-col>\n      <v-col\n        offset-md=\"3\"\n        cols=\"12\"\n      >\n        <v-btn\n          color=\"primary\"\n          @click=\"submit\"\n        >\n          Submit\n        </v-btn>\n        <v-btn\n          type=\"reset\"\n          outlined\n          class=\"mx-2\"\n          @click=\"cancel\"\n        >\n          Cancel\n        </v-btn>\n      </v-col>\n    </v-row>\n  </v-form>\n</template>\n\n<script>\nimport {\n  toRef,\n  computed,\n  ref, watch,\n} from '@vue/composition-api/dist/vue-composition-api'\nimport store from '@/store'\n\nexport default {\n  props: {\n    mode: {\n      type: String,\n      required: true,\n      default: null,\n    },\n    term: {\n      type: Object,\n      required: false,\n      default: null,\n    },\n  },\n  setup(props, { emit }) {\n    const termProp = toRef(props, 'term')\n\n    const termData = ref({\n      code: null,\n      description: null,\n      days: 0,\n      notes: null,\n      is_active: true,\n    })\n\n    if (props.mode === 'edit') {\n      termData.value = termProp.value\n\n      if (termData.value.is_active === 'Inactive') {\n        termData.value.is_active = 0\n      } else {\n        termData.value.is_active = 1\n      }\n    }\n\n    watch(termProp, value => {\n      if (props.mode === 'edit') {\n        termData.value = termProp.value\n\n        if (termData.value.is_active === 'Inactive') {\n          termData.value.is_active = 0\n        } else {\n          termData.value.is_active = 1\n        }\n      } else {\n        termData.value = {\n          code: null,\n          description: null,\n          days: 0,\n          notes: null,\n          is_active: false,\n        }\n      }\n    })\n\n    const errors = computed(() => store.state.TermStore.errors)\n\n    const cancel = () => {\n      emit('clicked', false)\n    }\n\n    const submit = () => {\n      if (termData.value.id === undefined) {\n        store.dispatch('TermStore/create', termData.value).then(\n          response => {\n            if (response.status === undefined) {\n              emit('clicked', {\n                alertType: 'success',\n                alertMessage: 'Successfully Added a Term.',\n              })\n              store.dispatch('TermStore/list')\n            }\n          },\n        )\n      } else {\n        store.dispatch('TermStore/update', termData.value).then(\n          response => {\n            if (response.status === undefined) {\n              emit('clicked', {\n                alertType: 'success',\n                alertMessage: 'Successfully Added a Term.',\n              })\n              store.dispatch('TermStore/list')\n            }\n          },\n        )\n      }\n    }\n\n    return {\n      cancel,\n      errors,\n      termData,\n      submit,\n    }\n  },\n  computed: {\n  },\n  methods: {\n  },\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}