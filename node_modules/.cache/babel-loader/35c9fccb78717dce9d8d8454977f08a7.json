{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js!/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/projects/enco-fe/src/views/pages/user-access-management/users/UserInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/views/pages/user-access-management/users/UserInfo.vue","mtime":1659098301278},{"path":"/Users/mark/projects/enco-fe/babel.config.js","mtime":1655991784146},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1652172763063},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js","mtime":1650363919730}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1kaUFsZXJ0T3V0bGluZSwgbWRpQ2xvdWRVcGxvYWRPdXRsaW5lIH0gZnJvbSAnQG1kaS9qcyc7CmltcG9ydCB7IGNvbXB1dGVkLCByZWYsIHRvUmVmIH0gZnJvbSAnQHZ1ZS9jb21wb3NpdGlvbi1hcGknOwppbXBvcnQgcm91dGVyIGZyb20gJ0Avcm91dGVyJzsKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIGFjY291bnREYXRhOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIGxvYWRpbmc6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZSwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0KICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cChwcm9wcykgewogICAgdmFyIGVycm9ycyA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHN0b3JlLnN0YXRlLlVzZXJBY2Nlc3NNYW5hZ2VtZW50U3RvcmUuZXJyb3JzOwogICAgfSk7CiAgICB2YXIgc3RhdHVzID0gWydBY3RpdmUnLCAnSW5hY3RpdmUnLCAnUGVuZGluZycsICdEZWxldGVkJywgJ0RlYWN0aXZhdGVkJ107CiAgICB2YXIgYWNjb3VudERhdGFMb2NhbGUgPSB0b1JlZihwcm9wcywgJ2FjY291bnREYXRhJyk7CiAgICB2YXIgbG9hZGluZ0xvY2FsZSA9IHRvUmVmKHByb3BzLCAnbG9hZGluZycpOwogICAgdmFyIHNob3dBbGVydCA9IHJlZihmYWxzZSk7CiAgICBhY2NvdW50RGF0YUxvY2FsZS52YWx1ZS5hdmF0YXJJbWcgPSByZXF1aXJlKCdAL2Fzc2V0cy9pbWFnZXMvYXZhdGFycy8xLnBuZycpOwoKICAgIHZhciBnb0JhY2sgPSBmdW5jdGlvbiBnb0JhY2soKSB7CiAgICAgIHJvdXRlci5wdXNoKCcvdXNlcnMnKTsKICAgIH07CgogICAgdmFyIHN1Ym1pdCA9IGZ1bmN0aW9uIHN1Ym1pdCgpIHsKICAgICAgc3RvcmUuZGlzcGF0Y2goJ1VzZXJBY2Nlc3NNYW5hZ2VtZW50U3RvcmUvdXBkYXRlVXNlcicsIHsKICAgICAgICBuYW1lOiBhY2NvdW50RGF0YUxvY2FsZS52YWx1ZS5uYW1lLAogICAgICAgIGVtYWlsOiBhY2NvdW50RGF0YUxvY2FsZS52YWx1ZS5lbWFpbCwKICAgICAgICBzdGF0dXM6IGFjY291bnREYXRhTG9jYWxlLnZhbHVlLnN0YXR1cywKICAgICAgICBpZDogYWNjb3VudERhdGFMb2NhbGUudmFsdWUuaWQKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHNob3dBbGVydC52YWx1ZSA9IHRydWU7CiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgc2hvd0FsZXJ0LnZhbHVlID0gZmFsc2U7CiAgICAgICAgICB9LCAxNTAwKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfTsKCiAgICByZXR1cm4gewogICAgICBlcnJvcnM6IGVycm9ycywKICAgICAgbG9hZGluZ0xvY2FsZTogbG9hZGluZ0xvY2FsZSwKICAgICAgZ29CYWNrOiBnb0JhY2ssCiAgICAgIHN0YXR1czogc3RhdHVzLAogICAgICBhY2NvdW50RGF0YUxvY2FsZTogYWNjb3VudERhdGFMb2NhbGUsCiAgICAgIGljb25zOiB7CiAgICAgICAgbWRpQWxlcnRPdXRsaW5lOiBtZGlBbGVydE91dGxpbmUsCiAgICAgICAgbWRpQ2xvdWRVcGxvYWRPdXRsaW5lOiBtZGlDbG91ZFVwbG9hZE91dGxpbmUKICAgICAgfSwKICAgICAgc2hvd0FsZXJ0OiBzaG93QWxlcnQsCiAgICAgIHN1Ym1pdDogc3VibWl0CiAgICB9OwogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0FA;AACA;AACA;AACA;AAEA;EACAA;IACAC;MACAC,YADA;MAEAC;IAFA,CADA;IAKAC;MACAF,aADA;MAEAC,aAFA;MAGAE;IAHA;EALA,CADA;EAYAC,KAZA,iBAYAN,KAZA,EAYA;IACA;MAAA;IAAA;IACA;IACA;IACA;IACA;IAEAO;;IAEA;MACAC;IACA,CAFA;;IAIA;MACAC;QACAC,kCADA;QAEAC,oCAFA;QAGAC,sCAHA;QAIAC;MAJA,GAKAC,IALA,CAMA;QACA;UACAC;UACAC;YACAD;UACA,CAFA,EAEA,IAFA;QAGA;MACA,CAbA;IAeA,CAhBA;;IAkBA;MACAE,cADA;MAEAC,4BAFA;MAGAC,cAHA;MAIAP,cAJA;MAKAL,oCALA;MAMAa;QACAC,gCADA;QAEAC;MAFA,CANA;MAUAP,oBAVA;MAWAQ;IAXA;EAaA;AAxDA","names":["props","accountData","type","default","loading","required","setup","accountDataLocale","router","store","name","email","status","id","then","showAlert","setTimeout","errors","loadingLocale","goBack","icons","mdiAlertOutline","mdiCloudUploadOutline","submit"],"sourceRoot":"src/views/pages/user-access-management/users","sources":["UserInfo.vue"],"sourcesContent":["<template>\n  <v-card\n    flat\n    class=\"pa-3 mt-2\"\n  >\n    <v-alert\n      dense\n      text\n      type=\"success\"\n      v-show=\"showAlert\"\n      dismissible\n    >\n      Successfully updated\n    </v-alert>\n    <v-card-text>\n      <v-progress-linear\n        v-show=\"loadingLocale\"\n        indeterminate\n        color=\"primary\"\n      ></v-progress-linear>\n      <v-form\n        v-if=\"!loadingLocale\"\n        class=\"multi-col-validation mt-6\"\n      >\n        <v-row>\n          <v-col\n            md=\"6\"\n            cols=\"12\"\n          >\n            <v-text-field\n              v-model=\"accountDataLocale.email\"\n              label=\"Email\"\n              :error-messages=\"errors.email\"\n              dense\n              outlined\n            ></v-text-field>\n          </v-col>\n\n          <v-col\n            md=\"6\"\n            cols=\"12\"\n          >\n            <v-text-field\n              v-model=\"accountDataLocale.name\"\n              label=\"Name\"\n              :error-messages=\"errors.name\"\n              dense\n              outlined\n            ></v-text-field>\n          </v-col>\n\n          <v-col\n            cols=\"12\"\n            md=\"6\"\n          >\n            <v-select\n              v-model=\"accountDataLocale.status\"\n              dense\n              outlined\n              label=\"Status\"\n              :error-messages=\"errors.status\"\n              :items=\"status\"\n            ></v-select>\n          </v-col>\n\n          <v-col cols=\"12\">\n            <v-btn\n              color=\"primary\"\n              class=\"me-3 mt-4\"\n              @click=\"submit\"\n            >\n              Save changes\n            </v-btn>\n            <v-btn\n              color=\"info\"\n              outlined\n              class=\"mt-3\"\n              type=\"reset\"\n              @click.prevent=\"goBack\"\n            >\n              Back to Users Page\n            </v-btn>\n          </v-col>\n        </v-row>\n      </v-form>\n    </v-card-text>\n  </v-card>\n</template>\n\n<script>\nimport { mdiAlertOutline, mdiCloudUploadOutline } from '@mdi/js'\nimport { computed, ref, toRef } from '@vue/composition-api'\nimport router from '@/router'\nimport store from '@/store'\n\nexport default {\n  props: {\n    accountData: {\n      type: Object,\n      default: null,\n    },\n    loading: {\n      type: Boolean,\n      default: true,\n      required: true,\n    },\n  },\n  setup(props) {\n    const errors = computed(() => store.state.UserAccessManagementStore.errors)\n    const status = ['Active', 'Inactive', 'Pending', 'Deleted', 'Deactivated']\n    const accountDataLocale = toRef(props, 'accountData')\n    const loadingLocale = toRef(props, 'loading')\n    const showAlert = ref(false)\n\n    accountDataLocale.value.avatarImg = require('@/assets/images/avatars/1.png')\n\n    const goBack = () => {\n      router.push('/users')\n    }\n\n    const submit = () => {\n      store.dispatch('UserAccessManagementStore/updateUser', {\n        name: accountDataLocale.value.name,\n        email: accountDataLocale.value.email,\n        status: accountDataLocale.value.status,\n        id: accountDataLocale.value.id,\n      }).then(\n        response => {\n          if (response.status === undefined) {\n            showAlert.value = true\n            setTimeout(() => {\n              showAlert.value = false\n            }, 1500)\n          }\n        },\n      )\n    }\n\n    return {\n      errors,\n      loadingLocale,\n      goBack,\n      status,\n      accountDataLocale,\n      icons: {\n        mdiAlertOutline,\n        mdiCloudUploadOutline,\n      },\n      showAlert,\n      submit,\n    }\n  },\n}\n</script>\n"]}]}