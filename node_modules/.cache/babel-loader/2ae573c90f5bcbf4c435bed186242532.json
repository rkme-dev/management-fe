{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js!/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/projects/enco-fe/src/views/pages/sales/collections/CollectionPayment.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/views/pages/sales/collections/CollectionPayment.vue","mtime":1665042909929},{"path":"/Users/mark/projects/enco-fe/babel.config.js","mtime":1655991784146},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1665368576185},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1665368576151},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1665368576185},{"path":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js","mtime":1665368593779}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWRpQWNjb3VudEVkaXQsIG1kaURlbGV0ZUNpcmNsZSB9IGZyb20gJ0BtZGkvanMnOwppbXBvcnQgeyByZWYsIHRvUmVmIH0gZnJvbSAnQHZ1ZS9jb21wb3NpdGlvbi1hcGknOwppbXBvcnQgeyBkYXRlRm9ybWF0MSB9IGZyb20gJ0AvdXRpbHMvdGltZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ29sbGVjdGlvblBheW1lbnQnLAogIGNvbXBvbmVudHM6IHt9LAogIHByb3BzOiB7CiAgICB0b3RhbEFtb3VudDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIDA7CiAgICAgIH0KICAgIH0sCiAgICBwYXltZW50czogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfQogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKHByb3BzLCBfcmVmKSB7CiAgICB2YXIgZW1pdCA9IF9yZWYuZW1pdDsKICAgIHZhciBwYXltZW50c0RhdGEgPSB0b1JlZihwcm9wcywgJ3BheW1lbnRzJyk7CiAgICB2YXIgaGVhZGVycyA9IHJlZihbewogICAgICB0ZXh0OiAnRGF0ZScsCiAgICAgIGFsaWduOiAnc3RhcnQnLAogICAgICBzb3J0YWJsZTogZmFsc2UsCiAgICAgIHZhbHVlOiAncGF5bWVudF9kYXRlJwogICAgfSwgewogICAgICB0ZXh0OiAnUGF5bWVudCBUeXBlJywKICAgICAgdmFsdWU6ICdwYXltZW50X3R5cGUnCiAgICB9LCB7CiAgICAgIHRleHQ6ICdSZWZlcmVuY2UgIycsCiAgICAgIHZhbHVlOiAncmVmZXJlbmNlX251bWJlcicKICAgIH0sIHsKICAgICAgdGV4dDogJ0Ftb3VudCcsCiAgICAgIHZhbHVlOiAnYW1vdW50JwogICAgfSwgewogICAgICB0ZXh0OiAnQWN0aW9ucycsCiAgICAgIHZhbHVlOiAnYWN0aW9ucycsCiAgICAgIHNvcnRhYmxlOiBmYWxzZQogICAgfV0pOwogICAgdmFyIHNhbGVzRHJzID0gcmVmKFtdKTsKCiAgICB2YXIgcmVtb3ZlUGF5bWVudCA9IGZ1bmN0aW9uIHJlbW92ZVBheW1lbnQoaXRlbSwgaW5kZXgpIHsKICAgICAgZW1pdCgncmVtb3ZlUGF5bWVudCcsIGl0ZW0sIGluZGV4KTsKICAgIH07CgogICAgdmFyIHRvZ2dsZU1vZGFsID0gZnVuY3Rpb24gdG9nZ2xlTW9kYWwoKSB7CiAgICAgIGVtaXQoJ3RvZ2dsZU1vZGFsJyk7CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIHJlbW92ZVBheW1lbnQ6IHJlbW92ZVBheW1lbnQsCiAgICAgIHBheW1lbnRzRGF0YTogcGF5bWVudHNEYXRhLAogICAgICB0b2dnbGVNb2RhbDogdG9nZ2xlTW9kYWwsCiAgICAgIGRhdGVGb3JtYXQxOiBkYXRlRm9ybWF0MSwKICAgICAgbWRpQWNjb3VudEVkaXQ6IG1kaUFjY291bnRFZGl0LAogICAgICBtZGlEZWxldGVDaXJjbGU6IG1kaURlbGV0ZUNpcmNsZSwKICAgICAgaGVhZGVyczogaGVhZGVycywKICAgICAgc2FsZXNEcnM6IHNhbGVzRHJzLAogICAgICBpY29uczogewogICAgICAgIG1kaUFjY291bnRFZGl0OiBtZGlBY2NvdW50RWRpdCwKICAgICAgICBtZGlEZWxldGVDaXJjbGU6IG1kaURlbGV0ZUNpcmNsZQogICAgICB9CiAgICB9OwogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA;AACA,SACAA,GADA,EACAC,KADA,QAEA,sBAFA;AAGA;AAEA;EACAC,yBADA;EAEAC,cAFA;EAIAC;IACAC;MACAC,YADA;MAEAC,eAFA;MAGAC;QAAA;MAAA;IAHA,CADA;IAMAC;MACAH,WADA;MAEAC,cAFA;MAGAC;QAAA;MAAA;IAHA;EANA,CAJA;EAgBAE,KAhBA,iBAgBAN,KAhBA,QAgBA;IAAA;IACA;IACA,mBACA;MACAO,YADA;MAEAC,cAFA;MAGAC,eAHA;MAIAC;IAJA,CADA,EAOA;MAAAH;MAAAG;IAAA,CAPA,EAQA;MAAAH;MAAAG;IAAA,CARA,EASA;MAAAH;MAAAG;IAAA,CATA,EAUA;MAAAH;MAAAG;MAAAD;IAAA,CAVA;IAaA;;IAEA;MACAE;IACA,CAFA;;IAIA;MACAA;IACA,CAFA;;IAIA;MACAC,4BADA;MAEAC,0BAFA;MAGAC,wBAHA;MAIAC,wBAJA;MAKAC,8BALA;MAMAC,gCANA;MAOAC,gBAPA;MAQAC,kBARA;MASAC;QACAJ,8BADA;QAEAC;MAFA;IATA;EAcA;AAvDA","names":["ref","toRef","name","components","props","totalAmount","type","required","default","payments","setup","text","align","sortable","value","emit","removePayment","paymentsData","toggleModal","dateFormat1","mdiAccountEdit","mdiDeleteCircle","headers","salesDrs","icons"],"sourceRoot":"src/views/pages/sales/collections","sources":["CollectionPayment.vue"],"sourcesContent":["<template>\n  <div class=\"pa-6\">\n    <v-data-table\n      :headers=\"headers\"\n      :items=\"paymentsData\"\n      sort-by=\"name\"\n      class=\"elevation-1\"\n    >\n      <template #item.created_at=\"{ item }\">\n        {{ dateFormat1(item.created_at) }}\n      </template>\n      <template #item.amount=\"{ item }\">\n        <v-currency-field\n          v-model=\"item.amount\"\n          prefix=\"PHP\"\n          class=\"text-green\"\n          disabled\n        >\n        </v-currency-field>\n      </template>\n      <template v-slot:item.actions=\"{ item, index}\">\n        <v-icon\n          small\n          @click=\"removePayment(item, index)\"\n        >\n          {{ icons.mdiDeleteCircle }}\n        </v-icon>\n      </template>\n      <template v-slot:footer>\n        <v-row>\n          <v-col cols=\"8\"></v-col>\n          <v-col\n            cols=\"2\"\n            class=\"ml-auto mt-4 mb-4\"\n          >\n            <v-btn\n              v-if=\"totalAmount > 0\"\n              color=\"success\"\n              class=\"\"\n              @click=\"toggleModal\"\n            >\n              <v-icon>\n                {{ icons.mdiContentSave }}\n              </v-icon>\n              Add Payment\n            </v-btn>\n          </v-col>\n        </v-row>\n      </template>\n    </v-data-table>\n  </div>\n</template>\n\n<script>\nimport { mdiAccountEdit, mdiDeleteCircle } from '@mdi/js'\nimport {\n  ref, toRef,\n} from '@vue/composition-api'\nimport { dateFormat1 } from '@/utils/time'\n\nexport default {\n  name: 'CollectionPayment',\n  components: {\n  },\n  props: {\n    totalAmount: {\n      type: Number,\n      required: false,\n      default: (() => 0),\n    },\n    payments: {\n      type: Array,\n      required: true,\n      default: (() => []),\n    },\n  },\n  setup(props, { emit }) {\n    const paymentsData = toRef(props, 'payments')\n    const headers = ref([\n      {\n        text: 'Date',\n        align: 'start',\n        sortable: false,\n        value: 'payment_date',\n      },\n      { text: 'Payment Type', value: 'payment_type' },\n      { text: 'Reference #', value: 'reference_number' },\n      { text: 'Amount', value: 'amount' },\n      { text: 'Actions', value: 'actions', sortable: false },\n    ])\n\n    const salesDrs = ref([])\n\n    const removePayment = (item, index) => {\n      emit('removePayment', item, index)\n    }\n\n    const toggleModal = () => {\n      emit('toggleModal')\n    }\n\n    return {\n      removePayment,\n      paymentsData,\n      toggleModal,\n      dateFormat1,\n      mdiAccountEdit,\n      mdiDeleteCircle,\n      headers,\n      salesDrs,\n      icons: {\n        mdiAccountEdit,\n        mdiDeleteCircle,\n      },\n    }\n  },\n}\n</script>\n<style>\n.text-green input {\n  color: chartreuse !important;\n}\n\n</style>\n"]}]}