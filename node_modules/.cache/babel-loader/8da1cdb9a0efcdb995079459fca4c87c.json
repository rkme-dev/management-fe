{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js!/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/projects/enco-fe/src/views/pages/master-files/accounts/AccountForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/views/pages/master-files/accounts/AccountForm.vue","mtime":1663054420250},{"path":"/Users/mark/projects/enco-fe/babel.config.js","mtime":1655991784146},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1665368576185},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1665368576151},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1665368576185},{"path":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js","mtime":1665368593779}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgdG9SZWYsIGNvbXB1dGVkLCByZWYsIHdhdGNoIH0gZnJvbSAnQHZ1ZS9jb21wb3NpdGlvbi1hcGkvZGlzdC92dWUtY29tcG9zaXRpb24tYXBpJzsKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIG1vZGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIGRvY3VtZW50OiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9CiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAocHJvcHMsIF9yZWYpIHsKICAgIHZhciBlbWl0ID0gX3JlZi5lbWl0OwogICAgdmFyIGRvY3VtZW50UHJvcCA9IHRvUmVmKHByb3BzLCAnZG9jdW1lbnQnKTsKICAgIHZhciB0eXBlbGlzdCA9IFsnQWNjb3VudHMgUmVjZWl2YWJsZScsICdBY2NvdW50cyBQYXlhYmxlJywgJ0JhbmsnLCAnQ2FzaCcsICdGaXhlZCBBc3NldCcsICdDb3N0IG9mIEdvb2RzIFNvbGQnLCAnSW5jb21lJywgJ0V4cGVuc2VzJywgJ090aGVyIEluY29tZScsICdPdGhlciBFeHBlbnNlcyddOwogICAgdmFyIG5vcm1hbGxpc3QgPSBbJ0MnLCAnRCddOwogICAgdmFyIGFjY291bnREYXRhID0gcmVmKHsKICAgICAgYWNjb3VudF9jb2RlOiBudWxsLAogICAgICBhY2NvdW50X3RpdGxlOiBudWxsLAogICAgICB0eXBlOiBudWxsLAogICAgICBub3JtYWw6IG51bGwsCiAgICAgIGlzX2FjdGl2ZTogZmFsc2UKICAgIH0pOwoKICAgIGlmIChwcm9wcy5tb2RlID09PSAnZWRpdCcpIHsKICAgICAgYWNjb3VudERhdGEudmFsdWUgPSBkb2N1bWVudFByb3AudmFsdWU7CgogICAgICBpZiAoYWNjb3VudERhdGEudmFsdWUuaXNfYWN0aXZlID09PSAnSW5hY3RpdmUnKSB7CiAgICAgICAgYWNjb3VudERhdGEudmFsdWUuaXNfYWN0aXZlID0gMDsKICAgICAgfSBlbHNlIHsKICAgICAgICBhY2NvdW50RGF0YS52YWx1ZS5pc19hY3RpdmUgPSAxOwogICAgICB9CiAgICB9CgogICAgd2F0Y2goZG9jdW1lbnRQcm9wLCBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgaWYgKHByb3BzLm1vZGUgPT09ICdlZGl0JykgewogICAgICAgIGFjY291bnREYXRhLnZhbHVlID0gZG9jdW1lbnRQcm9wLnZhbHVlOwoKICAgICAgICBpZiAoYWNjb3VudERhdGEudmFsdWUuaXNfYWN0aXZlID09PSAnSW5hY3RpdmUnKSB7CiAgICAgICAgICBhY2NvdW50RGF0YS52YWx1ZS5pc19hY3RpdmUgPSAwOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhY2NvdW50RGF0YS52YWx1ZS5pc19hY3RpdmUgPSAxOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBhY2NvdW50RGF0YS52YWx1ZSA9IHsKICAgICAgICAgIGFjY291bnRfY29kZTogbnVsbCwKICAgICAgICAgIGFjY291bnRfdGl0bGU6IG51bGwsCiAgICAgICAgICB0eXBlOiBudWxsLAogICAgICAgICAgbm9ybWFsOiBudWxsLAogICAgICAgICAgaXNfYWN0aXZlOiBmYWxzZQogICAgICAgIH07CiAgICAgIH0KICAgIH0pOwogICAgdmFyIGVycm9ycyA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHN0b3JlLnN0YXRlLkFjY291bnRTdG9yZS5lcnJvcnM7CiAgICB9KTsKCiAgICB2YXIgY2FuY2VsID0gZnVuY3Rpb24gY2FuY2VsKCkgewogICAgICBlbWl0KCdjbGlja2VkJywgZmFsc2UpOwogICAgfTsKCiAgICB2YXIgc3VibWl0ID0gZnVuY3Rpb24gc3VibWl0KCkgewogICAgICBpZiAoYWNjb3VudERhdGEudmFsdWUuaWQgPT09IHVuZGVmaW5lZCkgewogICAgICAgIHN0b3JlLmRpc3BhdGNoKCdBY2NvdW50U3RvcmUvY3JlYXRlJywgYWNjb3VudERhdGEudmFsdWUpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgZW1pdCgnY2xpY2tlZCcsIHsKICAgICAgICAgICAgICBhbGVydFR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICBhbGVydE1lc3NhZ2U6ICdTdWNjZXNzZnVsbHkgQWRkZWQgYW4gQWNjb3VudC4nCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBzdG9yZS5kaXNwYXRjaCgnQWNjb3VudFN0b3JlL2xpc3QnKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBzdG9yZS5kaXNwYXRjaCgnQWNjb3VudFN0b3JlL3VwZGF0ZScsIGFjY291bnREYXRhLnZhbHVlKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIGVtaXQoJ2NsaWNrZWQnLCB7CiAgICAgICAgICAgICAgYWxlcnRUeXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgYWxlcnRNZXNzYWdlOiAnU3VjY2Vzc2Z1bGx5IHVwZGF0ZWQgYSBEb2N1bWVudC4nCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBzdG9yZS5kaXNwYXRjaCgnQWNjb3VudFN0b3JlL2xpc3QnKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfTsKCiAgICByZXR1cm4gewogICAgICBjYW5jZWw6IGNhbmNlbCwKICAgICAgZXJyb3JzOiBlcnJvcnMsCiAgICAgIGFjY291bnREYXRhOiBhY2NvdW50RGF0YSwKICAgICAgc3VibWl0OiBzdWJtaXQsCiAgICAgIHR5cGVsaXN0OiB0eXBlbGlzdCwKICAgICAgbm9ybWFsbGlzdDogbm9ybWFsbGlzdAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7fSwKICBtZXRob2RzOiB7fQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8HA,SACAA,KADA,EAEAC,QAFA,EAGAC,GAHA,EAGAC,KAHA,QAIA,+CAJA;AAKA;AAEA;EACAC;IACAC;MACAC,YADA;MAEAC,cAFA;MAGAC;IAHA,CADA;IAMAC;MACAH,YADA;MAEAC,eAFA;MAGAC;IAHA;EANA,CADA;EAaAE,KAbA,iBAaAN,KAbA,QAaA;IAAA;IACA;IAEA,gBACA,qBADA,EAEA,kBAFA,EAGA,MAHA,EAIA,MAJA,EAKA,aALA,EAMA,oBANA,EAOA,QAPA,EAQA,UARA,EASA,cATA,EAUA,gBAVA;IAaA,kBACA,GADA,EAEA,GAFA;IAKA;MACAO,kBADA;MAEAC,mBAFA;MAGAN,UAHA;MAIAO,YAJA;MAKAC;IALA;;IAQA;MACAC;;MAEA;QACAA;MACA,CAFA,MAEA;QACAA;MACA;IACA;;IAEAZ;MACA;QACAY;;QAEA;UACAA;QACA,CAFA,MAEA;UACAA;QACA;MACA,CARA,MAQA;QACAA;UACAJ,kBADA;UAEAC,mBAFA;UAGAN,UAHA;UAIAO,YAJA;UAKAC;QALA;MAOA;IACA,CAlBA;IAoBA;MAAA;IAAA;;IAEA;MACAE;IACA,CAFA;;IAIA;MACA;QACAC,8DACA;UACA;YACAD;cACAE,oBADA;cAEAC;YAFA;YAIAF;UACA;QACA,CATA;MAWA,CAZA,MAYA;QACAA,8DACA;UACA;YACAD;cACAE,oBADA;cAEAC;YAFA;YAIAF;UACA;QACA,CATA;MAWA;IACA,CA1BA;;IA4BA;MACAG,cADA;MAEAC,cAFA;MAGAN,wBAHA;MAIAO,cAJA;MAKAC,kBALA;MAMAC;IANA;EAQA,CAlHA;EAmHAvB,YAnHA;EAqHAwB;AArHA","names":["toRef","computed","ref","watch","props","mode","type","required","default","document","setup","account_code","account_title","normal","is_active","accountData","emit","store","alertType","alertMessage","cancel","errors","submit","typelist","normallist","methods"],"sourceRoot":"src/views/pages/master-files/accounts","sources":["AccountForm.vue"],"sourcesContent":["<template>\n  <v-form>\n    <v-row>\n      <v-col\n        cols=\"4\"\n        md=\"3\"\n      >\n        <label for=\"firstnameHorizontalIcons\">Account code</label>\n      </v-col>\n\n      <v-col\n        cols=\"7\"\n        md=\"7\"\n      >\n        <v-text-field\n          id=\"firstnameHorizontalIcons\"\n          v-model=\"accountData.account_code\"\n          outlined\n          dense\n          :error-messages=\"errors.account_code\"\n          placeholder=\"Account Code\"\n          hide-details=\"auto\"\n        ></v-text-field>\n      </v-col>\n      <v-col\n        cols=\"4\"\n        md=\"3\"\n      >\n        <label for=\"firstnameHorizontalIcons\">Account Title</label>\n      </v-col>\n\n      <v-col\n        cols=\"7\"\n      >\n        <v-text-field\n          id=\"firstnameHorizontalIcons\"\n          v-model=\"accountData.account_title\"\n          outlined\n          dense\n          :error-messages=\"errors.account_title\"\n          placeholder=\"Account Title\"\n          hide-details=\"auto\"\n        ></v-text-field>\n      </v-col>\n\n      <v-col\n        cols=\"4\"\n        md=\"3\"\n      >\n        <label for=\"firstnameHorizontalIcons\">Type</label>\n      </v-col>\n\n      <v-col\n        cols=\"7\"\n        md=\"7\"\n      >\n      <v-select\n          :items=\"typelist\"\n          v-model=\"accountData.type\"\n          filled\n          label=\"Filled style\"\n        ></v-select>\n      </v-col>\n\n      <v-col\n        cols=\"4\"\n        md=\"3\"\n      >\n        <label for=\"firstnameHorizontalIcons\">Normal</label>\n      </v-col>\n\n      <v-col\n        cols=\"7\"\n        md=\"7\"\n      >\n      <v-select\n          :items=\"normallist\"\n          v-model=\"accountData.normal\"\n          filled\n          label=\"Filled style\"\n        ></v-select>\n      </v-col>\n\n      <v-col\n        cols=\"4\"\n        md=\"3\"\n      >\n      </v-col>\n\n      <v-col\n        cols=\"7\"\n        md=\"7\"\n      >\n        <v-checkbox\n          v-model=\"accountData.is_active\"\n          label=\"Active\"\n          :error-messages=\"errors.is_active\"\n          hide-details=\"auto\"\n          class=\"me-3 mt-1\"\n        >\n        </v-checkbox>\n      </v-col>\n      <v-col\n        offset-md=\"3\"\n        cols=\"12\"\n      >\n        <v-btn\n          color=\"primary\"\n          @click=\"submit\"\n        >\n          Submit\n        </v-btn>\n        <v-btn\n          type=\"reset\"\n          outlined\n          class=\"mx-2\"\n          @click=\"cancel\"\n        >\n          Cancel\n        </v-btn>\n      </v-col>\n    </v-row>\n  </v-form>\n</template>\n\n<script>\nimport {\n  toRef,\n  computed,\n  ref, watch,\n} from '@vue/composition-api/dist/vue-composition-api'\nimport store from '@/store'\n\nexport default {\n  props: {\n    mode: {\n      type: String,\n      required: true,\n      default: null,\n    },\n    document: {\n      type: Object,\n      required: false,\n      default: null,\n    },\n  },\n  setup(props, { emit }) {\n    const documentProp = toRef(props, 'document')\n\n    const typelist = [\n      'Accounts Receivable',\n      'Accounts Payable',\n      'Bank',\n      'Cash',\n      'Fixed Asset',\n      'Cost of Goods Sold',\n      'Income',\n      'Expenses',\n      'Other Income',\n      'Other Expenses',\n    ];\n\n    const normallist = [\n      'C',\n      'D',\n    ];\n\n    const accountData = ref({\n      account_code: null,\n      account_title: null,\n      type: null,\n      normal: null,\n      is_active: false,\n    })\n\n    if (props.mode === 'edit') {\n      accountData.value = documentProp.value\n\n      if (accountData.value.is_active === 'Inactive') {\n        accountData.value.is_active = 0\n      } else {\n        accountData.value.is_active = 1\n      }\n    }\n\n    watch(documentProp, value => {\n      if (props.mode === 'edit') {\n        accountData.value = documentProp.value\n\n        if (accountData.value.is_active === 'Inactive') {\n          accountData.value.is_active = 0\n        } else {\n          accountData.value.is_active = 1\n        }\n      } else {\n        accountData.value = {\n          account_code: null,\n          account_title: null,\n          type: null,\n          normal: null,\n          is_active: false,\n        }\n      }\n    })\n\n    const errors = computed(() => store.state.AccountStore.errors)\n\n    const cancel = () => {\n      emit('clicked', false)\n    }\n\n    const submit = () => {\n      if (accountData.value.id === undefined) {\n        store.dispatch('AccountStore/create', accountData.value).then(\n          response => {\n            if (response.status === undefined) {\n              emit('clicked', {\n                alertType: 'success',\n                alertMessage: 'Successfully Added an Account.',\n              })\n              store.dispatch('AccountStore/list')\n            }\n          },\n        )\n      } else {\n        store.dispatch('AccountStore/update', accountData.value).then(\n          response => {\n            if (response.status === undefined) {\n              emit('clicked', {\n                alertType: 'success',\n                alertMessage: 'Successfully updated a Document.',\n              })\n              store.dispatch('AccountStore/list')\n            }\n          },\n        )\n      }\n    }\n\n    return {\n      cancel,\n      errors,\n      accountData,\n      submit,\n      typelist,\n      normallist,\n    }\n  },\n  computed: {\n  },\n  methods: {\n  },\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}