{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/thread-loader/dist/cjs.js!/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js!/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/projects/enco-fe/src/views/pages/purchase-orders/purchase-order/PurchaseOrderApprove.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/views/pages/purchase-orders/purchase-order/PurchaseOrderApprove.vue","mtime":1659098301272},{"path":"/Users/mark/projects/enco-fe/babel.config.js","mtime":1655991784146},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/thread-loader/dist/cjs.js","mtime":1650363913040},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1652172763063},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js","mtime":1650363919730}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgY29tcHV0ZWQsIHJlZiwgd2F0Y2ggfSBmcm9tICdAdnVlL2NvbXBvc2l0aW9uLWFwaSc7CmltcG9ydCByb3V0ZXIgZnJvbSAnQC9yb3V0ZXInOwppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZSc7CmltcG9ydCB7IEFQUFJPVkVfUFVSQ0hBU0VfT1JERVIsIEdFVF9DVVNUT01FUiwgR0VUX1BVUkNIQVNFX09SREVSIH0gZnJvbSAnQC9zdG9yZS9hY3Rpb25zLnR5cGUnOwppbXBvcnQgeyBvbk1vdW50ZWQgfSBmcm9tICJAdnVlL2NvbXBvc2l0aW9uLWFwaS9kaXN0L3Z1ZS1jb21wb3NpdGlvbi1hcGkiOwppbXBvcnQgQ3VzdG9tZXJzU2VydmljZSBmcm9tICJAL3V0aWxzL3NlcnZpY2VzL2N1c3RvbWVycy5zZXJ2aWNlIjsKaW1wb3J0IFB1cmNoYXNlT3JkZXJzU2VydmljZSBmcm9tICJAL3V0aWxzL3NlcnZpY2VzL3B1cmNoYXNlLW9yZGVycy5zZXJ2aWNlIjsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICBpbmZvcm1hdGlvbkRhdGE6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgZnhfbnVtYmVyOiAnJywKICAgICAgICAgIGV0YTogJycKICAgICAgICB9OwogICAgICB9CiAgICB9CiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAocHJvcHMpIHsKICAgIHZhciBlcnJvcnMgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBzdG9yZS5nZXR0ZXJzLmVycm9yczsKICAgIH0pOwogICAgdmFyIG9wdGlvbnNMb2NhbCA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHByb3BzLmluZm9ybWF0aW9uRGF0YTsKICAgIH0pOwogICAgdmFyIHNob3dBbGVydCA9IHJlZihmYWxzZSk7CiAgICBzdG9yZS5kaXNwYXRjaChHRVRfUFVSQ0hBU0VfT1JERVIsIHJvdXRlci5oaXN0b3J5LmN1cnJlbnQucGFyYW1zLmlkKTsKCiAgICB2YXIgZ29CYWNrID0gZnVuY3Rpb24gZ29CYWNrKCkgewogICAgICByb3V0ZXIucHVzaCgnL3B1cmNoYXNlLW9yZGVycycpOwogICAgfTsKCiAgICB2YXIgcmVzb2x2ZUZvcm1TdWNjZXNzID0gZnVuY3Rpb24gcmVzb2x2ZUZvcm1TdWNjZXNzKCkgewogICAgICBzaG93QWxlcnQudmFsdWUgPSB0cnVlOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBnb0JhY2soKTsKICAgICAgfSwgNTAwMCk7CiAgICB9OwoKICAgIHZhciBzYXZlID0gZnVuY3Rpb24gc2F2ZSgpIHsKICAgICAgdmFyIGN1cnJlbnRGb3JtID0gb3B0aW9uc0xvY2FsLnZhbHVlOwogICAgICBjdXJyZW50Rm9ybS5pZCA9IHJvdXRlci5oaXN0b3J5LmN1cnJlbnQucGFyYW1zLmlkOwogICAgICBzdG9yZS5kaXNwYXRjaChBUFBST1ZFX1BVUkNIQVNFX09SREVSLCBjdXJyZW50Rm9ybSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIGlmIChkYXRhICE9IG51bGwpIHsKICAgICAgICAgIHJlc29sdmVGb3JtU3VjY2VzcygpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIG9wdGlvbnNMb2NhbDogb3B0aW9uc0xvY2FsLAogICAgICBnb0JhY2s6IGdvQmFjaywKICAgICAgc2F2ZTogc2F2ZSwKICAgICAgc2hvd0FsZXJ0OiBzaG93QWxlcnQsCiAgICAgIGVycm9yczogZXJyb3JzCiAgICB9OwogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA;AACA;AACA;AACA,SACAA,sBADA,EACAC,YADA,EACAC,kBADA,QAEA,sBAFA;AAGA;AACA;AACA;AAEA;EACAC;IACAC;MACAC,YADA;MAEAC;QAAA;UACAC,aADA;UAEAC;QAFA;MAAA;IAFA;EADA,CADA;EAUAC,KAVA,iBAUAN,KAVA,EAUA;IACA;MAAA;IAAA;IACA;MAAA;IAAA;IACA;IAEAO;;IAEA;MACAC;IACA,CAFA;;IAIA;MACAC;MACAC;QACAC;MACA,CAFA,EAEA,IAFA;IAGA,CALA;;IAOA;MACA;MACAC;MAEAL;QACA;UACAM;QACA;MACA,CAJA;IAKA,CATA;;IAWA;MACAC,0BADA;MAEAH,cAFA;MAGAI,UAHA;MAIAN,oBAJA;MAKAO;IALA;EAOA;AA9CA","names":["APPROVE_PURCHASE_ORDER","GET_CUSTOMER","GET_PURCHASE_ORDER","props","informationData","type","default","fx_number","eta","setup","store","router","showAlert","setTimeout","goBack","currentForm","resolveFormSuccess","optionsLocal","save","errors"],"sourceRoot":"src/views/pages/purchase-orders/purchase-order","sources":["PurchaseOrderApprove.vue"],"sourcesContent":["<template>\n  <v-card\n    flat\n    class=\"pa-3 mt-2\"\n  >\n    <v-alert\n      v-show=\"showAlert\"\n      dense\n      text\n      type=\"success\"\n    >\n      Successfully <strong>approved</strong> a purchase order. You will be automatically\n      redirected in a bit.\n    </v-alert>\n    <v-form class=\"multi-col-validation\">\n      <v-card-text class=\"pt-5\">\n        <v-row>\n          <v-col\n            cols=\"12\"\n          >\n            <v-text-field\n              v-model=\"optionsLocal.fx_number\"\n              outlined\n              dense\n              label=\"FX Number\"\n              :readonly=\"mode === 'show'\"\n              hide-details=\"auto\"\n              :persistent-placeholder=\"mode === 'show'\"\n            ></v-text-field>\n          </v-col>\n          <v-col cols=\"6\">\n            <v-text-field\n              v-model=\"optionsLocal.eta\"\n              outlined\n              dense\n              label=\"ETA (WORK IN PROGRESS)\"\n              :readonly=\"mode === 'show'\"\n              hide-details=\"auto\"\n              :persistent-placeholder=\"mode === 'show'\"\n            ></v-text-field>\n          </v-col>\n        </v-row>\n      </v-card-text>\n\n      <v-card-text>\n        <v-btn\n          outlined\n          class=\"mt-3 mr-3\"\n          color=\"primary\"\n          @click=\"save\"\n        >\n          Approve\n        </v-btn>\n        <v-btn\n          outlined\n          class=\"mt-3\"\n          type=\"reset\"\n          @click.prevent=\"goBack\"\n        >\n          Back to List\n        </v-btn>\n      </v-card-text>\n    </v-form>\n  </v-card>\n</template>\n\n<script>\nimport {computed, ref, watch} from '@vue/composition-api'\nimport router from '@/router'\nimport store from '@/store'\nimport {\n  APPROVE_PURCHASE_ORDER, GET_CUSTOMER, GET_PURCHASE_ORDER,\n} from '@/store/actions.type'\nimport {onMounted} from \"@vue/composition-api/dist/vue-composition-api\";\nimport CustomersService from \"@/utils/services/customers.service\";\nimport PurchaseOrdersService from \"@/utils/services/purchase-orders.service\";\n\nexport default {\n  props: {\n    informationData: {\n      type: Object,\n      default: () => ({\n        fx_number: '',\n        eta: '',\n      }),\n    },\n  },\n  setup(props) {\n    const errors = computed(() => store.getters.errors)\n    const optionsLocal = computed(() => props.informationData)\n    const showAlert = ref(false)\n\n    store.dispatch(GET_PURCHASE_ORDER, router.history.current.params.id)\n\n    const goBack = () => {\n      router.push('/purchase-orders')\n    }\n\n    const resolveFormSuccess = () => {\n      showAlert.value = true\n      setTimeout(() => {\n        goBack()\n      }, 5000)\n    }\n\n    const save = () => {\n      const currentForm = optionsLocal.value\n      currentForm.id = router.history.current.params.id\n\n      store.dispatch(APPROVE_PURCHASE_ORDER, currentForm).then(data => {\n        if (data != null) {\n          resolveFormSuccess()\n        }\n      })\n    }\n\n    return {\n      optionsLocal,\n      goBack,\n      save,\n      showAlert,\n      errors,\n    }\n  }\n  ,\n}\n</script>\n"]}]}