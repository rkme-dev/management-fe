{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js!/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/projects/enco-fe/src/views/pages/warehouse/raw-materials-release/ReleaseForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/views/pages/warehouse/raw-materials-release/ReleaseForm.vue","mtime":1659636478671},{"path":"/Users/mark/projects/enco-fe/babel.config.js","mtime":1655991784146},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1652172763063},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js","mtime":1650363919730}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbi5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IHJlZiwgY29tcHV0ZWQsIG9uTW91bnRlZCwgd2F0Y2ggfSBmcm9tICdAdnVlL2NvbXBvc2l0aW9uLWFwaSc7CmltcG9ydCB7IG1kaUFjY2Vzc1BvaW50Q2hlY2ssIG1kaUFjY291bnRPdXRsaW5lLCBtZGlQdXp6bGUsIG1kaUNhbGVuZGFyLCBtZGlDZWxscGhvbmUsIG1kaUVtYWlsT3V0bGluZSwgbWRpRXllLCBtZGlFeWVPZmYsIG1kaUdlbmRlck5vbkJpbmFyeSwgbWRpR3JvdXAsIG1kaUhvbWVGbG9vcjAsIG1kaUhvbWVQbHVzLCBtZGlIdW1hbkVkaXQsIG1kaUlkQ2FyZCwgbWRpSWRlbnRpZmllciwgbWRpTGlzdFN0YXR1cywgbWRpTG9ja091dGxpbmUsIG1kaU9yaWdpbiwgbWRpT3V0ZG9vckxhbXAsIG1kaVBhY2thZ2UsIG1kaVBsdXNCb3hPdXRsaW5lLCBtZGlWaWV3TGlzdCB9IGZyb20gJ0BtZGkvanMnOwppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZSc7CmltcG9ydCByb3V0ZXIgZnJvbSAnQC9yb3V0ZXInOwppbXBvcnQgUmF3TWF0ZXJpYWxBZGRTZWxlY3RvciBmcm9tICdAL3ZpZXdzL3BhZ2VzL3dhcmVob3VzZS9yYXctbWF0ZXJpYWxzLXJlbGVhc2UvY29tcG9uZW50cy9SYXdNYXRlcmlhbEFkZFNlbGVjdG9yLnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUmVsZWFzZUZvcm0nLAogIGNvbXBvbmVudHM6IHsKICAgIFJhd01hdGVyaWFsQWRkU2VsZWN0b3I6IFJhd01hdGVyaWFsQWRkU2VsZWN0b3IKICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHZhciByZWxlYXNlRm9ybSA9IHJlZih7CiAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgdG90YWxfYm94ZXM6ICcnLAogICAgICB0b3RhbF9waWVjZXM6ICcnLAogICAgICBpdGVtOiAnJwogICAgfSk7CiAgICB2YXIgc2VsZWN0ZWRQcm9kdWN0ID0gcmVmKCcnKTsKICAgIHZhciBzZWxlY3RlZFByb2R1Y3RJZHMgPSByZWYoW10pOwogICAgdmFyIGF0dGFjaGVkUHJvZHVjdHMgPSByZWYoW3sKICAgICAgcHJvZHVjdF9pZDogJycsCiAgICAgIHRvdGFsX3BpZWNlczogJycsCiAgICAgIHRvdGFsX2JveGVzOiAnJwogICAgfV0pOwogICAgdmFyIHByb2R1Y3REcm9wZG93biA9IHJlZihbXSk7CiAgICB2YXIgcHJvZHVjdHMgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBzdG9yZS5zdGF0ZS5SZWxlYXNlT3JkZXJTdG9yZS5yYXdNYXRlcmlhbHM7CiAgICB9KTsKICAgIHZhciBlcnJvcnMgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBzdG9yZS5zdGF0ZS5Vc2VyQWNjZXNzTWFuYWdlbWVudFN0b3JlLmVycm9yczsKICAgIH0pOwoKICAgIHZhciB2YWxpZGF0ZVNlbGVjdGVkUHJvZHVjdCA9IGZ1bmN0aW9uIHZhbGlkYXRlU2VsZWN0ZWRQcm9kdWN0KCkgewogICAgICBwcm9kdWN0RHJvcGRvd24udmFsdWUgPSBwcm9kdWN0RHJvcGRvd24udmFsdWUubWFwKGZ1bmN0aW9uIChwcm9kdWN0KSB7CiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduCiAgICAgICAgcHJvZHVjdC5kaXNhYmxlZCA9IHNlbGVjdGVkUHJvZHVjdElkcy52YWx1ZS5pbmNsdWRlcyhwcm9kdWN0LmlkKTsKICAgICAgICByZXR1cm4gcHJvZHVjdDsKICAgICAgfSk7CiAgICB9OwoKICAgIHZhciBhcnJheUNvbHVtbiA9IGZ1bmN0aW9uIGFycmF5Q29sdW1uKGFycmF5LCBjb2x1bW4pIHsKICAgICAgcmV0dXJuIGFycmF5Lm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtW2NvbHVtbl07CiAgICAgIH0pOwogICAgfTsKCiAgICB2YXIgaGFuZGxlUmVtb3ZlUHJvZHVjdFJvdyA9IGZ1bmN0aW9uIGhhbmRsZVJlbW92ZVByb2R1Y3RSb3coaW5kZXgpIHsKICAgICAgaWYgKGF0dGFjaGVkUHJvZHVjdHMudmFsdWUubGVuZ3RoID09PSAxKSB7CiAgICAgICAgYXR0YWNoZWRQcm9kdWN0cy52YWx1ZSA9IFt7CiAgICAgICAgICBwcm9kdWN0X2lkOiAnJywKICAgICAgICAgIHRvdGFsX3BpZWNlczogJycsCiAgICAgICAgICB0b3RhbF9ib3hlczogJycKICAgICAgICB9XTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGF0dGFjaGVkUHJvZHVjdHMudmFsdWUuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgc2VsZWN0ZWRQcm9kdWN0SWRzLnZhbHVlID0gYXJyYXlDb2x1bW4oYXR0YWNoZWRQcm9kdWN0cy52YWx1ZSwgJ3Byb2R1Y3RfaWQnKTsKICAgICAgdmFsaWRhdGVTZWxlY3RlZFByb2R1Y3QoKTsKICAgIH07CgogICAgdmFyIGhhbmRsZUFkZFByb2R1Y3RSb3cgPSBmdW5jdGlvbiBoYW5kbGVBZGRQcm9kdWN0Um93KCkgewogICAgICBzZWxlY3RlZFByb2R1Y3RJZHMudmFsdWUgPSBhcnJheUNvbHVtbihhdHRhY2hlZFByb2R1Y3RzLnZhbHVlLCAncHJvZHVjdF9pZCcpOwoKICAgICAgaWYgKHNlbGVjdGVkUHJvZHVjdElkcy52YWx1ZVswXSA9PT0gJycpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGF0dGFjaGVkUHJvZHVjdHMudmFsdWUucHVzaCh7CiAgICAgICAgcHJvZHVjdF9pZDogJycsCiAgICAgICAgdG90YWxfcGllY2VzOiAnJywKICAgICAgICB0b3RhbF9ib3hlczogJycKICAgICAgfSk7CiAgICAgIHZhbGlkYXRlU2VsZWN0ZWRQcm9kdWN0KCk7CiAgICB9OwoKICAgIHdhdGNoKHByb2R1Y3RzLCBmdW5jdGlvbiAoKSB7CiAgICAgIHByb2R1Y3REcm9wZG93bi52YWx1ZSA9IHByb2R1Y3RzLnZhbHVlOwogICAgfSwgewogICAgICBpbW1lZGlhdGU6IHRydWUKICAgIH0pOwogICAgb25Nb3VudGVkKGZ1bmN0aW9uICgpIHsKICAgICAgc3RvcmUuZGlzcGF0Y2goJ1JlbGVhc2VPcmRlclN0b3JlL2dldFJhd01hdGVyaWFscycpOwogICAgfSk7CgogICAgdmFyIHN1Ym1pdCA9IGZ1bmN0aW9uIHN1Ym1pdCgpIHsKICAgICAgdmFyIHJhd01hdGVyaWFscyA9IFtdOwogICAgICBhdHRhY2hlZFByb2R1Y3RzLnZhbHVlLmZvckVhY2goZnVuY3Rpb24gKHByb2R1Y3QpIHsKICAgICAgICBpZiAocHJvZHVjdC5wcm9kdWN0X2lkICE9PSAnJykgewogICAgICAgICAgcmF3TWF0ZXJpYWxzLnB1c2gocHJvZHVjdCk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdmFyIGZvcm1EYXRhID0gewogICAgICAgIGRlc2NyaXB0aW9uOiByZWxlYXNlRm9ybS52YWx1ZS5kZXNjcmlwdGlvbiwKICAgICAgICByYXdfbWF0ZXJpYWxzOiByYXdNYXRlcmlhbHMKICAgICAgfTsKICAgICAgc3RvcmUuZGlzcGF0Y2goJ1JlbGVhc2VPcmRlclN0b3JlL2NyZWF0ZVJlbGVhc2VPcmRlcicsIGZvcm1EYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgcm91dGVyLnB1c2goJy9yYXctbWF0ZXJpYWxzLXJlbGVhc2UnKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfTsKCiAgICB2YXIgY2FuY2VsID0gZnVuY3Rpb24gY2FuY2VsKCkgewogICAgICByb3V0ZXIucHVzaCgnL3Jhdy1tYXRlcmlhbHMtcmVsZWFzZScpOwogICAgfTsKCiAgICByZXR1cm4gewogICAgICBoYW5kbGVSZW1vdmVQcm9kdWN0Um93OiBoYW5kbGVSZW1vdmVQcm9kdWN0Um93LAogICAgICBhdHRhY2hlZFByb2R1Y3RzOiBhdHRhY2hlZFByb2R1Y3RzLAogICAgICBoYW5kbGVBZGRQcm9kdWN0Um93OiBoYW5kbGVBZGRQcm9kdWN0Um93LAogICAgICBzZWxlY3RlZFByb2R1Y3Q6IHNlbGVjdGVkUHJvZHVjdCwKICAgICAgcHJvZHVjdERyb3Bkb3duOiBwcm9kdWN0RHJvcGRvd24sCiAgICAgIGNhbmNlbDogY2FuY2VsLAogICAgICBzdWJtaXQ6IHN1Ym1pdCwKICAgICAgZXJyb3JzOiBlcnJvcnMsCiAgICAgIHJlbGVhc2VGb3JtOiByZWxlYXNlRm9ybSwKICAgICAgcHJvZHVjdHM6IHByb2R1Y3RzLAogICAgICBpY29uczogewogICAgICAgIG1kaVB1enpsZTogbWRpUHV6emxlLAogICAgICAgIG1kaVZpZXdMaXN0OiBtZGlWaWV3TGlzdCwKICAgICAgICBtZGlQYWNrYWdlOiBtZGlQYWNrYWdlLAogICAgICAgIG1kaU91dGRvb3JMYW1wOiBtZGlPdXRkb29yTGFtcCwKICAgICAgICBtZGlHZW5kZXJOb25CaW5hcnk6IG1kaUdlbmRlck5vbkJpbmFyeSwKICAgICAgICBtZGlHcm91cDogbWRpR3JvdXAsCiAgICAgICAgbWRpQ2FsZW5kYXI6IG1kaUNhbGVuZGFyLAogICAgICAgIG1kaUFjY291bnRPdXRsaW5lOiBtZGlBY2NvdW50T3V0bGluZSwKICAgICAgICBtZGlQbHVzQm94T3V0bGluZTogbWRpUGx1c0JveE91dGxpbmUsCiAgICAgICAgbWRpRW1haWxPdXRsaW5lOiBtZGlFbWFpbE91dGxpbmUsCiAgICAgICAgbWRpQ2VsbHBob25lOiBtZGlDZWxscGhvbmUsCiAgICAgICAgbWRpQWNjZXNzUG9pbnRDaGVjazogbWRpQWNjZXNzUG9pbnRDaGVjaywKICAgICAgICBtZGlMb2NrT3V0bGluZTogbWRpTG9ja091dGxpbmUsCiAgICAgICAgbWRpSG9tZUZsb29yMDogbWRpSG9tZUZsb29yMCwKICAgICAgICBtZGlJZGVudGlmaWVyOiBtZGlJZGVudGlmaWVyLAogICAgICAgIG1kaUlkQ2FyZDogbWRpSWRDYXJkLAogICAgICAgIG1kaUhvbWVQbHVzOiBtZGlIb21lUGx1cywKICAgICAgICBtZGlMaXN0U3RhdHVzOiBtZGlMaXN0U3RhdHVzLAogICAgICAgIG1kaUh1bWFuRWRpdDogbWRpSHVtYW5FZGl0LAogICAgICAgIG1kaUV5ZTogbWRpRXllLAogICAgICAgIG1kaUV5ZU9mZjogbWRpRXllT2ZmLAogICAgICAgIG1kaU9yaWdpbjogbWRpT3JpZ2luCiAgICAgIH0KICAgIH07CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA,SACAA,GADA,EACAC,QADA,EACAC,SADA,EACAC,KADA,QAEA,sBAFA;AAGA,SACAC,mBADA,EAEAC,iBAFA,EAGAC,SAHA,EAIAC,WAJA,EAKAC,YALA,EAMAC,eANA,EAMAC,MANA,EAMAC,SANA,EAOAC,kBAPA,EAQAC,QARA,EASAC,aATA,EAUAC,WAVA,EAWAC,YAXA,EAYAC,SAZA,EAaAC,aAbA,EAcAC,aAdA,EAeAC,cAfA,EAeAC,SAfA,EAgBAC,cAhBA,EAiBAC,UAjBA,EAiBAC,iBAjBA,EAiBAC,WAjBA,QAkBA,SAlBA;AAmBA;AACA;AACA;AAEA;EACAC,mBADA;EAEAC;IACAC;EADA,CAFA;EAKAC,KALA,mBAKA;IACA;MACAC,eADA;MAEAC,eAFA;MAGAC,gBAHA;MAIAC;IAJA;IAOA;IACA;IACA,4BACA;MACAC,cADA;MAEAF,gBAFA;MAGAD;IAHA,CADA;IAQA;IAEA;MAAA;IAAA;IAEA;MAAA;IAAA;;IAEA;MACAI;QACA;QACAC;QAEA;MACA,CALA;IAMA,CAPA;;IASA;MAAA;QAAA;MAAA;IAAA;;IAEA;MACA;QACAC,0BACA;UACAH,cADA;UAEAF,gBAFA;UAGAD;QAHA,CADA;QAQA;MACA;;MAEAM;MAEAC;MAEAC;IACA,CAlBA;;IAoBA;MACAD;;MAEA;QACA;MACA;;MAEAD;QACAH,cADA;QAEAF,gBAFA;QAGAD;MAHA;MAMAQ;IACA,CAdA;;IAgBApC,MACAqC,QADA,EAEA;MACAL;IACA,CAJA,EAKA;MAAAM;IAAA,CALA;IAQAvC;MACAwC;IACA,CAFA;;IAIA;MACA;MAEAL;QACA;UACAM;QACA;MACA,CAJA;MAMA;QACAb,0CADA;QAEAc;MAFA;MAKAF,iEACAG,IADA,CAEA;QACA;UACAC;QACA;MACA,CANA;IAQA,CAtBA;;IAwBA;MACAA;IACA,CAFA;;IAIA;MACAC,8CADA;MAEAV,kCAFA;MAGAW,wCAHA;MAIAC,gCAJA;MAKAd,gCALA;MAMAe,cANA;MAOAC,cAPA;MAQAC,cARA;MASAC,wBATA;MAUAb,kBAVA;MAWAc;QACAhD,oBADA;QAEAmB,wBAFA;QAGAF,sBAHA;QAIAD,8BAJA;QAKAV,sCALA;QAMAC,kBANA;QAOAN,wBAPA;QAQAF,oCARA;QASAmB,oCATA;QAUAf,gCAVA;QAWAD,0BAXA;QAYAJ,wCAZA;QAaAgB,8BAbA;QAcAN,4BAdA;QAeAI,4BAfA;QAgBAD,oBAhBA;QAiBAF,wBAjBA;QAkBAI,4BAlBA;QAmBAH,0BAnBA;QAoBAN,cApBA;QAqBAC,oBArBA;QAsBAU;MAtBA;IAXA;EAoCA;AAxJA","names":["ref","computed","onMounted","watch","mdiAccessPointCheck","mdiAccountOutline","mdiPuzzle","mdiCalendar","mdiCellphone","mdiEmailOutline","mdiEye","mdiEyeOff","mdiGenderNonBinary","mdiGroup","mdiHomeFloor0","mdiHomePlus","mdiHumanEdit","mdiIdCard","mdiIdentifier","mdiListStatus","mdiLockOutline","mdiOrigin","mdiOutdoorLamp","mdiPackage","mdiPlusBoxOutline","mdiViewList","name","components","RawMaterialAddSelector","setup","description","total_boxes","total_pieces","item","product_id","productDropdown","product","attachedProducts","selectedProductIds","validateSelectedProduct","products","immediate","store","rawMaterials","raw_materials","then","router","handleRemoveProductRow","handleAddProductRow","selectedProduct","cancel","submit","errors","releaseForm","icons"],"sourceRoot":"src/views/pages/warehouse/raw-materials-release","sources":["ReleaseForm.vue"],"sourcesContent":["<template>\n  <v-card\n    id=\"raw-mats-release-form-card\"\n  >\n    <v-card-title>Raw Materials Release Form</v-card-title>\n    <v-form class=\"pa-3\">\n      <v-row>\n        <v-col\n          cols=\"12\"\n        >\n          <div\n            v-for=\"(item, index) in attachedProducts\"\n            :key=\"index\"\n          >\n            <raw-material-add-selector\n              :product-data=\"item\"\n              :product-dropdown=\"productDropdown\"\n              :item-number=\"index\"\n              @removeProductRow=\"handleRemoveProductRow\"\n              @addProductRow=\"handleAddProductRow\"\n            />\n          </div>\n        </v-col>\n\n        <v-col\n          cols=\"12\"\n          md=\"9\"\n        >\n          <v-textarea\n            id=\"description\"\n            v-model=\"releaseForm.description\"\n            outlined\n            rows=\"4\"\n            label=\"Description\"\n            :readonly=\"false\"\n            hide-details=\"auto\"\n            :prepend-inner-icon=\"icons.mdiViewList\"\n            :error-messages=\"errors.description\"\n            :persistent-placeholder=\"false\"\n          ></v-textarea>\n        </v-col>\n        <v-col cols=\"12\">\n          <v-btn\n            color=\"primary\"\n            class=\"me-3 mt-4\"\n            @click=\"submit\"\n          >\n            Submit\n          </v-btn>\n          <v-btn\n            color=\"error\"\n            outlined\n            class=\"me-3 mt-3\"\n            type=\"reset\"\n            @click.prevent=\"cancel\"\n          >\n            Cancel\n          </v-btn>\n        </v-col>\n      </v-row>\n    </v-form>\n  </v-card>\n</template>\n\n<script>\nimport {\n  ref, computed, onMounted, watch,\n} from '@vue/composition-api'\nimport {\n  mdiAccessPointCheck,\n  mdiAccountOutline,\n  mdiPuzzle,\n  mdiCalendar,\n  mdiCellphone,\n  mdiEmailOutline, mdiEye, mdiEyeOff,\n  mdiGenderNonBinary,\n  mdiGroup,\n  mdiHomeFloor0,\n  mdiHomePlus,\n  mdiHumanEdit,\n  mdiIdCard,\n  mdiIdentifier,\n  mdiListStatus,\n  mdiLockOutline, mdiOrigin,\n  mdiOutdoorLamp,\n  mdiPackage, mdiPlusBoxOutline, mdiViewList,\n} from '@mdi/js'\nimport store from '@/store'\nimport router from '@/router'\nimport RawMaterialAddSelector from '@/views/pages/warehouse/raw-materials-release/components/RawMaterialAddSelector.vue'\n\nexport default {\n  name: 'ReleaseForm',\n  components: {\n    RawMaterialAddSelector,\n  },\n  setup() {\n    const releaseForm = ref({\n      description: '',\n      total_boxes: '',\n      total_pieces: '',\n      item: '',\n    })\n\n    const selectedProduct = ref('')\n    const selectedProductIds = ref([])\n    const attachedProducts = ref([\n      {\n        product_id: '',\n        total_pieces: '',\n        total_boxes: '',\n      },\n    ])\n\n    const productDropdown = ref([])\n\n    const products = computed(() => store.state.ReleaseOrderStore.rawMaterials)\n\n    const errors = computed(() => store.state.UserAccessManagementStore.errors)\n\n    const validateSelectedProduct = () => {\n      productDropdown.value = productDropdown.value.map(product => {\n        // eslint-disable-next-line no-param-reassign\n        product.disabled = selectedProductIds.value.includes(product.id)\n\n        return product\n      })\n    }\n\n    const arrayColumn = (array, column) => array.map(item => item[column])\n\n    const handleRemoveProductRow = index => {\n      if (attachedProducts.value.length === 1) {\n        attachedProducts.value = [\n          {\n            product_id: '',\n            total_pieces: '',\n            total_boxes: '',\n          },\n        ]\n\n        return\n      }\n\n      attachedProducts.value.splice(index, 1)\n\n      selectedProductIds.value = arrayColumn(attachedProducts.value, 'product_id')\n\n      validateSelectedProduct()\n    }\n\n    const handleAddProductRow = () => {\n      selectedProductIds.value = arrayColumn(attachedProducts.value, 'product_id')\n\n      if (selectedProductIds.value[0] === '') {\n        return\n      }\n\n      attachedProducts.value.push({\n        product_id: '',\n        total_pieces: '',\n        total_boxes: '',\n      })\n\n      validateSelectedProduct()\n    }\n\n    watch(\n      products,\n      () => {\n        productDropdown.value = products.value\n      },\n      { immediate: true },\n    )\n\n    onMounted(() => {\n      store.dispatch('ReleaseOrderStore/getRawMaterials')\n    })\n\n    const submit = () => {\n      const rawMaterials = []\n\n      attachedProducts.value.forEach(product => {\n        if (product.product_id !== '') {\n          rawMaterials.push(product)\n        }\n      })\n\n      const formData = {\n        description: releaseForm.value.description,\n        raw_materials: rawMaterials,\n      }\n\n      store.dispatch('ReleaseOrderStore/createReleaseOrder', formData)\n        .then(\n          response => {\n            if (response.status === undefined) {\n              router.push('/raw-materials-release')\n            }\n          },\n        )\n    }\n\n    const cancel = () => {\n      router.push('/raw-materials-release')\n    }\n\n    return {\n      handleRemoveProductRow,\n      attachedProducts,\n      handleAddProductRow,\n      selectedProduct,\n      productDropdown,\n      cancel,\n      submit,\n      errors,\n      releaseForm,\n      products,\n      icons: {\n        mdiPuzzle,\n        mdiViewList,\n        mdiPackage,\n        mdiOutdoorLamp,\n        mdiGenderNonBinary,\n        mdiGroup,\n        mdiCalendar,\n        mdiAccountOutline,\n        mdiPlusBoxOutline,\n        mdiEmailOutline,\n        mdiCellphone,\n        mdiAccessPointCheck,\n        mdiLockOutline,\n        mdiHomeFloor0,\n        mdiIdentifier,\n        mdiIdCard,\n        mdiHomePlus,\n        mdiListStatus,\n        mdiHumanEdit,\n        mdiEye,\n        mdiEyeOff,\n        mdiOrigin,\n      },\n    }\n  },\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}