{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/thread-loader/dist/cjs.js!/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js!/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/projects/enco-fe/src/views/pages/user-access-management/abilities/AbilityListTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/views/pages/user-access-management/abilities/AbilityListTable.vue","mtime":1655984754174},{"path":"/Users/mark/projects/enco-fe/babel.config.js","mtime":1654585219618},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/thread-loader/dist/cjs.js","mtime":1650363913040},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1652172763063},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/vue-loader/lib/index.js","mtime":1650363919730}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL21hcmsvcHJvamVjdHMvZW5jby1mZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1kaUFjY291bnRFZGl0LCBtZGlEZWxldGVDaXJjbGUsIG1kaUV5ZUNpcmNsZSB9IGZyb20gJ0BtZGkvanMnOwppbXBvcnQgQWJpbGl0eUZvcm0gZnJvbSAnQC92aWV3cy9wYWdlcy91c2VyLWFjY2Vzcy1tYW5hZ2VtZW50L2FiaWxpdGllcy9BYmlsaXR5Rm9ybS52dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQWJpbGl0eUZvcm06IEFiaWxpdHlGb3JtCiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICByZXR1cm4gewogICAgICBpY29uczogewogICAgICAgIG1kaUFjY291bnRFZGl0OiBtZGlBY2NvdW50RWRpdCwKICAgICAgICBtZGlEZWxldGVDaXJjbGU6IG1kaURlbGV0ZUNpcmNsZSwKICAgICAgICBtZGlFeWVDaXJjbGU6IG1kaUV5ZUNpcmNsZQogICAgICB9CiAgICB9OwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRpYWxvZzogZmFsc2UsCiAgICAgIGRpYWxvZ0RlbGV0ZTogZmFsc2UsCiAgICAgIGhlYWRlcnM6IFt7CiAgICAgICAgdGV4dDogJ1RpdGxlJywKICAgICAgICBhbGlnbjogJ3N0YXJ0JywKICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICB2YWx1ZTogJ3RpdGxlJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ01vZHVsZScsCiAgICAgICAgdmFsdWU6ICdtb2R1bGUnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAnQWN0aW9uJywKICAgICAgICB2YWx1ZTogJ2FjdGlvbicKICAgICAgfSwgewogICAgICAgIHRleHQ6ICdWYWx1ZScsCiAgICAgICAgdmFsdWU6ICduYW1lJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ0RhdGUgQ3JlYXRlZCcsCiAgICAgICAgdmFsdWU6ICdjcmVhdGVkX2F0JwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ0FjdGlvbnMnLAogICAgICAgIHZhbHVlOiAnYWN0aW9ucycsCiAgICAgICAgc29ydGFibGU6IGZhbHNlCiAgICAgIH1dLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgZWRpdGVkSW5kZXg6IC0xLAogICAgICBlZGl0ZWRJdGVtOiB7CiAgICAgICAgaWQ6IDAsCiAgICAgICAgdGl0bGU6ICcnLAogICAgICAgIG5hbWU6ICcnLAogICAgICAgIGFjdGlvbjogJycsCiAgICAgICAgbW9kdWxlOiAnJywKICAgICAgICBpc19kaXNhYmxlZDogZmFsc2UKICAgICAgfSwKICAgICAgZGVmYXVsdEl0ZW06IHsKICAgICAgICBpZDogMCwKICAgICAgICB0aXRsZTogJycsCiAgICAgICAgbmFtZTogJycsCiAgICAgICAgYWN0aW9uOiAnJywKICAgICAgICBtb2R1bGU6ICcnLAogICAgICAgIGlzX2Rpc2FibGVkOiBmYWxzZQogICAgICB9CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGZvcm1UaXRsZTogZnVuY3Rpb24gZm9ybVRpdGxlKCkgewogICAgICByZXR1cm4gdGhpcy5lZGl0ZWRJbmRleCA9PT0gLTEgPyAnTmV3IEFiaWxpdHknIDogJ0VkaXQgQWJpbGl0eSc7CiAgICB9LAogICAgYWJpbGl0aWVzOiBmdW5jdGlvbiBhYmlsaXRpZXMoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5Vc2VyQWNjZXNzTWFuYWdlbWVudFN0b3JlLmFiaWxpdGllczsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBkaWFsb2c6IGZ1bmN0aW9uIGRpYWxvZyh2YWwpIHsKICAgICAgcmV0dXJuIHZhbCB8fCB0aGlzLmNsb3NlKCk7CiAgICB9LAogICAgZGlhbG9nRGVsZXRlOiBmdW5jdGlvbiBkaWFsb2dEZWxldGUodmFsKSB7CiAgICAgIHJldHVybiB2YWwgfHwgdGhpcy5jbG9zZURlbGV0ZSgpOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdVc2VyQWNjZXNzTWFuYWdlbWVudFN0b3JlL2dldEFiaWxpdGllcycpOwogIH0sCiAgbWV0aG9kczogewogICAgZWRpdEl0ZW06IGZ1bmN0aW9uIGVkaXRJdGVtKGl0ZW0pIHsKICAgICAgdGhpcy5lZGl0ZWRJbmRleCA9IHRoaXMuYWJpbGl0aWVzLmluZGV4T2YoaXRlbSk7CiAgICAgIHRoaXMuZWRpdGVkSXRlbSA9IF9vYmplY3RTcHJlYWQoe30sIGl0ZW0pOwogICAgICB0aGlzLmRpYWxvZyA9IHRydWU7CiAgICB9LAogICAgZGVsZXRlSXRlbTogZnVuY3Rpb24gZGVsZXRlSXRlbShpdGVtKSB7CiAgICAgIHRoaXMuZWRpdGVkSW5kZXggPSB0aGlzLmFiaWxpdGllcy5pbmRleE9mKGl0ZW0pOwogICAgICB0aGlzLmVkaXRlZEl0ZW0gPSBfb2JqZWN0U3ByZWFkKHt9LCBpdGVtKTsKICAgICAgdGhpcy5kaWFsb2dEZWxldGUgPSB0cnVlOwogICAgfSwKICAgIGRlbGV0ZUl0ZW1Db25maXJtOiBmdW5jdGlvbiBkZWxldGVJdGVtQ29uZmlybSgpIHsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ1VzZXJBY2Nlc3NNYW5hZ2VtZW50U3RvcmUvZGVsZXRlQWJpbGl0eScsIHRoaXMuYWJpbGl0aWVzW3RoaXMuZWRpdGVkSW5kZXhdKTsKICAgICAgdGhpcy5hYmlsaXRpZXMuc3BsaWNlKHRoaXMuZWRpdGVkSW5kZXgsIDEpOwogICAgICB0aGlzLmNsb3NlRGVsZXRlKCk7CiAgICB9LAogICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5kaWFsb2cgPSBmYWxzZTsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLmVkaXRlZEl0ZW0gPSBfb2JqZWN0U3ByZWFkKHt9LCBfdGhpcy5kZWZhdWx0SXRlbSk7CiAgICAgICAgX3RoaXMuZWRpdGVkSW5kZXggPSAtMTsKICAgICAgfSk7CiAgICB9LAogICAgY2xvc2VEZWxldGU6IGZ1bmN0aW9uIGNsb3NlRGVsZXRlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuZGlhbG9nRGVsZXRlID0gZmFsc2U7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIuZWRpdGVkSXRlbSA9IF9vYmplY3RTcHJlYWQoe30sIF90aGlzMi5kZWZhdWx0SXRlbSk7CiAgICAgICAgX3RoaXMyLmVkaXRlZEluZGV4ID0gLTE7CiAgICAgIH0pOwogICAgfSwKICAgIHNhdmU6IGZ1bmN0aW9uIHNhdmUoKSB7CiAgICAgIGlmICh0aGlzLmVkaXRlZEluZGV4ID4gLTEpIHsKICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuYWJpbGl0aWVzW3RoaXMuZWRpdGVkSW5kZXhdLCB0aGlzLmVkaXRlZEl0ZW0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYWJpbGl0aWVzLnB1c2godGhpcy5lZGl0ZWRJdGVtKTsKICAgICAgfQoKICAgICAgdGhpcy5jbG9zZSgpOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2GA;AACA;AAEA;EACAA;IACAC;EADA,CADA;EAIAC,KAJA,mBAIA;IACA;MACAC;QACAC,8BADA;QAEAC,gCAFA;QAGAC;MAHA;IADA;EAOA,CAZA;EAaAC;IAAA;MACAC,aADA;MAEAC,mBAFA;MAGAC,UACA;QACAC,aADA;QAEAC,cAFA;QAGAC,cAHA;QAIAC;MAJA,CADA,EAOA;QAAAH;QAAAG;MAAA,CAPA,EAQA;QAAAH;QAAAG;MAAA,CARA,EASA;QAAAH;QAAAG;MAAA,CATA,EAUA;QAAAH;QAAAG;MAAA,CAVA,EAWA;QAAAH;QAAAG;QAAAD;MAAA,CAXA,CAHA;MAgBAE,cAhBA;MAiBAC,eAjBA;MAkBAC;QACAC,KADA;QAEAC,SAFA;QAGAC,QAHA;QAIAC,UAJA;QAKAC,UALA;QAMAC;MANA,CAlBA;MA0BAC;QACAN,KADA;QAEAC,SAFA;QAGAC,QAHA;QAIAC,UAJA;QAKAC,UALA;QAMAC;MANA;IA1BA;EAAA,CAbA;EAiDAE;IACAC,SADA,uBACA;MACA;IACA,CAHA;IAIAC,SAJA,uBAIA;MACA;IACA;EANA,CAjDA;EA0DAC;IACApB,MADA,kBACAqB,GADA,EACA;MACA;IACA,CAHA;IAIApB,YAJA,wBAIAoB,GAJA,EAIA;MACA;IACA;EANA,CA1DA;EAmEAC,OAnEA,qBAmEA;IACA;EACA,CArEA;EAuEAC;IACAC,QADA,oBACAC,IADA,EACA;MACA;MACA;MACA;IACA,CALA;IAOAC,UAPA,sBAOAD,IAPA,EAOA;MACA;MACA;MACA;IACA,CAXA;IAaAE,iBAbA,+BAaA;MACA;MACA;MACA;IACA,CAjBA;IAmBAC,KAnBA,mBAmBA;MAAA;;MACA;MACA;QACA;QACA;MACA,CAHA;IAIA,CAzBA;IA2BAC,WA3BA,yBA2BA;MAAA;;MACA;MACA;QACA;QACA;MACA,CAHA;IAIA,CAjCA;IAmCAC,IAnCA,kBAmCA;MACA;QACAC;MACA,CAFA,MAEA;QACA;MACA;;MACA;IACA;EA1CA;AAvEA","names":["components","AbilityForm","setup","icons","mdiAccountEdit","mdiDeleteCircle","mdiEyeCircle","data","dialog","dialogDelete","headers","text","align","sortable","value","loading","editedIndex","editedItem","id","title","name","action","module","is_disabled","defaultItem","computed","formTitle","abilities","watch","val","created","methods","editItem","item","deleteItem","deleteItemConfirm","close","closeDelete","save","Object"],"sourceRoot":"src/views/pages/user-access-management/abilities","sources":["AbilityListTable.vue"],"sourcesContent":["<template>\n  <v-data-table\n    :headers=\"headers\"\n    :items=\"abilities\"\n    sort-by=\"title\"\n    class=\"elevation-1\"\n    fixed-header\n  >\n    <template v-slot:top>\n      <v-toolbar\n        flat\n      >\n        <v-toolbar-title>Abilities</v-toolbar-title>\n        <v-divider\n          class=\"mx-4\"\n          inset\n          vertical\n        ></v-divider>\n        <v-spacer></v-spacer>\n        <v-dialog\n          v-model=\"dialog\"\n          max-width=\"500px\"\n        >\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-btn\n              color=\"primary\"\n              dark\n              class=\"mb-2\"\n              v-bind=\"attrs\"\n              v-on=\"on\"\n            >\n              New Ability\n            </v-btn>\n          </template>\n          <v-card>\n            <v-card-title>\n              <span class=\"headline\">{{ formTitle }}</span>\n            </v-card-title>\n\n            <v-card-text>\n              <ability-form\n                :id-prop=\"editedItem.id\"\n                :action-prop=\"editedItem.action\"\n                :module-prop=\"editedItem.module\"\n                :is-disabled-prop=\"editedItem.is_disabled\"\n                :title-prop=\"editedItem.title\"\n                @clicked=\"dialog=false\"\n              ></ability-form>\n            </v-card-text>\n          </v-card>\n        </v-dialog>\n        <v-dialog\n          v-model=\"dialogDelete\"\n          max-width=\"500px\"\n        >\n          <v-card>\n            <v-card-title>\n              Are you sure you want to delete this item?\n            </v-card-title>\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn\n                color=\"error\"\n                text\n                @click=\"closeDelete\"\n              >\n                Cancel\n              </v-btn>\n              <v-btn\n                color=\"success\"\n                text\n                @click=\"deleteItemConfirm\"\n              >\n                OK\n              </v-btn>\n              <v-spacer></v-spacer>\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n      </v-toolbar>\n    </template>\n    <template v-slot:item.actions=\"{ item }\">\n      <v-icon\n        small\n        class=\"mr-2\"\n        @click=\"editItem(item)\"\n      >\n        {{ icons.mdiEyeCircle }}\n      </v-icon>\n      <v-icon\n        small\n        @click=\"deleteItem(item)\"\n      >\n        {{ icons.mdiDeleteCircle }}\n      </v-icon>\n    </template>\n    <template v-slot:no-data>\n      <v-btn\n        color=\"primary\"\n      >\n        Refresh\n      </v-btn>\n    </template>\n  </v-data-table>\n</template>\n\n<script>\nimport { mdiAccountEdit, mdiDeleteCircle, mdiEyeCircle } from '@mdi/js'\nimport AbilityForm from '@/views/pages/user-access-management/abilities/AbilityForm.vue'\n\nexport default {\n  components: {\n    AbilityForm,\n  },\n  setup() {\n    return {\n      icons: {\n        mdiAccountEdit,\n        mdiDeleteCircle,\n        mdiEyeCircle,\n      },\n    }\n  },\n  data: () => ({\n    dialog: false,\n    dialogDelete: false,\n    headers: [\n      {\n        text: 'Title',\n        align: 'start',\n        sortable: true,\n        value: 'title',\n      },\n      { text: 'Module', value: 'module' },\n      { text: 'Action', value: 'action' },\n      { text: 'Value', value: 'name' },\n      { text: 'Date Created', value: 'created_at' },\n      { text: 'Actions', value: 'actions', sortable: false },\n    ],\n    loading: false,\n    editedIndex: -1,\n    editedItem: {\n      id: 0,\n      title: '',\n      name: '',\n      action: '',\n      module: '',\n      is_disabled: false,\n    },\n    defaultItem: {\n      id: 0,\n      title: '',\n      name: '',\n      action: '',\n      module: '',\n      is_disabled: false,\n    },\n  }),\n\n  computed: {\n    formTitle() {\n      return this.editedIndex === -1 ? 'New Ability' : 'Edit Ability'\n    },\n    abilities() {\n      return this.$store.state.UserAccessManagementStore.abilities\n    },\n  },\n\n  watch: {\n    dialog(val) {\n      return val || this.close()\n    },\n    dialogDelete(val) {\n      return val || this.closeDelete()\n    },\n  },\n\n  created() {\n    this.$store.dispatch('UserAccessManagementStore/getAbilities')\n  },\n\n  methods: {\n    editItem(item) {\n      this.editedIndex = this.abilities.indexOf(item)\n      this.editedItem = { ...item }\n      this.dialog = true\n    },\n\n    deleteItem(item) {\n      this.editedIndex = this.abilities.indexOf(item)\n      this.editedItem = { ...item }\n      this.dialogDelete = true\n    },\n\n    deleteItemConfirm() {\n      this.$store.dispatch('UserAccessManagementStore/deleteAbility', this.abilities[this.editedIndex])\n      this.abilities.splice(this.editedIndex, 1)\n      this.closeDelete()\n    },\n\n    close() {\n      this.dialog = false\n      this.$nextTick(() => {\n        this.editedItem = { ...this.defaultItem }\n        this.editedIndex = -1\n      })\n    },\n\n    closeDelete() {\n      this.dialogDelete = false\n      this.$nextTick(() => {\n        this.editedItem = { ...this.defaultItem }\n        this.editedIndex = -1\n      })\n    },\n\n    save() {\n      if (this.editedIndex > -1) {\n        Object.assign(this.abilities[this.editedIndex], this.editedItem)\n      } else {\n        this.abilities.push(this.editedItem)\n      }\n      this.close()\n    },\n  },\n}\n</script>\n"]}]}