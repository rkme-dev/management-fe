{"remainingRequest":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js!/Users/mark/projects/enco-fe/src/service/TokenService.js","dependencies":[{"path":"/Users/mark/projects/enco-fe/src/service/TokenService.js","mtime":1655104278577},{"path":"/Users/mark/projects/enco-fe/babel.config.js","mtime":1654585219618},{"path":"/Users/mark/projects/enco-fe/node_modules/cache-loader/dist/cjs.js","mtime":1650363912993},{"path":"/Users/mark/projects/enco-fe/node_modules/babel-loader/lib/index.js","mtime":1652172763063}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvVXNlcnMvbWFyay9wcm9qZWN0cy9lbmNvLWZlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcy5qcyI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL1VzZXJzL21hcmsvcHJvamVjdHMvZW5jby1mZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2suanMiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIi9Vc2Vycy9tYXJrL3Byb2plY3RzL2VuY28tZmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwoKdmFyIFRva2VuU2VydmljZSA9IC8qI19fUFVSRV9fKi9fY3JlYXRlQ2xhc3MoZnVuY3Rpb24gVG9rZW5TZXJ2aWNlKCkgewogIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUb2tlblNlcnZpY2UpOwoKICBfZGVmaW5lUHJvcGVydHkodGhpcywgImdldExvY2FsUmVmcmVzaFRva2VuIiwgZnVuY3Rpb24gKCkgewogICAgdmFyIHVzZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJykpOwogICAgcmV0dXJuIHVzZXIgPT09IG51bGwgfHwgdXNlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogdXNlci5yZWZyZXNoVG9rZW47CiAgfSk7CgogIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiZ2V0TG9jYWxBY2Nlc3NUb2tlbiIsIGZ1bmN0aW9uICgpIHsKICAgIHZhciB1c2VyID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcicpKTsKICAgIHJldHVybiB1c2VyID09PSBudWxsIHx8IHVzZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHVzZXIuYWNjZXNzVG9rZW47CiAgfSk7CgogIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAidXBkYXRlTG9jYWxBY2Nlc3NUb2tlbiIsIGZ1bmN0aW9uIChfcmVmKSB7CiAgICB2YXIgdG9rZW4gPSBfcmVmLnRva2VuOwogICAgdmFyIHVzZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJykpOwogICAgdXNlci5hY2Nlc3NUb2tlbiA9IHRva2VuOwogICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXInLCBKU09OLnN0cmluZ2lmeSh1c2VyKSk7CiAgfSk7CgogIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiZ2V0VXNlciIsIGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJykpOwogIH0pOwoKICBfZGVmaW5lUHJvcGVydHkodGhpcywgInNldFVzZXIiLCBmdW5jdGlvbiAodXNlcikgewogICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXInLCBKU09OLnN0cmluZ2lmeSh1c2VyKSk7CiAgfSk7CgogIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAicmVtb3ZlVXNlciIsIGZ1bmN0aW9uICgpIHsKICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VyJyk7CiAgfSk7Cn0pOwoKZXhwb3J0IGRlZmF1bHQgbmV3IFRva2VuU2VydmljZSgpOw=="},{"version":3,"names":["TokenService","user","JSON","parse","localStorage","getItem","refreshToken","accessToken","token","setItem","stringify","removeItem"],"sources":["/Users/mark/projects/enco-fe/src/service/TokenService.js"],"sourcesContent":["class TokenService {\n  getLocalRefreshToken = () => {\n    const user = JSON.parse(localStorage.getItem('user'))\n\n    return user?.refreshToken\n  }\n\n  getLocalAccessToken = () => {\n    const user = JSON.parse(localStorage.getItem('user'))\n\n    return user?.accessToken\n  }\n\n  updateLocalAccessToken = ({ token }) => {\n    const user = JSON.parse(localStorage.getItem('user'))\n    user.accessToken = token\n    localStorage.setItem('user', JSON.stringify(user))\n  }\n\n  getUser = () => JSON.parse(localStorage.getItem('user'))\n\n  setUser = user => {\n    localStorage.setItem('user', JSON.stringify(user))\n  }\n\n  removeUser = () => {\n    localStorage.removeItem('user')\n  }\n}\nexport default new TokenService()\n"],"mappings":";;;;;IAAMA,Y;;;gDACmB,YAAM;IAC3B,IAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb;IAEA,OAAOJ,IAAP,aAAOA,IAAP,uBAAOA,IAAI,CAAEK,YAAb;EACD,C;;+CAEqB,YAAM;IAC1B,IAAML,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb;IAEA,OAAOJ,IAAP,aAAOA,IAAP,uBAAOA,IAAI,CAAEM,WAAb;EACD,C;;kDAEwB,gBAAe;IAAA,IAAZC,KAAY,QAAZA,KAAY;IACtC,IAAMP,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb;IACAJ,IAAI,CAACM,WAAL,GAAmBC,KAAnB;IACAJ,YAAY,CAACK,OAAb,CAAqB,MAArB,EAA6BP,IAAI,CAACQ,SAAL,CAAeT,IAAf,CAA7B;EACD,C;;mCAES;IAAA,OAAMC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAN;EAAA,C;;mCAEA,UAAAJ,IAAI,EAAI;IAChBG,YAAY,CAACK,OAAb,CAAqB,MAArB,EAA6BP,IAAI,CAACQ,SAAL,CAAeT,IAAf,CAA7B;EACD,C;;sCAEY,YAAM;IACjBG,YAAY,CAACO,UAAb,CAAwB,MAAxB;EACD,C;;;AAEH,eAAe,IAAIX,YAAJ,EAAf"}]}